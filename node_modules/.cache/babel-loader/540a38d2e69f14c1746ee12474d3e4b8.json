{"remainingRequest":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js!/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js??ref--1-0!/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/manager/ManagerASWrite.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/manager/ManagerASWrite.vue","mtime":1732864530104},{"path":"/usr/vue/lezuro_all/babel.config.js","mtime":1728542743944},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IG1hbmFnZXJTdG9yZSB9IGZyb20gJy4uLy4uL3N0b3JlL21hbmFnZXJTdG9yZSc7IC8vIEFQSSDtmLjstpwKaW1wb3J0IE1hbmFnZXJIZWFkZXIgZnJvbSAnLi9NYW5hZ2VySGVhZGVyLnZ1ZSc7CmltcG9ydCBNYW5hZ2VyTmF2YmFyIGZyb20gIi4vTWFuYWdlck5hdmJhci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1hbmFnZXJBU1dyaXRlIiwKICBjb21wb25lbnRzOiB7CiAgICBNYW5hZ2VySGVhZGVyLAogICAgTWFuYWdlck5hdmJhcgogIH0sCiAgcHJvcHM6IFsiaWQiXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICIiLAogICAgICBjb250ZW50OiAiIiwKICAgICAgaXNFZGl0aW5nOiBmYWxzZQogICAgfTsKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBjb25zdCB7CiAgICAgIGlkCiAgICB9ID0gdGhpcy4kcm91dGUucXVlcnk7IC8vIHF1ZXJ57JeQ7IScIGlkIOy2lOy2nAoKICAgIGlmIChpZCkgewogICAgICB0aGlzLmlzRWRpdGluZyA9IHRydWU7IC8vIOyImOyglSDsg4Htg5zroZwg67OA6rK9CiAgICAgIGF3YWl0IHRoaXMubG9hZE5vdGljZURhdGEoaWQpOyAvLyDshJzrsoTsl5DshJwg642w7J207YSw66W8IOqwgOyguOyYtAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6riw7KG0IOuNsOydtO2EsCDroZzrk5wgKOyImOyglSDsi5wpCiAgICBhc3luYyBsb2FkQVNEYXRhKGlkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYW5hZ2VyU3RvcmUuZ2V0VGFzayhgYXMtcmVxdWVzdHMvJHt0aGlzLmlkfWApOwogICAgICAgIGNvbnNvbGUubG9nKCdhcyByZXNwb25zZScsIHJlc3BvbnNlKTsKICAgICAgICB0aGlzLnRpdGxlID0gcmVzcG9uc2UudGl0bGU7CiAgICAgICAgdGhpcy5jb250ZW50ID0gcmVzcG9uc2UuY29udGVudDsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLrjbDsnbTthLDrpbwg67aI65+s7Jik64qUIOuNsCDsi6TtjKjtlojsirXri4jri6Q6IiwgZXJyb3IpOwogICAgICAgIGFsZXJ0KCLrjbDsnbTthLDrpbwg67aI65+s7Jik7KeAIOuqu+2WiOyKteuLiOuLpC4iKTsKICAgICAgfQogICAgfSwKICAgIC8vIOuTseuhne2VmOq4sCDrsoTtirwg7YG066atIOyLnCDtmLjstpzrkJjripQg66mU7ISc65OcCiAgICBhc3luYyBzdWJtaXQoKSB7CiAgICAgIGlmICghdGhpcy50aXRsZSB8fCAhdGhpcy5jb250ZW50KSB7CiAgICAgICAgYWxlcnQoIuygnOuqqeqzvCDrgrTsmqnsnYQg7J6F66Cl7ZW07KO87IS47JqULiIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g66Gc7LusIOyKpO2GoOumrOyngOyXkOyEnCBtYW5hZ2VySW5mbyDqsIDsoLjsmKTquLAKICAgICAgY29uc3QgbWFuYWdlckluZm8gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtYW5hZ2VySW5mbycpKTsKICAgICAgY29uc29sZS5sb2coIm1hbmFnZXJJbmZvIDogOiA6ICIsIEpTT04uc3RyaW5naWZ5KG1hbmFnZXJJbmZvKSk7CiAgICAgIGNvbnN0IGJyYW5jaElkID0gbWFuYWdlckluZm8uaWQ7CiAgICAgIC8vIFBPU1Qg7JqU7LKt7Jy866GcIOuNsOydtO2EsOulvCDshJzrsoTsl5Ag7KCE7IahCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5jb250ZW50LAogICAgICAgIHN0YXR1czogIuygkeyImCIsCiAgICAgICAgLy8gbWFuYWdlcklkOiBwYXJzZUludChtYW5hZ2VySW5mby5pZCksCiAgICAgICAgbWFuYWdlcklkOiBtYW5hZ2VySW5mby5pZAogICAgICB9OwogICAgICB0cnkgewogICAgICAgIGlmICh0aGlzLmlzRWRpdGluZykgewogICAgICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsgLy8gVVJM7JeQ7IScIGlk66W8IOy2lOy2nAogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYW5hZ2VyU3RvcmUudXBkYXRlVGFzayhgYXMtcmVxdWVzdHMvJHtpZH1gLCBwYXJhbXMpOwogICAgICAgICAgY29uc29sZS5sb2coJ+yImOyglSBkYXRhJywgcGFyYW1zKTsKICAgICAgICAgIGFsZXJ0KCLsiJjsoJXsnbQg65CY7JeI7Iq164uI64ukIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWFuYWdlclN0b3JlLnBvc3RUYXNrKCJhcy1yZXF1ZXN0cyIsIHBhcmFtcyk7CiAgICAgICAgICBjb25zb2xlLmxvZygn65Ox66GdIGRhdGEnLCBwYXJhbXMpOwogICAgICAgICAgY29uc29sZS5sb2coIuuTseuhnSDshLHqs7U6IiwgcmVzcG9uc2UpOwogICAgICAgICAgYWxlcnQoIuuTseuhneydtCDrkJjsl4jsirXri4jri6QiKTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgcGF0aDogIi9tYW5hZ2VyYXMtbWFuYWdlbWVudCIKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLrk7HroZ0g7Iuk7YyoOiIsIGVycm9yKTsKICAgICAgICBhbGVydCgi65Ox66Gd7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4iKTsKICAgICAgfQogICAgfSwKICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvbWFuYWdlcmFzLW1hbmFnZW1lbnQiCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["managerStore","ManagerHeader","ManagerNavbar","name","components","props","data","title","content","isEditing","created","id","$route","query","loadNoticeData","methods","loadASData","response","getTask","console","log","error","alert","submit","managerInfo","JSON","parse","localStorage","getItem","stringify","branchId","params","description","status","managerId","updateTask","postTask","$router","replace","path","cancel","push"],"sources":["src/components/manager/ManagerASWrite.vue"],"sourcesContent":["<template>\r\n    <div class=\"all\">\r\n        <ManagerHeader />\r\n        <div class=\"wrap\">\r\n            <div class=\"as-container\">\r\n                <ManagerNavbar />\r\n                <div class=\"wrapper\">\r\n                    <div class=\"title-top pretendard-bold-normal-black-28px\">A/S 관리</div>\r\n                    <div class=\"content-wrap\">\r\n                        <div class=\"write-wrap\">\r\n                            <div class=\"title-box\">\r\n                                <div class=\"content-title valign-text-middle pretendard-medium-black-18px\">\r\n                                    제목\r\n                                </div>\r\n                                <input type=\"text\" class=\"frame-7281-8 pretendard-regular-normal-mine-shaft-16px\"\r\n                                    placeholder=\"제목을 입력해주세요\" v-model=\"title\">\r\n                            </div>\r\n                            <div class=\"content-box\">\r\n                                <div class=\"content-title valign-text-middle pretendard-medium-black-18px\">\r\n                                    내용\r\n                                </div>\r\n                                <input type=\"text\" class=\"frame-7281-9 pretendard-regular-normal-mine-shaft-16px\"\r\n                                    placeholder=\"내용을 입력해주세요\" v-model=\"content\">\r\n                            </div>\r\n                            <div class=\"button-container\">\r\n                                <button class=\"cancel-button pretendard-medium-white-18px\" @click=\"cancel\">취소하기</button>\r\n                                <button class=\"submit-button pretendard-medium-white-18px\" @click=\"submit\">{{ isEditing\r\n                                    ? \"수정하기\" :\r\n                                    \"등록하기\"\r\n                                    }}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { managerStore } from '../../store/managerStore';  // API 호출\r\nimport ManagerHeader from './ManagerHeader.vue';\r\nimport ManagerNavbar from \"./ManagerNavbar.vue\";\r\n\r\nexport default {\r\n    name: \"ManagerASWrite\",\r\n    components: {\r\n        ManagerHeader,\r\n        ManagerNavbar,\r\n    },\r\n    props: [\"id\"],\r\n    data() {\r\n        return {\r\n            title: \"\",\r\n            content: \"\",\r\n            isEditing: false,\r\n        };\r\n    },\r\n\r\n    async created() {\r\n        const { id } = this.$route.query; // query에서 id 추출\r\n\r\n        if (id) {\r\n            this.isEditing = true; // 수정 상태로 변경\r\n            await this.loadNoticeData(id); // 서버에서 데이터를 가져옴\r\n        }\r\n    },\r\n    methods: {\r\n        // 기존 데이터 로드 (수정 시)\r\n        async loadASData(id) {\r\n            try {\r\n                const response = await managerStore.getTask(`as-requests/${this.id}`);\r\n                console.log('as response', response)\r\n\r\n                this.title = response.title;\r\n                this.content = response.content;\r\n            } catch (error) {\r\n                console.error(\"데이터를 불러오는 데 실패했습니다:\", error);\r\n                alert(\"데이터를 불러오지 못했습니다.\");\r\n            }\r\n        },\r\n        // 등록하기 버튼 클릭 시 호출되는 메서드\r\n        async submit() {\r\n            if (!this.title || !this.content) {\r\n                alert(\"제목과 내용을 입력해주세요.\");\r\n                return;\r\n            }\r\n\r\n            // 로컬 스토리지에서 managerInfo 가져오기\r\n            const managerInfo = JSON.parse(localStorage.getItem('managerInfo'));\r\n            console.log(\"managerInfo : : : \" , JSON.stringify(managerInfo))\r\n\r\n            const branchId = managerInfo.id;\r\n            // POST 요청으로 데이터를 서버에 전송\r\n            const params = {\r\n                title: this.title,\r\n                description: this.content,\r\n                status: \"접수\",\r\n                // managerId: parseInt(managerInfo.id),\r\n                managerId: managerInfo.id,\r\n            };\r\n\r\n            try {\r\n                if (this.isEditing) {\r\n                    const id = this.$route.query.id; // URL에서 id를 추출\r\n                    const response = await managerStore.updateTask(`as-requests/${id}`, params);\r\n\r\n                    console.log('수정 data', params)\r\n                    alert(\"수정이 되었습니다\");\r\n\r\n                } else {\r\n                    const response = await managerStore.postTask(\"as-requests\", params);\r\n\r\n                    console.log('등록 data', params)\r\n                    console.log(\"등록 성공:\", response);\r\n                    alert(\"등록이 되었습니다\");\r\n                }\r\n\r\n                this.$router.replace({ path: \"/manageras-management\" });\r\n            } catch (error) {\r\n                console.error(\"등록 실패:\", error);\r\n                alert(\"등록에 실패했습니다.\");\r\n            }\r\n        },\r\n        cancel() {\r\n            this.$router.push({ path: \"/manageras-management\" });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n.as-container {\r\n    display: flex;\r\n    height: 100%;\r\n    flex-direction: row;\r\n    background: #f5f6f6;\r\n}\r\n\r\n.title-top {\r\n    background-color: #fff;\r\n    padding: 30px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.wrapper {\r\n    flex-grow: 1;\r\n    /* 나머지 공간을 차지하게 함 */\r\n    padding: 30px;\r\n    gap: 20px;\r\n}\r\n\r\n.title {\r\n    padding: 44px 13.5%;\r\n    padding-top: 104px;\r\n}\r\n\r\n.button-container {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 10px;\r\n    margin-top: 50px;\r\n}\r\n\r\n.cancel-button,\r\n.submit-button {\r\n    width: 200px;\r\n    padding: 18.5px;\r\n    border: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.cancel-button {\r\n    background-color: #999;\r\n}\r\n\r\n.submit-button {\r\n    background-color: #184199;\r\n    color: white;\r\n}\r\n\r\n.frame-7782-1 {\r\n    margin-bottom: 140px;\r\n}\r\n\r\n\r\n.contact-write {\r\n    width: 100%;\r\n}\r\n\r\n.write-wrap {\r\n    width: 100%;\r\n}\r\n\r\n.title {\r\n    padding: 104px 13.5%;\r\n    padding-bottom: 44px;\r\n}\r\n\r\n.cancel-btn {\r\n    align-items: center;\r\n    background-color: var(--mountain-mist);\r\n    display: flex;\r\n    gap: 10px;\r\n    height: 50px;\r\n    justify-content: center;\r\n    padding: 18px 66px;\r\n    position: relative;\r\n    width: 150px;\r\n    border: none;\r\n    border-radius: 7px;\r\n}\r\n\r\n.frame-7923-3 {\r\n    border: none;\r\n    border-radius: 7px;\r\n}\r\n\r\n.content-title {\r\n    display: flex;\r\n    gap: 10px;\r\n    position: relative;\r\n    width: 150px;\r\n}\r\n\r\n.title-box,\r\n.content-box {\r\n    align-items: center;\r\n    align-self: stretch;\r\n    border-bottom-style: solid;\r\n    border-bottom-width: 1px;\r\n    border-color: var(--celeste);\r\n    border-top-style: solid;\r\n    border-top-width: 1px;\r\n    display: flex;\r\n    flex: 0 0 auto;\r\n    padding: 20px 20px 20px 0px;\r\n    position: relative;\r\n    width: 100%;\r\n}\r\n\r\n.content-box {\r\n    border: none;\r\n}\r\n\r\ninput::placeholder {\r\n    color: #999;\r\n}\r\n\r\n.frame-7281-8 {\r\n    background-color: #fafafa;\r\n    padding: 20px;\r\n    width: 100%;\r\n    border: 0.5px solid #ddd;\r\n}\r\n\r\n.frame-7281-9 {\r\n    background-color: #fafafa;\r\n    padding: 20px;\r\n    width: 100%;\r\n    border: 0.5px solid #ddd;\r\n    height: 200px;\r\n}\r\n\r\n.write-wrap {\r\n    border: 1px solid #dddddd;\r\n    padding: 40px;\r\n}\r\n\r\n.content-wrap {\r\n    align-items: center;\r\n    display: flex;\r\n    gap: 10px;\r\n    padding: 30px;\r\n    position: relative;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.img-pick {\r\n    align-items: center;\r\n    background-color: var(--hint-of-red);\r\n    border: 0.5px solid;\r\n    border-color: var(--celeste);\r\n    display: flex;\r\n    gap: 10px;\r\n    height: 55px;\r\n    width: 100%;\r\n    padding: 0px 20px;\r\n    position: relative;\r\n}\r\n\r\n.img-pick label {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 10px;\r\n}\r\n</style>\r\n<style scoped src=\"@/style/cs/noticewrite.css\"></style>"],"mappings":";AAwCA,SAAAA,YAAA;AACA,OAAAC,aAAA;AACA,OAAAC,aAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH,aAAA;IACAC;EACA;EACAG,KAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,OAAA;MACAC,SAAA;IACA;EACA;EAEA,MAAAC,QAAA;IACA;MAAAC;IAAA,SAAAC,MAAA,CAAAC,KAAA;;IAEA,IAAAF,EAAA;MACA,KAAAF,SAAA;MACA,WAAAK,cAAA,CAAAH,EAAA;IACA;EACA;EACAI,OAAA;IACA;IACA,MAAAC,WAAAL,EAAA;MACA;QACA,MAAAM,QAAA,SAAAjB,YAAA,CAAAkB,OAAA,qBAAAP,EAAA;QACAQ,OAAA,CAAAC,GAAA,gBAAAH,QAAA;QAEA,KAAAV,KAAA,GAAAU,QAAA,CAAAV,KAAA;QACA,KAAAC,OAAA,GAAAS,QAAA,CAAAT,OAAA;MACA,SAAAa,KAAA;QACAF,OAAA,CAAAE,KAAA,wBAAAA,KAAA;QACAC,KAAA;MACA;IACA;IACA;IACA,MAAAC,OAAA;MACA,UAAAhB,KAAA,UAAAC,OAAA;QACAc,KAAA;QACA;MACA;;MAEA;MACA,MAAAE,WAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAT,OAAA,CAAAC,GAAA,uBAAAK,IAAA,CAAAI,SAAA,CAAAL,WAAA;MAEA,MAAAM,QAAA,GAAAN,WAAA,CAAAb,EAAA;MACA;MACA,MAAAoB,MAAA;QACAxB,KAAA,OAAAA,KAAA;QACAyB,WAAA,OAAAxB,OAAA;QACAyB,MAAA;QACA;QACAC,SAAA,EAAAV,WAAA,CAAAb;MACA;MAEA;QACA,SAAAF,SAAA;UACA,MAAAE,EAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;UACA,MAAAM,QAAA,SAAAjB,YAAA,CAAAmC,UAAA,gBAAAxB,EAAA,IAAAoB,MAAA;UAEAZ,OAAA,CAAAC,GAAA,YAAAW,MAAA;UACAT,KAAA;QAEA;UACA,MAAAL,QAAA,SAAAjB,YAAA,CAAAoC,QAAA,gBAAAL,MAAA;UAEAZ,OAAA,CAAAC,GAAA,YAAAW,MAAA;UACAZ,OAAA,CAAAC,GAAA,WAAAH,QAAA;UACAK,KAAA;QACA;QAEA,KAAAe,OAAA,CAAAC,OAAA;UAAAC,IAAA;QAAA;MACA,SAAAlB,KAAA;QACAF,OAAA,CAAAE,KAAA,WAAAA,KAAA;QACAC,KAAA;MACA;IACA;IACAkB,OAAA;MACA,KAAAH,OAAA,CAAAI,IAAA;QAAAF,IAAA;MAAA;IACA;EACA;AACA","ignoreList":[]}]}