{"remainingRequest":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js!/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js??ref--1-0!/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/ResetPassword.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/ResetPassword.vue","mtime":1734329655183},{"path":"/usr/vue/lezuro_all/babel.config.js","mtime":1728542743944},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEhlYWRlciBmcm9tICIuL0hlYWRlciI7CmltcG9ydCBYRm9vdGVyIGZyb20gIi4vWEZvb3RlciI7CmltcG9ydCBSZXNldFBhc3N3b3JkQ29uZmlybU1vZGFsIGZyb20gIi4vUmVzZXRQYXNzd29yZENvbmZpcm1Nb2RhbCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVzZXRQYXNzd29yZCIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyLAogICAgWEZvb3RlciwKICAgIFJlc2V0UGFzc3dvcmRDb25maXJtTW9kYWwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc01vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgY29uZmlybU5ld1Bhc3N3b3JkOiAiIiwKICAgICAgcGhvbmU6IHRoaXMuJHJvdXRlLnBhcmFtcy5waG9uZSB8fCAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRlUGFzc3dvcmQoKSB7CiAgICAgIC8vIOy1nOyGjCA4fjIw7J6QLCDsl7Dsho3rkJwg66y47J6Q66W8IOyCrOyaqe2VoCDsiJgg7JeG7J2MCiAgICAgIGNvbnN0IHJlZ2V4ID0gL14oPyEuKlteYS16QS1aMC05XSkoPyEuKiguKVwxezIsfSkuezgsMjB9JC87CiAgICAgIHRoaXMucHdFcnJvciA9ICFyZWdleC50ZXN0KHRoaXMubmV3UGFzc3dvcmQpID8gIuu5hOuwgOuyiO2YuOuKlCA4fjIw7J6QIOydtOuCtOuhnCDsnoXroKXtlbTslbwg7ZWY66mwIOyXsOyGjeuQnCDrrLjsnpDsmYAg7Yq57IiY66y47J6Q66W8IOyCrOyaqe2VoCDsiJgg7JeG7Iq164uI64ukLiIgOiBudWxsOwogICAgfSwKICAgIHNob3dNb2RhbCgpIHsKICAgICAgdGhpcy5pc01vZGFsVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGlkZU1vZGFsKCkgewogICAgICB0aGlzLmlzTW9kYWxWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgYXN5bmMgaGFuZGxlUGFzc3dvcmRDaGFuZ2UoKSB7CiAgICAgIGlmICh0aGlzLm5ld1Bhc3N3b3JkICE9PSB0aGlzLmNvbmZpcm1OZXdQYXNzd29yZCkgewogICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gIuyDiCDruYTrsIDrsojtmLjqsIAg7J287LmY7ZWY7KeAIOyViuyKteuLiOuLpC4iOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIC8vIOyEnOuyhOuhnCDruYTrsIDrsojtmLgg67OA6rK9IOyalOyyrQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgiaHR0cDovLzEzLjEyNC42Mi42ODozMDAwL2FwaS92MS9hdXRoL3Jlc2V0LXBhc3N3b3JkIiwgewogICAgICAgICAgcGhvbmU6IHRoaXMucGhvbmUsCiAgICAgICAgICBuZXdQYXNzd29yZDogdGhpcy5uZXdQYXNzd29yZCwKICAgICAgICAgIGNvbmZpcm1OZXdQYXNzd29yZDogdGhpcy5jb25maXJtTmV3UGFzc3dvcmQKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgLy8g7J2R64u1IOyymOumrAogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgY29uc29sZS5sb2coIuu5hOuwgOuyiO2YuCDrs4Dqsr0g7ISx6rO1OiIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgYWxlcnQoIuu5hOuwgOuyiO2YuOqwgCDshLHqs7XsoIHsnLzroZwg67OA6rK965CY7JeI7Iq164uI64ukLiIpOwogICAgICAgICAgdGhpcy5zaG93TW9kYWwoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIuu5hOuwgOuyiO2YuCDrs4Dqsr3sl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLiIpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLruYTrsIDrsojtmLgg67OA6rK9IOykkSDsmKTrpZgg67Cc7IOdOiIsIGVycm9yKTsKICAgICAgICBhbGVydCgi67mE67CA67KI7Zi4IOuzgOqyvSDspJEg66y47KCc6rCAIOuwnOyDne2WiOyKteuLiOuLpC4iKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["Header","XFooter","ResetPasswordConfirmModal","axios","name","components","data","isModalVisible","newPassword","errorMessage","confirmNewPassword","phone","$route","params","methods","validatePassword","regex","pwError","test","showModal","hideModal","handlePasswordChange","response","post","headers","status","console","log","alert","error"],"sources":["src/components/ResetPassword.vue"],"sourcesContent":["<template>\n  <div class=\"container-center-horizontal\">\n    <div class=\"resetpassword screen\">\n      <Header />\n      <div class=\"resetpassword-wrap\">\n        <h1 class=\"resetpassword-title valign-text-middle pretendard-extra-extra-bold-black-30px\">비밀번호 재설정하기\n        </h1>\n        <div class=\"resetpassword-content\">\n          <div class=\"resetpassword-content-item\">\n            <div class=\"resetpassword-content-item-title pretendard-medium-log-cabin-18px\">비밀번호</div>\n            <input\n              type=\"password\"\n              v-model=\"newPassword\"\n              @input=\"validatePassword\" \n              :maxlength=\"20\"\n              placeholder=\"비밀번호를 입력하세요\"\n              class=\"resetpassword-input-box valign-text-middle pretendard-medium-mountain-mist-16px\"\n            />\n          </div>\n          <div class=\"resetpassword-content-item\">\n            <div class=\"resetpassword-content-item-title pretendard-medium-log-cabin-18px\">비밀번호 확인</div>\n            <input\n              type=\"password\"\n              v-model=\"confirmNewPassword\"\n              placeholder=\"비밀번호를 다시 입력하세요\"\n              class=\"resetpassword-input-box valign-text-middle pretendard-medium-mountain-mist-16px\"\n            />\n          </div>\n          <p v-if=\"errorMessage\" class=\"error-message pretendard-regular-normal-white-12px\">{{ errorMessage }}</p>\n          <button class=\"change-btn pretendard-semi-bold-white-18px\" @click=\"handlePasswordChange\">비밀번호 변경</button>\n        </div>\n      </div>\n      <XFooter />\n      <ResetPasswordConfirmModal v-if=\"isModalVisible\" @close=\"hideModal\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"./Header\";\nimport XFooter from \"./XFooter\";\nimport ResetPasswordConfirmModal from \"./ResetPasswordConfirmModal\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"ResetPassword\",\n  components: {\n    Header,\n    XFooter,\n    ResetPasswordConfirmModal,\n  },\n  data() {\n    return {\n      isModalVisible: false,\n      newPassword: \"\",\n      errorMessage: \"\",\n      confirmNewPassword: \"\",\n      phone: this.$route.params.phone || \"\", \n    };\n  },\n  methods: {\n    validatePassword() {\n      // 최소 8~20자, 연속된 문자를 사용할 수 없음\n      const regex = /^(?!.*[^a-zA-Z0-9])(?!.*(.)\\1{2,}).{8,20}$/;\n      this.pwError = !regex.test(this.newPassword)\n        ? \"비밀번호는 8~20자 이내로 입력해야 하며 연속된 문자와 특수문자를 사용할 수 없습니다.\"\n        : null;\n    },\n    showModal() {\n      this.isModalVisible = true;\n    },\n    hideModal() {\n      this.isModalVisible = false;\n    },\n    async handlePasswordChange() {\n      if (this.newPassword !== this.confirmNewPassword) {\n        this.errorMessage = \"새 비밀번호가 일치하지 않습니다.\";\n        return;\n      }\n\n      try {\n\n        // 서버로 비밀번호 변경 요청\n        const response = await axios.post(\n          \"http://13.124.62.68:3000/api/v1/auth/reset-password\",\n          {\n            phone: this.phone,\n            newPassword: this.newPassword,\n            confirmNewPassword: this.confirmNewPassword,\n          },\n          {\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n\n        // 응답 처리\n        if (response.status === 200) {\n          console.log(\"비밀번호 변경 성공:\", response.data);\n          alert(\"비밀번호가 성공적으로 변경되었습니다.\");\n          this.showModal();\n        } else {\n          alert(\"비밀번호 변경에 실패했습니다.\");\n        }\n      } catch (error) {\n        console.error(\"비밀번호 변경 중 오류 발생:\", error);\n        alert(\"비밀번호 변경 중 문제가 발생했습니다.\");\n      }\n}\n  },\n};\n</script>\n<style scoped>\n.error-message {\n  color: #d30f1a;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding-left: 155px;\n}\n</style>\n<style scoped src=\"@/style/signup/resetpassword.css\" />\n"],"mappings":"AAuCA,OAAAA,MAAA;AACA,OAAAC,OAAA;AACA,OAAAC,yBAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAL,MAAA;IACAC,OAAA;IACAC;EACA;EACAI,KAAA;IACA;MACAC,cAAA;MACAC,WAAA;MACAC,YAAA;MACAC,kBAAA;MACAC,KAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAF,KAAA;IACA;EACA;EACAG,OAAA;IACAC,iBAAA;MACA;MACA,MAAAC,KAAA;MACA,KAAAC,OAAA,IAAAD,KAAA,CAAAE,IAAA,MAAAV,WAAA,IACA,sDACA;IACA;IACAW,UAAA;MACA,KAAAZ,cAAA;IACA;IACAa,UAAA;MACA,KAAAb,cAAA;IACA;IACA,MAAAc,qBAAA;MACA,SAAAb,WAAA,UAAAE,kBAAA;QACA,KAAAD,YAAA;QACA;MACA;MAEA;QAEA;QACA,MAAAa,QAAA,SAAAnB,KAAA,CAAAoB,IAAA,CACA,uDACA;UACAZ,KAAA,OAAAA,KAAA;UACAH,WAAA,OAAAA,WAAA;UACAE,kBAAA,OAAAA;QACA,GACA;UACAc,OAAA;YACA;UACA;QACA,CACA;;QAEA;QACA,IAAAF,QAAA,CAAAG,MAAA;UACAC,OAAA,CAAAC,GAAA,gBAAAL,QAAA,CAAAhB,IAAA;UACAsB,KAAA;UACA,KAAAT,SAAA;QACA;UACAS,KAAA;QACA;MACA,SAAAC,KAAA;QACAH,OAAA,CAAAG,KAAA,qBAAAA,KAAA;QACAD,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}