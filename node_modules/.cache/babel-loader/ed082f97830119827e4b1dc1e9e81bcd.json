{"remainingRequest":"/usr/vue/lezuro_all/node_modules/thread-loader/dist/cjs.js!/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js!/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js??ref--1-0!/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/manager/NicePay.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/manager/NicePay.vue","mtime":1732685176683},{"path":"/usr/vue/lezuro_all/babel.config.js","mtime":1728542743944},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/thread-loader/dist/cjs.js","mtime":1728542748260},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmRldGFjaGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnRyYW5zZmVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnRyYW5zZmVyLXRvLWZpeGVkLWxlbmd0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1sYXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1sYXN0LWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tcmV2ZXJzZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zb3J0ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS53aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGF5TWV0aG9kOiAiQ0FSRCIsCiAgICAgIGdvb2RzTmFtZTogIuuCmOydtOyKpO2OmOydtC3sg4HtkogiLAogICAgICBhbXQ6ICIxMDAwIiwKICAgICAgbWlkOiAibmljdGVzdDAwbSIsCiAgICAgIG1vaWQ6ICJtbm9pZDEyMzQ1Njc4OTAiLAogICAgICBidXllck5hbWU6ICLrgpjsnbTsiqQiLAogICAgICBidXllckVtYWlsOiAiaGFwcHlAZGF5LmNvLmtyIiwKICAgICAgYnV5ZXJUZWw6ICIwMTAwMDAwMDAwMCIsCiAgICAgIHJldHVyblVSTDogImh0dHA6Ly93d3cuZ2pwYXJrZ29sZi5jby5rci9uaWNlUGF5cyIsCiAgICAgIHZiYW5rRXhwRGF0ZTogIjExMjIzMyIsCiAgICAgIGVkaURhdGU6ICJ5eW1tZGQiLAogICAgICBzaWduRGF0YTogImFhZGQiCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIG5pY2VwYXlTdGFydCgpIHsKICAgICAgaWYgKHR5cGVvZiBnb1BheSA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIGNvbnNvbGUubG9nKCJ0aGlzLiRyZWZzLnBheUZvcm0gOiA6IDogIiArIHRoaXMuJHJlZnMucGF5Rm9ybSk7CiAgICAgICAgZ29QYXkodGhpcy4kcmVmcy5wYXlGb3JtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJnb1BheSDtlajsiJjqsIAg7KCV7J2Y65CY7KeAIOyViuyVmOyKteuLiOuLpC4iKTsKICAgICAgfQogICAgfQogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CiAgICB0aGlzLmVkaURhdGUgPSBub3cudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9bLVQ6LlpdL2csICcnKS5zbGljZSgwLCAxNCk7CiAgICBjb25zdCBNSUQgPSB0aGlzLm1pZDsKICAgIGNvbnN0IHByaWNlID0gdGhpcy5hbXQ7CiAgICBjb25zdCBtZXJjaGFudEtleSA9ICczM0Y0OUduQ01TMW1GWWxHWGlzYlVEelZmMkFUV0NsOWszUisrZDVoRGQzRnJtdW9zL1hMeDhYaFhwZStMRFlBYnBHS1pZU3d0bHl5TE90Uy84YUQ3QT09JzsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmVkaURhdGUgKyBNSUQgKyBwcmljZSArIG1lcmNoYW50S2V5OwogICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpOwogICAgY29uc3QgZGF0YUJ1ZmZlciA9IGVuY29kZXIuZW5jb2RlKGRhdGEpOwogICAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgZGF0YUJ1ZmZlcik7CiAgICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTsKICAgIHRoaXMuc2lnbkRhdGEgPSBoYXNoQXJyYXkubWFwKGIgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7CiAgICBnb1BheSh0aGlzLiRyZWZzLnBheUZvcm0pOwogICAgaWYgKCF3aW5kb3cuZ29QYXkpIHsKICAgICAgY29uc29sZS5lcnJvcigiTmljZVBheSBTREvqsIAg7JWE7KeBIOuhnOuTnOuQmOyngCDslYrslZjsirXri4jri6QuIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["data","payMethod","goodsName","amt","mid","moid","buyerName","buyerEmail","buyerTel","returnURL","vbankExpDate","ediDate","signData","mounted","methods","nicepayStart","goPay","console","log","$refs","payForm","error","now","Date","toISOString","replace","slice","MID","price","merchantKey","encoder","TextEncoder","dataBuffer","encode","hashBuffer","crypto","subtle","digest","hashArray","Array","from","Uint8Array","map","b","toString","padStart","join","window"],"sources":["src/components/manager/NicePay.vue"],"sourcesContent":["<template>\n  <div class=\"payment-container\">\n    <form ref=\"payForm\" method=\"post\" action=\"/authReq\" accept-charset=\"euc-kr\" class=\"payment-form\">\n      <table>\n        <tr>\n          <th>PayMethod</th>\n          <td><input v-model=\"payMethod\" type=\"text\" name=\"PayMethod\" /></td>\n        </tr>\n        <tr>\n          <th>GoodsName</th>\n          <td><input v-model=\"goodsName\" type=\"text\" name=\"GoodsName\" /></td>\n        </tr>\n        <tr>\n          <th>Amt</th>\n          <td><input v-model=\"amt\" type=\"text\" name=\"Amt\" /></td>\n        </tr>\n        <tr>\n          <th>MID</th>\n          <td><input v-model=\"mid\" type=\"text\" name=\"MID\" /></td>\n        </tr>\n        <tr>\n          <th>Moid</th>\n          <td><input v-model=\"moid\" type=\"text\" name=\"Moid\" /></td>\n        </tr>\n        <tr>\n          <th>BuyerName</th>\n          <td><input v-model=\"buyerName\" type=\"text\" name=\"BuyerName\" /></td>\n        </tr>\n        <tr>\n          <th>BuyerEmail</th>\n          <td><input v-model=\"buyerEmail\" type=\"text\" name=\"BuyerEmail\" /></td>\n        </tr>\n        <tr>\n          <th>BuyerTel</th>\n          <td><input v-model=\"buyerTel\" type=\"text\" name=\"BuyerTel\" /></td>\n        </tr>\n        <tr>\n          <th>ReturnURL [Mobile only]</th>\n          <td><input v-model=\"returnURL\" type=\"text\" name=\"ReturnURL\" /></td>\n        </tr>\n        <tr>\n          <th>Virtual Account Expiration Date(YYYYMMDD)</th>\n          <td><input v-model=\"vbankExpDate\" type=\"text\" name=\"VbankExpDate\" /></td>\n        </tr>\n        <input type=\"hidden\" name=\"NpLang\" value=\"KO\" />\n        <input type=\"hidden\" name=\"GoodsCl\" value=\"1\" />\n        <input type=\"hidden\" name=\"TransType\" value=\"0\" />\n        <input type=\"hidden\" name=\"CharSet\" value=\"utf-8\" />\n        <input type=\"hidden\" name=\"ReqReserved\" value=\"\" />\n        <input type=\"hidden\" v-model=\"ediDate\" name=\"EdiDate\" />\n        <input type=\"hidden\" v-model=\"signData\" name=\"SignData\" />\n      </table>\n      <button @click.prevent=\"nicepayStart\" class=\"btn_blue\">결제하기</button>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      payMethod: \"CARD\",\n      goodsName: \"나이스페이-상품\",\n      amt: \"1000\",\n      mid: \"nictest00m\",\n      moid: \"mnoid1234567890\",\n      buyerName: \"나이스\",\n      buyerEmail: \"happy@day.co.kr\",\n      buyerTel: \"01000000000\",\n      returnURL: \"http://www.gjparkgolf.co.kr/nicePays\",\n      vbankExpDate: \"112233\",\n      ediDate: \"yymmdd\",\n      signData: \"aadd\"\n    };\n  },\n  mounted(){\n\n  },\n  methods: {\n    nicepayStart() {\n      if (typeof goPay === \"function\") {\n        console.log(\"this.$refs.payForm : : : \" + this.$refs.payForm)\n        goPay(this.$refs.payForm);\n      } else {\n        console.error(\"goPay 함수가 정의되지 않았습니다.\");\n      }\n    }\n  },\n  async mounted() {\n    const now = new Date();\n    this.ediDate = now.toISOString().replace(/[-T:.Z]/g, '').slice(0, 14);\n    const MID = this.mid;\n    const price = this.amt;\n    const merchantKey = '33F49GnCMS1mFYlGXisbUDzVf2ATWCl9k3R++d5hDd3Frmuos/XLx8XhXpe+LDYAbpGKZYSwtlyyLOtS/8aD7A==';\n    const data = this.ediDate + MID + price + merchantKey;\n    const encoder = new TextEncoder();\n    const dataBuffer = encoder.encode(data);\n    const hashBuffer = await crypto.subtle.digest('SHA-256', dataBuffer);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    this.signData = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n    goPay(this.$refs.payForm);\n    if (!window.goPay) {\n      console.error(\"NicePay SDK가 아직 로드되지 않았습니다.\");\n    }\n  }\n};\n</script>\n\n<style scoped>\n.payment-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #f0f8ff;\n}\n\n.payment-form {\n  padding: 20px;\n  background-color: #e0f7ff;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 255, 0.2);\n  max-width: 400px;\n  width: 100%;\n}\n\n.payment-form table {\n  width: 100%;\n}\n\n.payment-form th, .payment-form td {\n  padding: 8px;\n  text-align: left;\n  color: #003366;\n}\n\n.payment-form th {\n  font-weight: bold;\n}\n\n.payment-form input[type=\"text\"] {\n  width: 100%;\n  padding: 6px;\n  border: 1px solid #87cefa;\n  border-radius: 4px;\n}\n\n.btn_blue {\n  display: inline-block;\n  width: 100%;\n  padding: 10px;\n  background-color: #1e90ff;\n  color: #ffffff;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.btn_blue:hover {\n  background-color: #104e8b;\n}\n</style>\n"],"mappings":";;;;;;;;;;;AA0DA;EACAA,KAAA;IACA;MACAC,SAAA;MACAC,SAAA;MACAC,GAAA;MACAC,GAAA;MACAC,IAAA;MACAC,SAAA;MACAC,UAAA;MACAC,QAAA;MACAC,SAAA;MACAC,YAAA;MACAC,OAAA;MACAC,QAAA;IACA;EACA;EACAC,QAAA,GAEA;EACAC,OAAA;IACAC,aAAA;MACA,WAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,oCAAAC,KAAA,CAAAC,OAAA;QACAJ,KAAA,MAAAG,KAAA,CAAAC,OAAA;MACA;QACAH,OAAA,CAAAI,KAAA;MACA;IACA;EACA;EACA,MAAAR,QAAA;IACA,MAAAS,GAAA,OAAAC,IAAA;IACA,KAAAZ,OAAA,GAAAW,GAAA,CAAAE,WAAA,GAAAC,OAAA,iBAAAC,KAAA;IACA,MAAAC,GAAA,QAAAvB,GAAA;IACA,MAAAwB,KAAA,QAAAzB,GAAA;IACA,MAAA0B,WAAA;IACA,MAAA7B,IAAA,QAAAW,OAAA,GAAAgB,GAAA,GAAAC,KAAA,GAAAC,WAAA;IACA,MAAAC,OAAA,OAAAC,WAAA;IACA,MAAAC,UAAA,GAAAF,OAAA,CAAAG,MAAA,CAAAjC,IAAA;IACA,MAAAkC,UAAA,SAAAC,MAAA,CAAAC,MAAA,CAAAC,MAAA,YAAAL,UAAA;IACA,MAAAM,SAAA,GAAAC,KAAA,CAAAC,IAAA,KAAAC,UAAA,CAAAP,UAAA;IACA,KAAAtB,QAAA,GAAA0B,SAAA,CAAAI,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,QAAA,KAAAC,QAAA,UAAAC,IAAA;IACA9B,KAAA,MAAAG,KAAA,CAAAC,OAAA;IACA,KAAA2B,MAAA,CAAA/B,KAAA;MACAC,OAAA,CAAAI,KAAA;IACA;EACA;AACA","ignoreList":[]}]}