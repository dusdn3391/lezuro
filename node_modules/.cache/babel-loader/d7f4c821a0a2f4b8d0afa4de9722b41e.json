{"remainingRequest":"/usr/vue/lezuro_all/node_modules/thread-loader/dist/cjs.js!/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js!/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js??ref--1-0!/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/NoticeDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/NoticeDetail.vue","mtime":1734600395646},{"path":"/usr/vue/lezuro_all/babel.config.js","mtime":1728542743944},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/thread-loader/dist/cjs.js","mtime":1728542748260},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHRhc2tTdG9yZSB9IGZyb20gIkAvc3RvcmUvdGFza1N0b3JlIjsKaW1wb3J0IEhlYWRlciBmcm9tICIuL0hlYWRlciI7CmltcG9ydCBSalpzV2kgZnJvbSAiLi9SalpzV2kiOwppbXBvcnQgWEZvb3RlciBmcm9tICIuL1hGb290ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk5vdGljZURldGFpbCIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyLAogICAgUmpac1dpLAogICAgWEZvb3RlcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgdXBkYXRlZEF0OiAiIiwKICAgICAgYXV0aG9yOiAiIiwKICAgICAgdmlld3M6ICIiLAogICAgICBjb250ZW50OiAiIiwKICAgICAgaW1hZ2VVcmw6ICIiCiAgICB9OwogIH0sCiAgcHJvcHM6IFsickpac1dJUHJvcHMiXSwKICBhc3luYyBtb3VudGVkKCkgewogICAgLy8g65287Jqw7Yq47JeQ7IScIOyghOuLrOuQnCDsg4Htg5wg642w7J207YSw66W8IOqwgOyguOyYteuLiOuLpC4KICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICBjb25zb2xlLmxvZygiUmVjZWl2ZWQgSUQ6IiwgaWQpOwogICAgaWYgKGlkKSB7CiAgICAgIHRoaXMuaWQgPSBpZDsKICAgICAgYXdhaXQgdGhpcy5mZXRjaE5vdGljZURldGFpbCgpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5lcnJvcigiSUTrpbwg7LC+7J2EIOyImCDsl4bsirXri4jri6QuIik7CiAgICAgIHRoaXMudG9Hb05vdGljZUxpc3QoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHVwZGF0ZVZpZXdzKGNvdW50KSB7CiAgICAgIGNvbnNvbGUubG9nKCJjb3VudCA6IDogOiAiLCBjb3VudCk7CiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICB2aWV3czogY291bnQgKyAxCiAgICAgIH07CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YXNrU3RvcmUudXBkYXRlVGFzayhgY3VzdG9tZXItbm90aWNlLyR7cGFyc2VJbnQodGhpcy5pZCl9L2AsIHBhcmFtcyk7CiAgICAgICAgY29uc29sZS5sb2coIkFQSSDsnZHri7U6IiwgcmVzcG9uc2UpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuqyjOyLnO2MkCDrjbDsnbTthLDrpbwg6rCA7KC47Jik64qUIOykkSDsmKTrpZgg67Cc7IOdOiIsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGZldGNoTm90aWNlRGV0YWlsKCkgewogICAgICB0cnkgewogICAgICAgIC8vIEFQSSDtmLjstpwKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhc2tTdG9yZS5nZXRTZWxlY3RUYXNrcyhgY3VzdG9tZXItbm90aWNlLyR7dGhpcy5pZH1gKTsKICAgICAgICBjb25zb2xlLmxvZygiQVBJIOydkeuLtToiLCByZXNwb25zZSk7CgogICAgICAgIC8vIOydkeuLteyXkOyEnCDrjbDsnbTthLDrpbwg7LaU7LacICjsiJjsoJXrkJwg67aA67aEKQogICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZTsKICAgICAgICB0aGlzLnVwZGF0ZVZpZXdzKGRhdGEudmlld3MpOwogICAgICAgIC8vIOuNsOydtO2EsOqwgCDsobTsnqztlZjripTsp4Ag7ZmV7J247ZWY6rOgIO2VoOuLuQogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICB0aGlzLnRpdGxlID0gZGF0YS50aXRsZTsKICAgICAgICAgIHRoaXMudXBkYXRlZEF0ID0gZGF0YS51cGRhdGVkQXQgPyBkYXRhLnVwZGF0ZWRBdC5zcGxpdCgiVCIpWzBdIDogIuuCoOynnCDsl4bsnYwiOwogICAgICAgICAgdGhpcy5hdXRob3IgPSBkYXRhLmF1dGhvciB8fCAi7J6R7ISx7J6QIOyXhuydjCI7CiAgICAgICAgICB0aGlzLnZpZXdzID0gZGF0YS52aWV3cyB8fCAwOwogICAgICAgICAgdGhpcy5jb250ZW50ID0gZGF0YS5jb250ZW50IHx8ICLrgrTsmqnsnbQg7JeG7Iq164uI64ukLiI7CiAgICAgICAgICB0aGlzLmltYWdlVXJsID0gZGF0YS5pbWFnZVVybDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcigi7J2R64u1IOuNsOydtO2EsOqwgCDsl4bsirXri4jri6QuIik7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuqzteyngOyCrO2VrSDrjbDsnbTthLDrpbwg6rCA7KC47Jik64qUIOykkSDsmKTrpZgg67Cc7IOdOiIsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIHRvR29Ob3RpY2VMaXN0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9ub3RpY2UtbGlzdCIKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["taskStore","Header","RjZsWi","XFooter","name","components","data","title","updatedAt","author","views","content","imageUrl","props","mounted","id","$route","query","console","log","fetchNoticeDetail","error","toGoNoticeList","methods","updateViews","count","params","response","updateTask","parseInt","getSelectTasks","split","$router","push","path"],"sources":["src/components/NoticeDetail.vue"],"sourcesContent":["<template>\n  <div class=\"container-center-horizontal\">\n    <div class=\"announcementsdetails screen\">\n      <Header />\n      <rj-zs-wi :frame72911Props=\"rJZsWIProps.frame72911Props\" :frame72912Props=\"rJZsWIProps.frame72912Props\" />\n      <div class=\"frame-7913\">\n        <div class=\"title pretendard-bold-log-cabin-38px\">공지사항</div>\n        <div class=\"notice-detail\">\n          <div class=\"frame-7754-2\">\n            <div class=\"text-1934 valign-text-middle pretendard-bold-log-cabin-30px\">\n              {{ title }}\n            </div>\n            <div class=\"frame-7835-2 pretendard-regular-normal-mountain-mist-20px\">\n              <div class=\"frame-7835-item-1 valign-text-middle\">\n                {{ updatedAt }}\n              </div>\n              <!-- <div class=\"rectangle-50927\"></div> -->\n              <!-- 24.12.19 수정 -->\n              <span>l</span>\n              <div class=\"frame-7835-item-1 valign-text-middle\">\n                {{ author }}\n              </div>\n              <!-- <div class=\"rectangle-50927\"></div> -->\n              <!-- 24.12.19 수정 -->\n              <span>l</span>\n              <div class=\"frame-7835-item-1 valign-text-middle\">\n                조회수 : {{ views }}\n              </div>\n            </div>\n          </div>\n          <div class=\"frame-7836-6 pretendard-light-granite-gray-18px\">\n            <p class=\"lorem-ipsum-dolor-si-7 valign-text-middle\">\n              {{ content }}\n            </p>\n            <div v-if=\"imageUrl\" class=\"image-container\">\n              <img :src=\"imageUrl\" alt=\"첨부된 이미지\" class=\"uploaded-image\" />\n            </div>\n          </div>\n        </div>\n\n\n        <!-- <div class=\"frame-7912\">\n          <article class=\"frame-7923-3\">\n            <div class=\"text_label-31 valign-text-middle pretendard-medium-white-18px\" @click=\"toGoNoticeList\">\n              목록으로\n            </div>\n          </article>\n        </div> -->\n        <!-- 24.12.19 수정 -->\n        <button class=\"to-go-list valign-text-middle pretendard-medium-white-18px\" @click=\"toGoNoticeList\">\n          목록으로\n        </button>\n      </div>\n      <x-footer />\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { taskStore } from \"@/store/taskStore\";\nimport Header from \"./Header\";\nimport RjZsWi from \"./RjZsWi\";\nimport XFooter from \"./XFooter\";\nexport default {\n  name: \"NoticeDetail\",\n  components: {\n    Header,\n    RjZsWi,\n    XFooter,\n  },\n  data() {\n    return {\n      title: \"\",\n      updatedAt: \"\",\n      author: \"\",\n      views: \"\",\n      content: \"\",\n      imageUrl: \"\",\n    };\n  },\n  props: [\"rJZsWIProps\"],\n  async mounted() {\n    // 라우트에서 전달된 상태 데이터를 가져옵니다.\n    const id = this.$route.query.id\n    console.log(\"Received ID:\", id);\n    if (id) {\n      this.id = id;\n      await this.fetchNoticeDetail();\n    } else {\n      console.error(\"ID를 찾을 수 없습니다.\");\n      this.toGoNoticeList();\n    }\n  },\n  methods: {\n    async updateViews(count) {\n      console.log(\"count : : : \", count)\n      const params = {\n        views: count + 1\n      }\n      try {\n        const response = await taskStore.updateTask(`customer-notice/${parseInt(this.id)}/`, params);\n        console.log(\"API 응답:\", response);\n\n\n      } catch (error) {\n        console.error(\"게시판 데이터를 가져오는 중 오류 발생:\", error);\n      }\n    },\n    async fetchNoticeDetail() {\n      try {\n        // API 호출\n        const response = await taskStore.getSelectTasks(`customer-notice/${this.id}`);\n        console.log(\"API 응답:\", response);\n\n        // 응답에서 데이터를 추출 (수정된 부분)\n        const data = response;\n\n        this.updateViews(data.views)\n        // 데이터가 존재하는지 확인하고 할당\n        if (data) {\n          this.title = data.title\n          this.updatedAt = data.updatedAt ? data.updatedAt.split(\"T\")[0] : \"날짜 없음\";\n          this.author = data.author || \"작성자 없음\";\n          this.views = data.views || 0;\n          this.content = data.content || \"내용이 없습니다.\";\n          this.imageUrl = data.imageUrl\n        } else {\n          console.error(\"응답 데이터가 없습니다.\");\n        }\n      } catch (error) {\n        console.error(\"공지사항 데이터를 가져오는 중 오류 발생:\", error);\n      }\n    },\n    toGoNoticeList() {\n      this.$router.push({ path: \"/notice-list\" });\n    },\n  },\n};\n</script>\n\n<style scoped src=\"@/style/cs/noticedetail.css\"></style>\n"],"mappings":";AA4DA,SAAAA,SAAA;AACA,OAAAC,MAAA;AACA,OAAAC,MAAA;AACA,OAAAC,OAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAJ,MAAA;IACAC,MAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,KAAA;MACAC,SAAA;MACAC,MAAA;MACAC,KAAA;MACAC,OAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;EACA,MAAAC,QAAA;IACA;IACA,MAAAC,EAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;IACAG,OAAA,CAAAC,GAAA,iBAAAJ,EAAA;IACA,IAAAA,EAAA;MACA,KAAAA,EAAA,GAAAA,EAAA;MACA,WAAAK,iBAAA;IACA;MACAF,OAAA,CAAAG,KAAA;MACA,KAAAC,cAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,YAAAC,KAAA;MACAP,OAAA,CAAAC,GAAA,iBAAAM,KAAA;MACA,MAAAC,MAAA;QACAhB,KAAA,EAAAe,KAAA;MACA;MACA;QACA,MAAAE,QAAA,SAAA3B,SAAA,CAAA4B,UAAA,oBAAAC,QAAA,MAAAd,EAAA,MAAAW,MAAA;QACAR,OAAA,CAAAC,GAAA,YAAAQ,QAAA;MAGA,SAAAN,KAAA;QACAH,OAAA,CAAAG,KAAA,2BAAAA,KAAA;MACA;IACA;IACA,MAAAD,kBAAA;MACA;QACA;QACA,MAAAO,QAAA,SAAA3B,SAAA,CAAA8B,cAAA,yBAAAf,EAAA;QACAG,OAAA,CAAAC,GAAA,YAAAQ,QAAA;;QAEA;QACA,MAAArB,IAAA,GAAAqB,QAAA;QAEA,KAAAH,WAAA,CAAAlB,IAAA,CAAAI,KAAA;QACA;QACA,IAAAJ,IAAA;UACA,KAAAC,KAAA,GAAAD,IAAA,CAAAC,KAAA;UACA,KAAAC,SAAA,GAAAF,IAAA,CAAAE,SAAA,GAAAF,IAAA,CAAAE,SAAA,CAAAuB,KAAA;UACA,KAAAtB,MAAA,GAAAH,IAAA,CAAAG,MAAA;UACA,KAAAC,KAAA,GAAAJ,IAAA,CAAAI,KAAA;UACA,KAAAC,OAAA,GAAAL,IAAA,CAAAK,OAAA;UACA,KAAAC,QAAA,GAAAN,IAAA,CAAAM,QAAA;QACA;UACAM,OAAA,CAAAG,KAAA;QACA;MACA,SAAAA,KAAA;QACAH,OAAA,CAAAG,KAAA,4BAAAA,KAAA;MACA;IACA;IACAC,eAAA;MACA,KAAAU,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA;IACA;EACA;AACA","ignoreList":[]}]}