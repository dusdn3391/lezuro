{"remainingRequest":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js!/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js??ref--1-0!/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/KaKaoCallback.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/KaKaoCallback.vue","mtime":1733467373703},{"path":"/usr/vue/lezuro_all/babel.config.js","mtime":1728542743944},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdLYUthb0NhbGxiYWNrJywKICAvLyBsYXlvdXQ6ICdzaWduaW4nLAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygiQWNjZXNzIFRva2VuOiIsIHRoaXMuJHJvdXRlLnF1ZXJ5LmFjY2Vzc1Rva2VuKTsKICAgIGNvbnNvbGUubG9nKCJVc2VyIElEOiIsIHRoaXMuJHJvdXRlLnF1ZXJ5LnVzZXJJZCk7CiAgICBjb25zdCBhY2Nlc3NfdG9rZW4gPSB0aGlzLiRyb3V0ZS5xdWVyeS5hY2Nlc3NUb2tlbjsKICAgIC8vICAgY29uc3QgcXVlcnkgPSBoYXNoLnN1YnN0cmluZyhoYXNoLmluZGV4T2YoJz0nKSArIDEpCiAgICAvLyAgIGNvbnN0IGNvZGUgPSBxdWVyeS5zdWJzdHJpbmcoMCwgcXVlcnkuaW5kZXhPZignJicpKQogICAgLy8gICBjb25zb2xlLmxvZygiY29kZS0tLSBBUEkg7Ya17Iug7KSRIH5+fn5+fn4+ICIpCgogICAgLy8gY29uc29sZS5sb2coaGFzaCkKICAgIC8vIGNvbnNvbGUubG9nKHF1ZXJ5KQogICAgLy8gdmFyIGhlYWRlciA9ICJCZWFyZXIgIiArIGNvZGU7IC8vIEJlYXJlciDri6TsnYzsl5Ag6rO167CxIOy2lOqwgAoKICAgIC8vIGNvbnN0IG1lID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50YWxrdGFsa2JvYXJkLmNvbS9hcGkvbmF2ZXJMb2dpbi5waHA/YWNjZXNzX3Rva2VuPSR7YWNjZXNzX3Rva2VufWApCiAgICB0cnkgewogICAgICBjb25zdCBtZSA9IGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMy4xMjQuNjIuNjg6MzAwMC9hcGkvdjEvYXV0aC9rYWthby9sb2dpbicsIHsKICAgICAgICBhY2Nlc3NUb2tlbjogYWNjZXNzX3Rva2VuCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnYWNjZXB0JzogJyovKicsCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vICAgY29uc29sZS5sb2cobWUuZGF0YS5tZXNzYWdlKQogICAgICBjb25zb2xlLmxvZygiTUUgOiA6IDogOiA6IDoiICsgSlNPTi5zdHJpbmdpZnkobWUpKTsKICAgICAgaWYgKG1lLmRhdGEucmVmcmVzaFRva2VuKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlZnJlc2hUb2tlbicsIG1lLmRhdGEucmVmcmVzaFRva2VuKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnVG9rZW4nLCBtZS5kYXRhLnRva2VuKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9naW5JbmZvJywgSlNPTi5zdHJpbmdpZnkobWUuZGF0YS51c2VyKSk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJMb2dpbiIsICJ0cnVlIik7CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy8nKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgi7J2066+4IOuTseuhneuQnCDqs4TsoJXsnoXri4jri6QuIik7CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZygiZXJyb3IiLCBlcnJvcik7CiAgICAgIGFsZXJ0KCLtnLTrjIDtj7Ag7J247KadIO2bhCDsnqwg6rCA7J6F7ZW0IOyjvOyEuOyalC4iKTsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpOwogICAgfQogIH0KfTs="},{"version":3,"names":["axios","name","mounted","console","log","$route","query","accessToken","userId","access_token","me","post","headers","JSON","stringify","data","refreshToken","localStorage","setItem","token","user","$router","replace","alert","error"],"sources":["src/components/KaKaoCallback.vue"],"sourcesContent":["<template>\n \n\n    <p>카카오 로그인중</p>\n\n\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\nname: 'KaKaoCallback',\n// layout: 'signin',\nasync mounted() {\n    console.log(\"Access Token:\", this.$route.query.accessToken);\n    console.log(\"User ID:\", this.$route.query.userId);\n  const access_token = this.$route.query.accessToken\n//   const query = hash.substring(hash.indexOf('=') + 1)\n//   const code = query.substring(0, query.indexOf('&'))\n//   console.log(\"code--- API 통신중 ~~~~~~~> \")\n  \n  // console.log(hash)\n  // console.log(query)\n  // var header = \"Bearer \" + code; // Bearer 다음에 공백 추가\n   \n    \n    // const me = await axios.get(`https://www.talktalkboard.com/api/naverLogin.php?access_token=${access_token}`)\n    try{\n        const me = await axios.post('http://13.124.62.68:3000/api/v1/auth/kakao/login',{\n        accessToken : access_token\n        },\n        {\n        headers: {\n            'accept': '*/*',\n            'Content-Type': 'application/json',\n        },\n        })\n    \n    \n            //   console.log(me.data.message)\n            console.log(\"ME : : : : : :\"+JSON.stringify(me))\n            if(me.data.refreshToken){\n                localStorage.setItem('refreshToken', me.data.refreshToken);\n                localStorage.setItem('Token', me.data.token);\n                localStorage.setItem('loginInfo', JSON.stringify(me.data.user));\n                localStorage.setItem(\"userLogin\" ,\"true\");\n                this.$router.replace('/')  \n            }else{\n                alert(\"이미 등록된 계정입니다.\")\n                this.$router.replace('/login')  \n        }\n    }\n    catch(error){\n        console.log(\"error\" , error)\n        alert(\"휴대폰 인증 후 재 가입해 주세요.\")\n        this.$router.replace('/login')  \n\n    }\n   \n  \n  \n},\n}\n</script>\n\n<style>\n</style>"],"mappings":"AASA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACA;EACA,MAAAC,QAAA;IACAC,OAAA,CAAAC,GAAA,uBAAAC,MAAA,CAAAC,KAAA,CAAAC,WAAA;IACAJ,OAAA,CAAAC,GAAA,kBAAAC,MAAA,CAAAC,KAAA,CAAAE,MAAA;IACA,MAAAC,YAAA,QAAAJ,MAAA,CAAAC,KAAA,CAAAC,WAAA;IACA;IACA;IACA;;IAEA;IACA;IACA;;IAGA;IACA;MACA,MAAAG,EAAA,SAAAV,KAAA,CAAAW,IAAA;QACAJ,WAAA,EAAAE;MACA,GACA;QACAG,OAAA;UACA;UACA;QACA;MACA;;MAGA;MACAT,OAAA,CAAAC,GAAA,oBAAAS,IAAA,CAAAC,SAAA,CAAAJ,EAAA;MACA,IAAAA,EAAA,CAAAK,IAAA,CAAAC,YAAA;QACAC,YAAA,CAAAC,OAAA,iBAAAR,EAAA,CAAAK,IAAA,CAAAC,YAAA;QACAC,YAAA,CAAAC,OAAA,UAAAR,EAAA,CAAAK,IAAA,CAAAI,KAAA;QACAF,YAAA,CAAAC,OAAA,cAAAL,IAAA,CAAAC,SAAA,CAAAJ,EAAA,CAAAK,IAAA,CAAAK,IAAA;QACAH,YAAA,CAAAC,OAAA;QACA,KAAAG,OAAA,CAAAC,OAAA;MACA;QACAC,KAAA;QACA,KAAAF,OAAA,CAAAC,OAAA;MACA;IACA,EACA,OAAAE,KAAA;MACArB,OAAA,CAAAC,GAAA,UAAAoB,KAAA;MACAD,KAAA;MACA,KAAAF,OAAA,CAAAC,OAAA;IAEA;EAIA;AACA","ignoreList":[]}]}