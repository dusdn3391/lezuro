{"remainingRequest":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js!/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js??ref--1-0!/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/Callback.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/Callback.vue","mtime":1728815129512},{"path":"/usr/vue/lezuro_all/babel.config.js","mtime":1728542743944},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjYWxsYmFjaycsCiAgLy8gbGF5b3V0OiAnc2lnbmluJywKICBhc3luYyBtb3VudGVkKCkgewogICAgLy8gY29uc29sZS5sb2codGhpcy4kcm91dGUpCiAgICAvLyBjaGVjay4gZXJyb3Igc3RhdHVzCiAgICAvLyBpZiAodGhpcy4kcm91dGUucXVlcnkuZXJyb3IpIHsKICAgIC8vICAgLy8gYWxlcnQodGhpcy4kcm91dGUucXVlcnkuZXJyb3JfZGVzY3JpcHRpb24pCiAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYXV0aC9zaWduaW4nKQogICAgLy8gICByZXR1cm4KICAgIC8vIH0KICAgIC8vIGdldCBhY2Nlc3NfdG9rZW4gZnJvbSBoYXNoIHBhcmFtCiAgICBjb25zdCBoYXNoID0gdGhpcy4kcm91dGUuaGFzaDsKICAgIGNvbnN0IHF1ZXJ5ID0gaGFzaC5zdWJzdHJpbmcoaGFzaC5pbmRleE9mKCc9JykgKyAxKTsKICAgIGNvbnN0IGNvZGUgPSBxdWVyeS5zdWJzdHJpbmcoMCwgcXVlcnkuaW5kZXhPZignJicpKTsKICAgIGNvbnNvbGUubG9nKCJjb2RlLS0tIEFQSSDthrXsi6DspJEgfn5+fn5+fj4gIik7CiAgICBjb25zb2xlLmxvZyhjb2RlKTsKCiAgICAvLyBjb25zdCBtZSA9IGF3YWl0IGF4aW9zLnBvc3QoYGh0dHBzOi8vb3BlbmFwaS5uYXZlci5jb20vdjEvbmlkL21lYCwKICAgIC8vIHt9LAogICAgLy8gICB7CiAgICAvLyAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7Y29kZX1gIH0sCiAgICAvLyAgIH0KICAgIC8vICkKICAgIGNvbnN0IG1lID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cHM6Ly9vcGVuYXBpLm5hdmVyLmNvbS92MS9uaWQvbWUnLCB7fSwKICAgIC8vIOu5iCDrjbDsnbTthLAg6rCd7LK0CiAgICB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7Y29kZX1gCiAgICAgIH0KICAgIH0pOwogICAgY29uc29sZS5sb2cobWUpOwogICAgY29uc29sZS5sb2coIk1FIDogOiA6IDogOiA6IiArIEpTT04uc3RyaW5naWZ5KG1lKSk7CiAgICAvLyBjb25zdCBwYXJhbXMgPSB7IHNpZ25fdHlwZTogJ25hdmVyJywgc2lnbl9pZDogbWUuaWQsIHNpZ25fZW1haWw6IG1lLmVtYWlsIH0KICAgIC8vIGNvbnNvbGUubG9nKCJwYXJhbXMgOiA6IDogIiAsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpCiAgICAvLyBjb25zdCBzaWduaW4gPSBhd2FpdCB0aGlzLiRheGlvcy4kcG9zdCgnL2FwaS9hdXRoL3NpZ25pbicsIHBhcmFtcykKICAgIC8vIC8vIGNvbnNvbGUubG9nKHNpZ25pbikKCiAgICAvLyBpZiAoIXNpZ25pbi5zdWNjZXNzKSB7CiAgICAvLyAgIGFsZXJ0KHNpZ25pbi5tZXNzYWdlKQogICAgLy8gICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL2F1dGgvc2lnbmluJykKICAgIC8vICAgcmV0dXJuCiAgICAvLyB9CgogICAgLy8gc3dpdGNoIChzaWduaW4udXNlcl9zdGF0ZSkgewogICAgLy8gICBjYXNlICd3aGl0ZSc6CiAgICAvLyAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1c2VyL3Jlc2V0JykKICAgIC8vICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NpZ24vc25zJywgcGFyYW1zKQogICAgLy8gICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvYXV0aC9zaWdudXAnKQogICAgLy8gICAgIGJyZWFrCiAgICAvLyAgIGNhc2UgJ2dyZWVuJzoKICAgIC8vICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXIvc2V0Jywgc2lnbmluKQogICAgLy8gICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvaG9tZScpCiAgICAvLyAgICAgYnJlYWsKICAgIC8vICAgZGVmYXVsdDoKICAgIC8vICAgICBhbGVydChg66Gc6re47J24IO2VoCDsiJgg7JeG64qUIO2ajOybkOyDge2DnCgke3NpZ25pbi51c2VyX3N0YXRlfSnsnoXri4jri6RgKQogICAgLy8gfQogIH0KfTs="},{"version":3,"names":["axios","name","mounted","hash","$route","query","substring","indexOf","code","console","log","me","post","headers","Authorization","JSON","stringify"],"sources":["src/components/Callback.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <p>네이버 로그인중</p>\n      <ProgressCircular />\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'callback',\n  // layout: 'signin',\n  async mounted() {\n    // console.log(this.$route)\n    // check. error status\n    // if (this.$route.query.error) {\n    //   // alert(this.$route.query.error_description)\n    //   this.$router.push('/auth/signin')\n    //   return\n    // }\n    // get access_token from hash param\n    const hash = this.$route.hash\n    const query = hash.substring(hash.indexOf('=') + 1)\n    const code = query.substring(0, query.indexOf('&'))\n    console.log(\"code--- API 통신중 ~~~~~~~> \")\n    console.log(code)\n    \n    \n    // const me = await axios.post(`https://openapi.naver.com/v1/nid/me`,\n    // {},\n    //   {\n    //     headers: { Authorization: `Bearer ${code}` },\n    //   }\n    // )\n    const me = await axios.post(\n  'https://openapi.naver.com/v1/nid/me',\n      {}, // 빈 데이터 객체\n      {\n        headers: { Authorization: `Bearer ${code}` },\n      }\n    );\n    console.log(me)\n    console.log(\"ME : : : : : :\"+JSON.stringify(me))\n    // const params = { sign_type: 'naver', sign_id: me.id, sign_email: me.email }\n    // console.log(\"params : : : \" , JSON.stringify(params))\n    // const signin = await this.$axios.$post('/api/auth/signin', params)\n    // // console.log(signin)\n\n    // if (!signin.success) {\n    //   alert(signin.message)\n    //   this.$router.replace('/auth/signin')\n    //   return\n    // }\n\n    // switch (signin.user_state) {\n    //   case 'white':\n    //     this.$store.commit('user/reset')\n    //     this.$store.commit('sign/sns', params)\n    //     this.$router.replace('/auth/signup')\n    //     break\n    //   case 'green':\n    //     this.$store.commit('user/set', signin)\n    //     this.$router.replace('/home')\n    //     break\n    //   default:\n    //     alert(`로그인 할 수 없는 회원상태(${signin.user_state})입니다`)\n    // }\n  },\n}\n</script>\n\n<style>\n</style>"],"mappings":"AAUA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACA;EACA,MAAAC,QAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,MAAAC,IAAA,QAAAC,MAAA,CAAAD,IAAA;IACA,MAAAE,KAAA,GAAAF,IAAA,CAAAG,SAAA,CAAAH,IAAA,CAAAI,OAAA;IACA,MAAAC,IAAA,GAAAH,KAAA,CAAAC,SAAA,IAAAD,KAAA,CAAAE,OAAA;IACAE,OAAA,CAAAC,GAAA;IACAD,OAAA,CAAAC,GAAA,CAAAF,IAAA;;IAGA;IACA;IACA;IACA;IACA;IACA;IACA,MAAAG,EAAA,SAAAX,KAAA,CAAAY,IAAA,CACA,uCACA;IAAA;IACA;MACAC,OAAA;QAAAC,aAAA,YAAAN,IAAA;MAAA;IACA,CACA;IACAC,OAAA,CAAAC,GAAA,CAAAC,EAAA;IACAF,OAAA,CAAAC,GAAA,oBAAAK,IAAA,CAAAC,SAAA,CAAAL,EAAA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;AACA","ignoreList":[]}]}