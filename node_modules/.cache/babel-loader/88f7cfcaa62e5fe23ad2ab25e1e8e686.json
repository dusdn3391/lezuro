{"remainingRequest":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js!/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js??ref--1-0!/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/manager/NicePay.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/manager/NicePay.vue","mtime":1734510649821},{"path":"/usr/vue/lezuro_all/babel.config.js","mtime":1728542743944},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNyeXB0byBmcm9tICJjcnlwdG8tYnJvd3NlcmlmeSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVyY2hhbnRLZXk6ICIzM0Y0OUduQ01TMW1GWWxHWGlzYlVEelZmMkFUV0NsOWszUisrZDVoRGQzRnJtdW9zL1hMeDhYaFhwZStMRFlBYnBHS1pZU3d0bHl5TE90Uy84YUQ3QT09IiwKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBQYXlNZXRob2Q6ICIiLAogICAgICAgIEdvb2RzTmFtZTogIuuCmOydtOyKpO2OmOydtC3smIjsoJzsg4HtkogiLAogICAgICAgIEFtdDogIjEwMDAiLAogICAgICAgIE1JRDogIm5pY3Rlc3QwMG0iLAogICAgICAgIE1vaWQ6ICJtbm9pZDE1NDM1MzExNCIsCiAgICAgICAgQnV5ZXJOYW1lOiAi64KY7J207IqkIiwKICAgICAgICBCdXllckVtYWlsOiAiY2tsaGJqMTFAZ21haWwuY29tIiwKICAgICAgICBCdXllclRlbDogIjAxMDk2NjUxMzU0IiwKICAgICAgICBSZXR1cm5VUkw6ICJodHRwczovL3d3dy50YWxrdGFsa2JvYXJkLmNvbS9hcGkvbmljZVBheS5waHAiLAogICAgICAgIFNpZ25EYXRhOiAiIiwKICAgICAgICBFZGlEYXRlOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2VuZXJhdGVIYXNoKCkgewogICAgICBjb25zdCBlZGlEYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1stOi5UWl0vZywgIiIpLnNsaWNlKDAsIDE0KTsKICAgICAgdGhpcy5mb3JtRGF0YS5FZGlEYXRlID0gZWRpRGF0ZTsKICAgICAgY29uc3QgcmF3RGF0YSA9IGVkaURhdGUgKyB0aGlzLmZvcm1EYXRhLk1JRCArIHRoaXMuZm9ybURhdGEuQW10ICsgdGhpcy5tZXJjaGFudEtleTsKICAgICAgdGhpcy5mb3JtRGF0YS5TaWduRGF0YSA9IGNyeXB0by5jcmVhdGVIYXNoKCJzaGEyNTYiKS51cGRhdGUocmF3RGF0YSkuZGlnZXN0KCJoZXgiKTsKICAgIH0sCiAgICBuaWNlcGF5U3RhcnQoKSB7CiAgICAgIHRoaXMuZ2VuZXJhdGVIYXNoKCk7CiAgICAgIHRoaXMuZ29QYXkodGhpcy4kcmVmcy5wYXlGb3JtKTsKICAgIH0sCiAgICBnb1BheShmb3JtRWxlbWVudCkgewogICAgICAvLyBTaW11bGF0ZSBjYWxsaW5nIHRoZSBOaWNlUGF5IGdvUGF5IGZ1bmN0aW9uCiAgICAgIGNvbnNvbGUubG9nKCJnb1BheSBjYWxsZWQgd2l0aCBmb3JtOiIsIGZvcm1FbGVtZW50KTsKCiAgICAgIC8vIEFwcGx5IGJhY2tncm91bmQgZGltbWluZwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJyZ2JhKDAsIDAsIDAsIDAuNSkiOwoKICAgICAgLy8gU2ltdWxhdGUgYSBkZWxheSBmb3IgdGhlIHBheW1lbnQgcHJvY2VzcwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLm5pY2VwYXlTdWJtaXQoKTsKICAgICAgfSwgMjAwMCk7IC8vIEV4YW1wbGUgZGVsYXkgZm9yIGRlbW9uc3RyYXRpb24KICAgIH0sCiAgICBuaWNlcGF5U3VibWl0KCkgewogICAgICBhbGVydCgi6rKw7KCcIO2UhOuhnOyEuOyKpOqwgCDsmYTro4zrkJjsl4jsirXri4jri6QuIik7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7IC8vIFJlbW92ZSBiYWNrZ3JvdW5kIGRpbW1pbmcKICAgICAgLy8gWW91IGNhbiBhbHNvIGhhbmRsZSB0aGUgYWN0dWFsIGZvcm0gc3VibWlzc2lvbiBoZXJlCiAgICAgIGNvbnNvbGUubG9nKCJGb3JtIHN1Ym1pdHRlZCB3aXRoIGRhdGE6IiwgdGhpcy5mb3JtRGF0YSk7CiAgICB9LAogICAgc3VibWl0Rm9ybSgpIHsKICAgICAgY29uc29sZS5sb2coIlN1Ym1pdCBmb3JtIGNhbGxlZCIpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2VuZXJhdGVIYXNoKCk7CiAgfQp9Ow=="},{"version":3,"names":["crypto","data","merchantKey","formData","PayMethod","GoodsName","Amt","MID","Moid","BuyerName","BuyerEmail","BuyerTel","ReturnURL","SignData","EdiDate","methods","generateHash","ediDate","Date","toISOString","replace","slice","rawData","createHash","update","digest","nicepayStart","goPay","$refs","payForm","formElement","console","log","document","body","style","backgroundColor","setTimeout","nicepaySubmit","alert","submitForm","mounted"],"sources":["src/components/manager/NicePay.vue"],"sourcesContent":["<template>\n  <div>\n    <form ref=\"payForm\" @submit.prevent=\"submitForm\">\n      <table>\n        <tr>\n          <th>결제 수단</th>\n          <td><input type=\"text\" v-model=\"formData.PayMethod\" /></td>\n        </tr>\n        <tr>\n          <th>결제 상품명</th>\n          <td><input type=\"text\" v-model=\"formData.GoodsName\" /></td>\n        </tr>\n        <tr>\n          <th>결제 상품금액</th>\n          <td><input type=\"text\" v-model=\"formData.Amt\" /></td>\n        </tr>\n        <tr>\n          <th>상점 아이디</th>\n          <td><input type=\"text\" v-model=\"formData.MID\" /></td>\n        </tr>\n        <tr>\n          <th>상품 주문번호</th>\n          <td><input type=\"text\" v-model=\"formData.Moid\" /></td>\n        </tr>\n        <tr>\n          <th>구매자명</th>\n          <td><input type=\"text\" v-model=\"formData.BuyerName\" /></td>\n        </tr>\n        <tr>\n          <th>구매자명 이메일</th>\n          <td><input type=\"text\" v-model=\"formData.BuyerEmail\" /></td>\n        </tr>\n        <tr>\n          <th>구매자 연락처</th>\n          <td><input type=\"text\" v-model=\"formData.BuyerTel\" /></td>\n        </tr>\n        <tr>\n          <th>인증완료 결과처리 URL</th>\n          <td><input type=\"text\" v-model=\"formData.ReturnURL\" /></td>\n        </tr>\n        <tr>\n          <th>가상계좌입금만료일</th>\n          <td><input type=\"text\" v-model=\"formData.SignData\" disabled /></td>\n        </tr>\n      </table>\n      <button type=\"button\" @click=\"nicepayStart\">요 청</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport crypto from \"crypto-browserify\";\n\nexport default {\n  data() {\n    return {\n      merchantKey: \"33F49GnCMS1mFYlGXisbUDzVf2ATWCl9k3R++d5hDd3Frmuos/XLx8XhXpe+LDYAbpGKZYSwtlyyLOtS/8aD7A==\",\n      formData: {\n        PayMethod: \"\",\n        GoodsName: \"나이스페이-예제상품\",\n        Amt: \"1000\",\n        MID: \"nictest00m\",\n        Moid: \"mnoid154353114\",\n        BuyerName: \"나이스\",\n        BuyerEmail: \"cklhbj11@gmail.com\",\n        BuyerTel: \"01096651354\",\n        ReturnURL: \"https://www.talktalkboard.com/api/nicePay.php\",\n        SignData: \"\",\n        EdiDate: \"\"\n      }\n    };\n  },\n  methods: {\n    generateHash() {\n      const ediDate = new Date().toISOString().replace(/[-:.TZ]/g, \"\").slice(0, 14);\n      this.formData.EdiDate = ediDate;\n      const rawData = ediDate + this.formData.MID + this.formData.Amt + this.merchantKey;\n      this.formData.SignData = crypto\n        .createHash(\"sha256\")\n        .update(rawData)\n        .digest(\"hex\");\n    },\n    nicepayStart() {\n      this.generateHash();\n      this.goPay(this.$refs.payForm);\n    },\n    goPay(formElement) {\n      // Simulate calling the NicePay goPay function\n      console.log(\"goPay called with form:\", formElement);\n\n      // Apply background dimming\n      document.body.style.backgroundColor = \"rgba(0, 0, 0, 0.5)\";\n\n      // Simulate a delay for the payment process\n      setTimeout(() => {\n        this.nicepaySubmit();\n      }, 2000); // Example delay for demonstration\n    },\n    nicepaySubmit() {\n      alert(\"결제 프로세스가 완료되었습니다.\");\n      document.body.style.backgroundColor = \"\"; // Remove background dimming\n      // You can also handle the actual form submission here\n      console.log(\"Form submitted with data:\", this.formData);\n    },\n    submitForm() {\n      console.log(\"Submit form called\");\n    }\n  },\n  mounted() {\n    this.generateHash();\n  }\n};\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n}\nform {\n  overflow: hidden;\n}\n</style>\n"],"mappings":"AAmDA,OAAAA,MAAA;AAEA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,QAAA;QACAC,SAAA;QACAC,SAAA;QACAC,GAAA;QACAC,GAAA;QACAC,IAAA;QACAC,SAAA;QACAC,UAAA;QACAC,QAAA;QACAC,SAAA;QACAC,QAAA;QACAC,OAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,aAAA;MACA,MAAAC,OAAA,OAAAC,IAAA,GAAAC,WAAA,GAAAC,OAAA,iBAAAC,KAAA;MACA,KAAAlB,QAAA,CAAAW,OAAA,GAAAG,OAAA;MACA,MAAAK,OAAA,GAAAL,OAAA,QAAAd,QAAA,CAAAI,GAAA,QAAAJ,QAAA,CAAAG,GAAA,QAAAJ,WAAA;MACA,KAAAC,QAAA,CAAAU,QAAA,GAAAb,MAAA,CACAuB,UAAA,WACAC,MAAA,CAAAF,OAAA,EACAG,MAAA;IACA;IACAC,aAAA;MACA,KAAAV,YAAA;MACA,KAAAW,KAAA,MAAAC,KAAA,CAAAC,OAAA;IACA;IACAF,MAAAG,WAAA;MACA;MACAC,OAAA,CAAAC,GAAA,4BAAAF,WAAA;;MAEA;MACAG,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,eAAA;;MAEA;MACAC,UAAA;QACA,KAAAC,aAAA;MACA;IACA;IACAA,cAAA;MACAC,KAAA;MACAN,QAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,eAAA;MACA;MACAL,OAAA,CAAAC,GAAA,mCAAA7B,QAAA;IACA;IACAqC,WAAA;MACAT,OAAA,CAAAC,GAAA;IACA;EACA;EACAS,QAAA;IACA,KAAAzB,YAAA;EACA;AACA","ignoreList":[]}]}