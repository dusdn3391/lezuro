{"remainingRequest":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js!/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js??ref--1-0!/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/Callback.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/Callback.vue","mtime":1730777121944},{"path":"/usr/vue/lezuro_all/babel.config.js","mtime":1728542743944},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjYWxsYmFjaycsCiAgLy8gbGF5b3V0OiAnc2lnbmluJywKICBhc3luYyBtb3VudGVkKCkgewogICAgY29uc3QgaGFzaCA9IHRoaXMuJHJvdXRlLmhhc2g7CiAgICBjb25zdCBxdWVyeSA9IGhhc2guc3Vic3RyaW5nKGhhc2guaW5kZXhPZignPScpICsgMSk7CiAgICBjb25zdCBjb2RlID0gcXVlcnkuc3Vic3RyaW5nKDAsIHF1ZXJ5LmluZGV4T2YoJyYnKSk7CiAgICBjb25zb2xlLmxvZygiY29kZS0tLSBBUEkg7Ya17Iug7KSRIH5+fn5+fn4+ICIpOwogICAgY29uc29sZS5sb2coY29kZSk7CiAgICAvLyBjb25zb2xlLmxvZyhoYXNoKQogICAgLy8gY29uc29sZS5sb2cocXVlcnkpCiAgICAvLyB2YXIgaGVhZGVyID0gIkJlYXJlciAiICsgY29kZTsgLy8gQmVhcmVyIOuLpOydjOyXkCDqs7XrsLEg7LaU6rCACgogICAgY29uc3QgYWNjZXNzX3Rva2VuID0gY29kZTsKICAgIC8vIGNvbnN0IG1lID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50YWxrdGFsa2JvYXJkLmNvbS9hcGkvbmF2ZXJMb2dpbi5waHA/YWNjZXNzX3Rva2VuPSR7YWNjZXNzX3Rva2VufWApCiAgICBjb25zdCBtZSA9IGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly8zLjM1LjE1LjQ5OjMwMDAvYXBpL3YxL2F1dGgvbmF2ZXIvbG9naW4nLCB7CiAgICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NfdG9rZW4KICAgIH0sIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdhY2NlcHQnOiAnKi8qJywKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgIH0KICAgIH0pOwogICAgY29uc29sZS5sb2cobWUuZGF0YS5tZXNzYWdlKTsKICAgIGNvbnNvbGUubG9nKCJNRSA6IDogOiA6IDogOiIgKyBKU09OLnN0cmluZ2lmeShtZSkpOwogICAgaWYgKG1lLmRhdGEucmVmcmVzaFRva2VuKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoVG9rZW4nLCBtZS5kYXRhLnJlZnJlc2hUb2tlbik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdUb2tlbicsIG1lLmRhdGEudG9rZW4pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9naW5JbmZvJywgSlNPTi5zdHJpbmdpZnkobWUuZGF0YS51c2VyKSk7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL2xvZ2luJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","name","mounted","hash","$route","query","substring","indexOf","code","console","log","access_token","me","post","accessToken","headers","data","message","JSON","stringify","refreshToken","localStorage","setItem","token","user","$router","replace"],"sources":["src/components/Callback.vue"],"sourcesContent":["<template>\n \n\n      <p>네이버 로그인중</p>\n\n\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'callback',\n  // layout: 'signin',\n  async mounted() {\n   \n    const hash = this.$route.hash\n    const query = hash.substring(hash.indexOf('=') + 1)\n    const code = query.substring(0, query.indexOf('&'))\n    console.log(\"code--- API 통신중 ~~~~~~~> \")\n    console.log(code)\n    // console.log(hash)\n    // console.log(query)\n    // var header = \"Bearer \" + code; // Bearer 다음에 공백 추가\n     \n      const access_token = code;\n      // const me = await axios.get(`https://www.talktalkboard.com/api/naverLogin.php?access_token=${access_token}`)\n      const me = await axios.post('http://3.35.15.49:3000/api/v1/auth/naver/login',{\n        accessToken : access_token\n      },\n      {\n        headers: {\n          'accept': '*/*',\n          'Content-Type': 'application/json',\n        },\n      })\n    \n    \n    console.log(me.data.message)\n    console.log(\"ME : : : : : :\"+JSON.stringify(me))\n    if(me.data.refreshToken){\n      localStorage.setItem('refreshToken', me.data.refreshToken);\n      localStorage.setItem('Token', me.data.token);\n      localStorage.setItem('loginInfo', JSON.stringify(me.data.user));\n      this.$router.replace('/')  \n    }else{\n      this.$router.replace('/login')  \n    }\n    \n    \n  },\n}\n</script>\n\n<style>\n</style>"],"mappings":"AASA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACA;EACA,MAAAC,QAAA;IAEA,MAAAC,IAAA,QAAAC,MAAA,CAAAD,IAAA;IACA,MAAAE,KAAA,GAAAF,IAAA,CAAAG,SAAA,CAAAH,IAAA,CAAAI,OAAA;IACA,MAAAC,IAAA,GAAAH,KAAA,CAAAC,SAAA,IAAAD,KAAA,CAAAE,OAAA;IACAE,OAAA,CAAAC,GAAA;IACAD,OAAA,CAAAC,GAAA,CAAAF,IAAA;IACA;IACA;IACA;;IAEA,MAAAG,YAAA,GAAAH,IAAA;IACA;IACA,MAAAI,EAAA,SAAAZ,KAAA,CAAAa,IAAA;MACAC,WAAA,EAAAH;IACA,GACA;MACAI,OAAA;QACA;QACA;MACA;IACA;IAGAN,OAAA,CAAAC,GAAA,CAAAE,EAAA,CAAAI,IAAA,CAAAC,OAAA;IACAR,OAAA,CAAAC,GAAA,oBAAAQ,IAAA,CAAAC,SAAA,CAAAP,EAAA;IACA,IAAAA,EAAA,CAAAI,IAAA,CAAAI,YAAA;MACAC,YAAA,CAAAC,OAAA,iBAAAV,EAAA,CAAAI,IAAA,CAAAI,YAAA;MACAC,YAAA,CAAAC,OAAA,UAAAV,EAAA,CAAAI,IAAA,CAAAO,KAAA;MACAF,YAAA,CAAAC,OAAA,cAAAJ,IAAA,CAAAC,SAAA,CAAAP,EAAA,CAAAI,IAAA,CAAAQ,IAAA;MACA,KAAAC,OAAA,CAAAC,OAAA;IACA;MACA,KAAAD,OAAA,CAAAC,OAAA;IACA;EAGA;AACA","ignoreList":[]}]}