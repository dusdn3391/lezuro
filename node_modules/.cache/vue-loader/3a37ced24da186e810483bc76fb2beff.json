{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/admin/AdminTermsDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/admin/AdminTermsDetail.vue","mtime":1734057775625},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/thread-loader/dist/cjs.js","mtime":1728542748260},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBZG1pbkhlYWRlciBmcm9tICIuL0FkbWluSGVhZGVyLnZ1ZSI7CmltcG9ydCBBZG1pbk5hdmJhciBmcm9tICIuL0FkbWluTmF2YmFyLnZ1ZSI7CmltcG9ydCB7IGFkbWluU3RvcmUgfSBmcm9tICJAL3N0b3JlL2FkbWluU3RvcmUiOyAvLyBBUEkg7Zi47LacCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkbWluVGVybXNEZXRhaWwiLAogIGNvbXBvbmVudHM6IHsKICAgIEFkbWluSGVhZGVyLAogICAgQWRtaW5OYXZiYXIsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZ3JvdXBlZFRlcm1zOiB7fSwKICAgICAgdHlwZTogIiIsIAogICAgfTsKICB9LAogICAgLy8gVVJM7J2YIHF1ZXJ57JeQ7IScIHR5cGUg6rCS7J2EIOqwgOyguOyYtAogICAgbW91bnRlZCgpIHsKICAvLyBVUkwg7L+866as7JeQ7IScIGlk7JmAIHR5cGUg6rCS7J2EIOqwgOyguOyYteuLiOuLpC4KICBjb25zdCB7IGlkLCB0eXBlIH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsKCiAgY29uc29sZS5sb2coIuuwm+ydgCDslb3qtIAgSUQ6IiwgaWQpOwogIGNvbnNvbGUubG9nKCLrsJvsnYAg7JW96rSAIHR5cGU6IiwgdHlwZSk7CgogIGlmICh0eXBlKSB7CiAgICAvLyB0eXBl7J20IOyeiOuKlCDqsr3smrAg7ZW064u5IOuNsOydtO2EsOulvCDroZzrk5ztlanri4jri6QuCiAgICB0aGlzLnR5cGUgPSB0eXBlOyAvLyB0eXBl7J2EIOy7tO2PrOuEjO2KuOydmCBkYXRh7JeQIOyggOyepQogICAgdGhpcy5sb2FkVGVybXNEYXRhKHR5cGUpOyAvLyDrjbDsnbTthLAg66Gc65OcCiAgfSBlbHNlIHsKICAgIGNvbnNvbGUud2FybigidHlwZSDqsJLsnbQg7JeG7Iq164uI64ukLiIpOwogIH0KfSwKICBtZXRob2RzOiB7CiAgICB0b0dvTGlzdCgpewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiIvYWRtaW50ZXJtcy1saXN0In0pCiAgICB9LAogICAgRWRpdFRlcm1zKHRlcm0pIHsKICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgbmFtZTogIkFkbWluVGVybXNXcml0ZSIsCiAgICAgIHBhcmFtczogewogICAgICAgIGlkOiB0ZXJtLmlkLAogICAgICAgIHRpdGxlOiB0ZXJtLnRpdGxlLAogICAgICAgIHR5cGU6IHRlcm0udHlwZSwgCiAgICAgICAgY29udGVudDogdGVybS5jb250ZW50LAogICAgICAgIGlzRWRpdDogdHJ1ZSAKICAgICAgfSwKICAgIH0pOwogIH0sCiAgICBhc3luYyBsb2FkVGVybXNEYXRhKHR5cGUpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyBBUEkg7Zi47LacCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhZG1pblN0b3JlLmdldFRhc2soYHRlcm1zYCk7CiAgICAgICAgY29uc29sZS5sb2coIuuwm+ydgCDrjbDsnbTthLA6IiwgcmVzcG9uc2UpOwoKICAgICAgICAvLyB0eXBl67OEIOuNsOydtO2EsCDtlYTthLDrp4EKICAgICAgICBjb25zdCBmaWx0ZXJlZFRlcm1zID0gcmVzcG9uc2UuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnR5cGUgPT09IHR5cGUpOwoKICAgICAgICAvLyDrjbDsnbTthLAg6re466O57ZmUCiAgICAgICAgY29uc3QgZ3JvdXBlZCA9IGZpbHRlcmVkVGVybXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHsKICAgICAgICAgIGlmICghYWNjW2l0ZW0udHlwZV0pIHsKICAgICAgICAgICAgYWNjW2l0ZW0udHlwZV0gPSBbXTsKICAgICAgICAgIH0KICAgICAgICAgIGFjY1tpdGVtLnR5cGVdLnB1c2goaXRlbSk7CiAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgIH0sIHt9KTsKCiAgICAgICAgdGhpcy5ncm91cGVkVGVybXMgPSBncm91cGVkOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuuNsOydtO2EsOulvCDqsIDsoLjsmKTripQg7KSRIOyYpOulmCDrsJzsg506IiwgZXJyb3IpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AdminTermsDetail.vue"],"names":[],"mappings":";AAoDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminTermsDetail.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n<div class=\"all\">\n  <AdminHeader />\n  <div class=\"wrap\">\n    <div class=\"reservation-container\">\n      <AdminNavbar />\n      <div class=\"wrapper\">\n        <!-- 타이틀 -->\n        <div class=\"title-box\">\n          <h2 class=\"pretendard-bold-normal-black-28px\">약관 관리</h2>\n        </div>\n\n        <!-- 약관 종류별 데이터 표시 -->\n        <div v-for=\"(terms, type) in groupedTerms\" :key=\"type\" class=\"list-box\">\n          <!-- 약관 종류 -->\n          <div class=\"as-title\">\n            <div class=\"event-align\">\n              <div class=\"pretendard-bold-log-cabin-30px\">\n                약관 종류: {{ type }}\n              </div>\n            </div>\n          </div>\n\n    <!-- 약관 데이터 리스트 -->\n    <div v-for=\"term in terms\" :key=\"term.id\" class=\"box\">\n              <div class=\"q pretendard-regular-normal-mountain-mist-20px\">\n                제목: {{ term.title }}\n              </div>\n              <div class=\"a pretendard-regular-normal-mountain-mist-20px\">\n                내용: {{ term.content }}\n              </div>\n              <!-- 24.12.11 수정 -->\n              <button v-if=\"term.id === Number($route.query.id)\"\n                class=\"edit-terms pretendard-regular-normal-white-16px\" @click=\"EditTerms(term)\">\n                수정하기\n              </button>\n            </div>\n            <div class=\"as-content\">\n              <!-- 24.12.11 수정 -->\n              <button class=\"list-btn pretendard-medium-white-18px\" @click=\"toGoList()\">\n                목록으로\n              </button>\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n</template>\n\n<script>\nimport AdminHeader from \"./AdminHeader.vue\";\nimport AdminNavbar from \"./AdminNavbar.vue\";\nimport { adminStore } from \"@/store/adminStore\"; // API 호출\n\nexport default {\n  name: \"AdminTermsDetail\",\n  components: {\n    AdminHeader,\n    AdminNavbar,\n  },\n  data() {\n    return {\n      groupedTerms: {},\n      type: \"\", \n    };\n  },\n    // URL의 query에서 type 값을 가져옴\n    mounted() {\n  // URL 쿼리에서 id와 type 값을 가져옵니다.\n  const { id, type } = this.$route.query;\n\n  console.log(\"받은 약관 ID:\", id);\n  console.log(\"받은 약관 type:\", type);\n\n  if (type) {\n    // type이 있는 경우 해당 데이터를 로드합니다.\n    this.type = type; // type을 컴포넌트의 data에 저장\n    this.loadTermsData(type); // 데이터 로드\n  } else {\n    console.warn(\"type 값이 없습니다.\");\n  }\n},\n  methods: {\n    toGoList(){\n        this.$router.push({path:\"/adminterms-list\"})\n    },\n    EditTerms(term) {\n    this.$router.replace({\n      name: \"AdminTermsWrite\",\n      params: {\n        id: term.id,\n        title: term.title,\n        type: term.type, \n        content: term.content,\n        isEdit: true \n      },\n    });\n  },\n    async loadTermsData(type) {\n      try {\n        // API 호출\n        const response = await adminStore.getTask(`terms`);\n        console.log(\"받은 데이터:\", response);\n\n        // type별 데이터 필터링\n        const filteredTerms = response.filter((item) => item.type === type);\n\n        // 데이터 그룹화\n        const grouped = filteredTerms.reduce((acc, item) => {\n          if (!acc[item.type]) {\n            acc[item.type] = [];\n          }\n          acc[item.type].push(item);\n          return acc;\n        }, {});\n\n        this.groupedTerms = grouped;\n      } catch (error) {\n        console.error(\"데이터를 가져오는 중 오류 발생:\", error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 전체 컨테이너의 배경색 설정 */\n.reservation-container {\n  background-color: #f5f6f6;\n  display: flex;\n  height: 100%;\n  width: 100%;\n  /* 기본값이 세로방향인 flex-direction을 가로방향으로 설정 */\n  flex-direction: row;\n}\n\n.wrapper {\n  flex-grow: 1;\n  /* 나머지 공간을 차지하게 함 */\n  padding: 30px;\n  gap: 20px;\n}\n\n/* 타이틀 박스 */\n.title-box {\n  background-color: #fff;\n  padding: 24px 30px;\n  margin-bottom: 20px;\n  gap: 10px;\n}\n\n/* 리스트 박스 */\n.list-box {\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  background-color: #fff;\n  padding: 30px;\n}\n\n.as-title {\n  align-items: flex-start;\n  align-self: stretch;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 16px;\n  position: relative;\n  width: 100%;\n  padding-bottom: 40px;\n}\n\n.as-info {\n  align-items: center;\n  display: inline-flex;\n  flex: 0 0 auto;\n  gap: 10px;\n  justify-content: center;\n  position: relative;\n}\n\n.as-content {\n  align-items: center;\n  align-self: stretch;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 50px;\n  position: relative;\n  width: 100%;\n}\n\n.as-content-st {\n  align-items: flex-start;\n  align-self: stretch;\n  border: 1px solid;\n  border-color: var(--alto);\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 30px;\n  padding: 40px;\n  position: relative;\n  width: 100%;\n}\n.as-content-st img {\n  width: 100%;\n}\n.ft {\n  letter-spacing: 0;\n  line-height: 28px;\n  margin-top: -1px;\n  position: relative;\n  /* width: 1320px; */\n}\n\n.list-btn {\n  /* letter-spacing: 0; */\n  /* line-height: normal; */\n  position: relative;\n  /* white-space: nowrap; */\n  background-color: #D30F1A;\n  width: 200px;\n  height: 50px;\n  border: none;\n  /* padding: 18px 66px; */\n}\n\n.reply {\n  height: 150px;\n  position: relative;\n  width: 100%;\n}\n\n.reply-input {\n  align-items: flex-start;\n  background-color: var(--hint-of-red);\n  border: 1px solid;\n  border-color: var(--celeste);\n  display: flex;\n  gap: 10px;\n  height: 150px;\n  left: 0;\n  padding: 20px;\n  position: relative;\n  top: 0;\n  width: 100%;\n}\n\n.reply-btn {\n  display: flex;\n  position: absolute;\n  /* 부모 요소의 하단에 배치 */\n  bottom: 10px;\n  right: 0;\n}\n\n.cancel-btn,\n.insert-btn {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0.5px solid;\n  border-color: var(--blackwhitewhite);\n  border-radius: 8px;\n  gap: 10px;\n  height: 48px;\n  width: 90px;\n  margin-right: 10px;\n}\n\n.cancel-btn {\n  background-color: var(--mountain-mist);\n}\n\n.insert-btn {\n  background-color: var(--torea-bay);\n}\n\n.reply-content-detail {\n  left: 25px;\n  /* letter-spacing: -0.72px; */\n  line-height: 32px;\n  position: absolute;\n  top: 81px;\n}\n\n.process-status {\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n\n.status {\n  display: flex;\n  margin-right: 40px;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n\n.process-status span {\n  color: #d30f1a;\n}\n\n.process-status select {\n  height: 56px;\n  width: 93%;\n  right: 0;\n}\n\n.cancel-button {\n  background-color: #999;\n  border: none;\n  width: 90px;\n  height: 48px;\n  border-radius: 4px;\n  color: white;\n  cursor: pointer;\n}\n\n.submit-button {\n  background-color: #184199;\n  border: none;\n  width: 90px;\n  height: 48px;\n  border-radius: 4px;\n  color: white;\n  cursor: pointer;\n}\n\n.divider {\n  border-top: 1px solid #dddddd;\n  margin: 10px 0;\n}\n\n.event-align {\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n}\n\n.event-align button {\n  border: none;\n  width: 150px;\n  height: 45px;\n  line-height: 21.48px;\n  color: #ffffff;\n  background-color: #ccc;\n}\n\n.box {\n  border: 1px solid #ddd;\n  width: 100%;\n  padding: 30px;\n}\n\n.a {\n  margin-top: 20px;\n}\n\n.edit-terms{\n    margin-top:20px;\n    background-color: #184199; \n    color:#fff;\n    padding:10px;\n    border:none;\n}\n</style>\n"]}]}