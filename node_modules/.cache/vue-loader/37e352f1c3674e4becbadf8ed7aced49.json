{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/NoticeDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/NoticeDetail.vue","mtime":1734600395646},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHRhc2tTdG9yZSB9IGZyb20gIkAvc3RvcmUvdGFza1N0b3JlIjsKaW1wb3J0IEhlYWRlciBmcm9tICIuL0hlYWRlciI7CmltcG9ydCBSalpzV2kgZnJvbSAiLi9SalpzV2kiOwppbXBvcnQgWEZvb3RlciBmcm9tICIuL1hGb290ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk5vdGljZURldGFpbCIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyLAogICAgUmpac1dpLAogICAgWEZvb3RlciwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIiIsCiAgICAgIHVwZGF0ZWRBdDogIiIsCiAgICAgIGF1dGhvcjogIiIsCiAgICAgIHZpZXdzOiAiIiwKICAgICAgY29udGVudDogIiIsCiAgICAgIGltYWdlVXJsOiAiIiwKICAgIH07CiAgfSwKICBwcm9wczogWyJySlpzV0lQcm9wcyJdLAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICAvLyDrnbzsmrDtirjsl5DshJwg7KCE64us65CcIOyDge2DnCDrjbDsnbTthLDrpbwg6rCA7KC47Ji164uI64ukLgogICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZAogICAgY29uc29sZS5sb2coIlJlY2VpdmVkIElEOiIsIGlkKTsKICAgIGlmIChpZCkgewogICAgICB0aGlzLmlkID0gaWQ7CiAgICAgIGF3YWl0IHRoaXMuZmV0Y2hOb3RpY2VEZXRhaWwoKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoIklE66W8IOywvuydhCDsiJgg7JeG7Iq164uI64ukLiIpOwogICAgICB0aGlzLnRvR29Ob3RpY2VMaXN0KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyB1cGRhdGVWaWV3cyhjb3VudCkgewogICAgICBjb25zb2xlLmxvZygiY291bnQgOiA6IDogIiwgY291bnQpCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICB2aWV3czogY291bnQgKyAxCiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhc2tTdG9yZS51cGRhdGVUYXNrKGBjdXN0b21lci1ub3RpY2UvJHtwYXJzZUludCh0aGlzLmlkKX0vYCwgcGFyYW1zKTsKICAgICAgICBjb25zb2xlLmxvZygiQVBJIOydkeuLtToiLCByZXNwb25zZSk7CgoKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLqsozsi5ztjJAg642w7J207YSw66W8IOqwgOyguOyYpOuKlCDspJEg7Jik66WYIOuwnOyDnToiLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBmZXRjaE5vdGljZURldGFpbCgpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyBBUEkg7Zi47LacCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YXNrU3RvcmUuZ2V0U2VsZWN0VGFza3MoYGN1c3RvbWVyLW5vdGljZS8ke3RoaXMuaWR9YCk7CiAgICAgICAgY29uc29sZS5sb2coIkFQSSDsnZHri7U6IiwgcmVzcG9uc2UpOwoKICAgICAgICAvLyDsnZHri7Xsl5DshJwg642w7J207YSw66W8IOy2lOy2nCAo7IiY7KCV65CcIOu2gOu2hCkKICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2U7CgogICAgICAgIHRoaXMudXBkYXRlVmlld3MoZGF0YS52aWV3cykKICAgICAgICAvLyDrjbDsnbTthLDqsIAg7KG07J6s7ZWY64qU7KeAIO2ZleyduO2VmOqzoCDtlaDri7kKICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgdGhpcy50aXRsZSA9IGRhdGEudGl0bGUKICAgICAgICAgIHRoaXMudXBkYXRlZEF0ID0gZGF0YS51cGRhdGVkQXQgPyBkYXRhLnVwZGF0ZWRBdC5zcGxpdCgiVCIpWzBdIDogIuuCoOynnCDsl4bsnYwiOwogICAgICAgICAgdGhpcy5hdXRob3IgPSBkYXRhLmF1dGhvciB8fCAi7J6R7ISx7J6QIOyXhuydjCI7CiAgICAgICAgICB0aGlzLnZpZXdzID0gZGF0YS52aWV3cyB8fCAwOwogICAgICAgICAgdGhpcy5jb250ZW50ID0gZGF0YS5jb250ZW50IHx8ICLrgrTsmqnsnbQg7JeG7Iq164uI64ukLiI7CiAgICAgICAgICB0aGlzLmltYWdlVXJsID0gZGF0YS5pbWFnZVVybAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCLsnZHri7Ug642w7J207YSw6rCAIOyXhuyKteuLiOuLpC4iKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigi6rO17KeA7IKs7ZWtIOuNsOydtO2EsOulvCDqsIDsoLjsmKTripQg7KSRIOyYpOulmCDrsJzsg506IiwgZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgdG9Hb05vdGljZUxpc3QoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9ub3RpY2UtbGlzdCIgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["NoticeDetail.vue"],"names":[],"mappings":";AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NoticeDetail.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container-center-horizontal\">\n    <div class=\"announcementsdetails screen\">\n      <Header />\n      <rj-zs-wi :frame72911Props=\"rJZsWIProps.frame72911Props\" :frame72912Props=\"rJZsWIProps.frame72912Props\" />\n      <div class=\"frame-7913\">\n        <div class=\"title pretendard-bold-log-cabin-38px\">공지사항</div>\n        <div class=\"notice-detail\">\n          <div class=\"frame-7754-2\">\n            <div class=\"text-1934 valign-text-middle pretendard-bold-log-cabin-30px\">\n              {{ title }}\n            </div>\n            <div class=\"frame-7835-2 pretendard-regular-normal-mountain-mist-20px\">\n              <div class=\"frame-7835-item-1 valign-text-middle\">\n                {{ updatedAt }}\n              </div>\n              <!-- <div class=\"rectangle-50927\"></div> -->\n              <!-- 24.12.19 수정 -->\n              <span>l</span>\n              <div class=\"frame-7835-item-1 valign-text-middle\">\n                {{ author }}\n              </div>\n              <!-- <div class=\"rectangle-50927\"></div> -->\n              <!-- 24.12.19 수정 -->\n              <span>l</span>\n              <div class=\"frame-7835-item-1 valign-text-middle\">\n                조회수 : {{ views }}\n              </div>\n            </div>\n          </div>\n          <div class=\"frame-7836-6 pretendard-light-granite-gray-18px\">\n            <p class=\"lorem-ipsum-dolor-si-7 valign-text-middle\">\n              {{ content }}\n            </p>\n            <div v-if=\"imageUrl\" class=\"image-container\">\n              <img :src=\"imageUrl\" alt=\"첨부된 이미지\" class=\"uploaded-image\" />\n            </div>\n          </div>\n        </div>\n\n\n        <!-- <div class=\"frame-7912\">\n          <article class=\"frame-7923-3\">\n            <div class=\"text_label-31 valign-text-middle pretendard-medium-white-18px\" @click=\"toGoNoticeList\">\n              목록으로\n            </div>\n          </article>\n        </div> -->\n        <!-- 24.12.19 수정 -->\n        <button class=\"to-go-list valign-text-middle pretendard-medium-white-18px\" @click=\"toGoNoticeList\">\n          목록으로\n        </button>\n      </div>\n      <x-footer />\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { taskStore } from \"@/store/taskStore\";\nimport Header from \"./Header\";\nimport RjZsWi from \"./RjZsWi\";\nimport XFooter from \"./XFooter\";\nexport default {\n  name: \"NoticeDetail\",\n  components: {\n    Header,\n    RjZsWi,\n    XFooter,\n  },\n  data() {\n    return {\n      title: \"\",\n      updatedAt: \"\",\n      author: \"\",\n      views: \"\",\n      content: \"\",\n      imageUrl: \"\",\n    };\n  },\n  props: [\"rJZsWIProps\"],\n  async mounted() {\n    // 라우트에서 전달된 상태 데이터를 가져옵니다.\n    const id = this.$route.query.id\n    console.log(\"Received ID:\", id);\n    if (id) {\n      this.id = id;\n      await this.fetchNoticeDetail();\n    } else {\n      console.error(\"ID를 찾을 수 없습니다.\");\n      this.toGoNoticeList();\n    }\n  },\n  methods: {\n    async updateViews(count) {\n      console.log(\"count : : : \", count)\n      const params = {\n        views: count + 1\n      }\n      try {\n        const response = await taskStore.updateTask(`customer-notice/${parseInt(this.id)}/`, params);\n        console.log(\"API 응답:\", response);\n\n\n      } catch (error) {\n        console.error(\"게시판 데이터를 가져오는 중 오류 발생:\", error);\n      }\n    },\n    async fetchNoticeDetail() {\n      try {\n        // API 호출\n        const response = await taskStore.getSelectTasks(`customer-notice/${this.id}`);\n        console.log(\"API 응답:\", response);\n\n        // 응답에서 데이터를 추출 (수정된 부분)\n        const data = response;\n\n        this.updateViews(data.views)\n        // 데이터가 존재하는지 확인하고 할당\n        if (data) {\n          this.title = data.title\n          this.updatedAt = data.updatedAt ? data.updatedAt.split(\"T\")[0] : \"날짜 없음\";\n          this.author = data.author || \"작성자 없음\";\n          this.views = data.views || 0;\n          this.content = data.content || \"내용이 없습니다.\";\n          this.imageUrl = data.imageUrl\n        } else {\n          console.error(\"응답 데이터가 없습니다.\");\n        }\n      } catch (error) {\n        console.error(\"공지사항 데이터를 가져오는 중 오류 발생:\", error);\n      }\n    },\n    toGoNoticeList() {\n      this.$router.push({ path: \"/notice-list\" });\n    },\n  },\n};\n</script>\n\n<style scoped src=\"@/style/cs/noticedetail.css\"></style>\n"]}]}