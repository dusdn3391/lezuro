{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/Callback.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/Callback.vue","mtime":1728815129512},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NhbGxiYWNrJywKICAvLyBsYXlvdXQ6ICdzaWduaW4nLAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZSkKICAgIC8vIGNoZWNrLiBlcnJvciBzdGF0dXMKICAgIC8vIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5lcnJvcikgewogICAgLy8gICAvLyBhbGVydCh0aGlzLiRyb3V0ZS5xdWVyeS5lcnJvcl9kZXNjcmlwdGlvbikKICAgIC8vICAgdGhpcy4kcm91dGVyLnB1c2goJy9hdXRoL3NpZ25pbicpCiAgICAvLyAgIHJldHVybgogICAgLy8gfQogICAgLy8gZ2V0IGFjY2Vzc190b2tlbiBmcm9tIGhhc2ggcGFyYW0KICAgIGNvbnN0IGhhc2ggPSB0aGlzLiRyb3V0ZS5oYXNoCiAgICBjb25zdCBxdWVyeSA9IGhhc2guc3Vic3RyaW5nKGhhc2guaW5kZXhPZignPScpICsgMSkKICAgIGNvbnN0IGNvZGUgPSBxdWVyeS5zdWJzdHJpbmcoMCwgcXVlcnkuaW5kZXhPZignJicpKQogICAgY29uc29sZS5sb2coImNvZGUtLS0gQVBJIO2GteyLoOykkSB+fn5+fn5+PiAiKQogICAgY29uc29sZS5sb2coY29kZSkKICAgIAogICAgCiAgICAvLyBjb25zdCBtZSA9IGF3YWl0IGF4aW9zLnBvc3QoYGh0dHBzOi8vb3BlbmFwaS5uYXZlci5jb20vdjEvbmlkL21lYCwKICAgIC8vIHt9LAogICAgLy8gICB7CiAgICAvLyAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7Y29kZX1gIH0sCiAgICAvLyAgIH0KICAgIC8vICkKICAgIGNvbnN0IG1lID0gYXdhaXQgYXhpb3MucG9zdCgKICAnaHR0cHM6Ly9vcGVuYXBpLm5hdmVyLmNvbS92MS9uaWQvbWUnLAogICAgICB7fSwgLy8g67mIIOuNsOydtO2EsCDqsJ3ssrQKICAgICAgewogICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2NvZGV9YCB9LAogICAgICB9CiAgICApOwogICAgY29uc29sZS5sb2cobWUpCiAgICBjb25zb2xlLmxvZygiTUUgOiA6IDogOiA6IDoiK0pTT04uc3RyaW5naWZ5KG1lKSkKICAgIC8vIGNvbnN0IHBhcmFtcyA9IHsgc2lnbl90eXBlOiAnbmF2ZXInLCBzaWduX2lkOiBtZS5pZCwgc2lnbl9lbWFpbDogbWUuZW1haWwgfQogICAgLy8gY29uc29sZS5sb2coInBhcmFtcyA6IDogOiAiICwgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSkKICAgIC8vIGNvbnN0IHNpZ25pbiA9IGF3YWl0IHRoaXMuJGF4aW9zLiRwb3N0KCcvYXBpL2F1dGgvc2lnbmluJywgcGFyYW1zKQogICAgLy8gLy8gY29uc29sZS5sb2coc2lnbmluKQoKICAgIC8vIGlmICghc2lnbmluLnN1Y2Nlc3MpIHsKICAgIC8vICAgYWxlcnQoc2lnbmluLm1lc3NhZ2UpCiAgICAvLyAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvYXV0aC9zaWduaW4nKQogICAgLy8gICByZXR1cm4KICAgIC8vIH0KCiAgICAvLyBzd2l0Y2ggKHNpZ25pbi51c2VyX3N0YXRlKSB7CiAgICAvLyAgIGNhc2UgJ3doaXRlJzoKICAgIC8vICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXIvcmVzZXQnKQogICAgLy8gICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2lnbi9zbnMnLCBwYXJhbXMpCiAgICAvLyAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9hdXRoL3NpZ251cCcpCiAgICAvLyAgICAgYnJlYWsKICAgIC8vICAgY2FzZSAnZ3JlZW4nOgogICAgLy8gICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXNlci9zZXQnLCBzaWduaW4pCiAgICAvLyAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9ob21lJykKICAgIC8vICAgICBicmVhawogICAgLy8gICBkZWZhdWx0OgogICAgLy8gICAgIGFsZXJ0KGDroZzqt7jsnbgg7ZWgIOyImCDsl4bripQg7ZqM7JuQ7IOB7YOcKCR7c2lnbmluLnVzZXJfc3RhdGV9KeyeheuLiOuLpGApCiAgICAvLyB9CiAgfSwKfQo="},{"version":3,"sources":["Callback.vue"],"names":[],"mappings":";AAUA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Callback.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <p>네이버 로그인중</p>\n      <ProgressCircular />\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'callback',\n  // layout: 'signin',\n  async mounted() {\n    // console.log(this.$route)\n    // check. error status\n    // if (this.$route.query.error) {\n    //   // alert(this.$route.query.error_description)\n    //   this.$router.push('/auth/signin')\n    //   return\n    // }\n    // get access_token from hash param\n    const hash = this.$route.hash\n    const query = hash.substring(hash.indexOf('=') + 1)\n    const code = query.substring(0, query.indexOf('&'))\n    console.log(\"code--- API 통신중 ~~~~~~~> \")\n    console.log(code)\n    \n    \n    // const me = await axios.post(`https://openapi.naver.com/v1/nid/me`,\n    // {},\n    //   {\n    //     headers: { Authorization: `Bearer ${code}` },\n    //   }\n    // )\n    const me = await axios.post(\n  'https://openapi.naver.com/v1/nid/me',\n      {}, // 빈 데이터 객체\n      {\n        headers: { Authorization: `Bearer ${code}` },\n      }\n    );\n    console.log(me)\n    console.log(\"ME : : : : : :\"+JSON.stringify(me))\n    // const params = { sign_type: 'naver', sign_id: me.id, sign_email: me.email }\n    // console.log(\"params : : : \" , JSON.stringify(params))\n    // const signin = await this.$axios.$post('/api/auth/signin', params)\n    // // console.log(signin)\n\n    // if (!signin.success) {\n    //   alert(signin.message)\n    //   this.$router.replace('/auth/signin')\n    //   return\n    // }\n\n    // switch (signin.user_state) {\n    //   case 'white':\n    //     this.$store.commit('user/reset')\n    //     this.$store.commit('sign/sns', params)\n    //     this.$router.replace('/auth/signup')\n    //     break\n    //   case 'green':\n    //     this.$store.commit('user/set', signin)\n    //     this.$router.replace('/home')\n    //     break\n    //   default:\n    //     alert(`로그인 할 수 없는 회원상태(${signin.user_state})입니다`)\n    // }\n  },\n}\n</script>\n\n<style>\n</style>"]}]}