{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/ReservationWrite.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/ReservationWrite.vue","mtime":1730983130900},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hbmFnZXJTdG9yZSB9IGZyb20gIkAvc3RvcmUvbWFuYWdlclN0b3JlIjsgLy8gQVBJIO2YuOy2nAppbXBvcnQgSGVhZGVyIGZyb20gIi4vSGVhZGVyIjsKaW1wb3J0IFJqWnNXaSBmcm9tICIuL1JqWnNXaSI7CmltcG9ydCBYRm9vdGVyIGZyb20gIi4vWEZvb3RlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVzZXJ2YXRpb25Xcml0ZSIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyLAogICAgUmpac1dpLAogICAgWEZvb3RlciwKICB9LAogIHByb3BzOiBbCiAgICAickpac1dJUHJvcHMiLAogIF0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvZGF5OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoIlQiKVswXSwgLy8gVG9kYXkncyBkYXRlIGZvciBtaW5pbXVtIGRhdGUgb24gY2FsZW5kYXIKICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCJUIilbMF0sCiAgICAgIG1hcDogJ2h0dHBzOi8vY2RuLmFuaW1hYXBwLmNvbS9wcm9qZWN0cy82NmRhNTEyZDBjMjJkNDc4MDE1ZTBlMDcvcmVsZWFzZXMvNjZkYTUxZDhjZjUwMTUzY2VmOTk1MmRmL2ltZy9mcmFtZS03MzMwLTEucG5nJywKICAgICAgc2hvcDogeyBuYW1lOiAn66CI7KCA66GcIOyKpO2BrOumsO2MjO2BrOqzqO2UhCDqs4TslpHsoJAnLCBhZGRyZXNzOiAn6rOE7JaR6rWsIOyVhOuCmOyngOuhnCA1MjQtMScgfSwKICAgICAgcm9vbUlkOiAiIiwKICAgICAgbmFtZTogIiIsCiAgICAgIHBob25lOiAiIiwKICAgICAgdGltZXM6IFsKICAgICAgICAiMDk6MDAiLCAiMDk6MzAiLCAiMTA6MDAiLCAiMTA6MzAiLCAiMTE6MDAiLCAiMTE6MzAiLAogICAgICAgICIxMjowMCIsICIxMjozMCIsICIxMzowMCIsICIxMzozMCIsICIxNDowMCIsICIxNDozMCIsCiAgICAgICAgIjE1OjAwIiwgIjE1OjMwIiwgIjE2OjAwIiwgIjE2OjMwIiwgIjE3OjAwIiwgIjE3OjMwIiwgIjE4OjAwIgogICAgICBdLAogICAgICBzZWxlY3RlZFRpbWU6IG51bGwsCiAgICAgIHNlbGVjdGVkRW5kVGltZTogbnVsbCwKICAgICAgcmVzZXJ2ZWRUaW1lczogWyIxMDozMCIsICIxMTowMCIsICIxMjozMCIsICIxNjowMCIsICIxNzowMCJdLAogICAgICBpc0NoZWNrZWQ6IGZhbHNlLAogICAgICBjb3VudDogMCwKICAgICAgY3VycmVudEhvdXI6IG5ldyBEYXRlKCkuZ2V0SG91cnMoKSwgCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIHRoaXMucG9zdFJlc2VydmF0aW9uRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgcG9zdFJlc2VydmF0aW9uRGF0YSgpIHsKICAgICAgY29uc3Qgc3RhcnRUaW1lID0gYCR7dGhpcy5kYXRlfVQke3RoaXMuc2VsZWN0ZWRUaW1lfTowMC4wMDBaYDsKICAgICAgY29uc3QgZW5kVGltZSA9IGAke3RoaXMuZGF0ZX1UJHt0aGlzLnNlbGVjdGVkRW5kVGltZX06MDAuMDAwWmA7CiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICByb29tSWQ6IHRoaXMucm9vbUlkLAogICAgICAgIHN0YXJ0VGltZSwKICAgICAgICBlbmRUaW1lLAogICAgICAgIG1lbWJlcjogdGhpcy5jb3VudCwKICAgICAgICByZXNlcl91c2VyOiB0aGlzLm5hbWUsCiAgICAgICAgcmVzZXJfcGhvbmU6IHRoaXMucGhvbmUsCiAgICAgICAgYWdyZWU6IHRoaXMuaXNDaGVja2VkLAogICAgICAgIC8vICAgICAicm9vbUlkIjogMywKICAgICAgICAvLyAic3RhcnRUaW1lIjogIjIwMjQtMTItMjhUMDA6MDA6MDAuMDAwWiIsCiAgICAgICAgLy8gImVuZFRpbWUiOiAiMjAyNC0xMi0yOFQyMzo1OTo1OS45OTlaIiwKICAgICAgICAvLyAicm9vbXR5cGUiOiAic3RyaW5nIiwKICAgICAgICAvLyAicmVzZXJfdXNlciI6ICJzdHJpbiIsCiAgICAgICAgLy8gInJlc2VyX3Bob25lIjogInN0cmluZyIsCiAgICAgICAgLy8gIm1lbWJlciI6ICJzdHJpbmciLAogICAgICAgIC8vICJhZ3JlZSI6IHRydWUKICAgICAgfTsKCiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYW5hZ2VyU3RvcmUucG9zdFRhc2soInJlc2VydmF0aW9ucyIsIHBhcmFtcyk7CiAgICAgICAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBhbGVydCgi7J2R64u1IOuNsOydtO2EsOqwgCDsl4bsirXri4jri6QuIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCLsmIjslb3snbQg65CY7JeI7Iq164uI64ukLiIpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJBUEkg7Zi47LacIOyYpOulmDoiLCBlcnJvcik7CiAgICAgICAgYWxlcnQoIuyYiOyVveyXkCDsi6TtjKjtlojsirXri4jri6QuIOyEnOuyhCDsmKTrpZjrpbwg7ZmV7J247ZWY7IS47JqULiIpOwogICAgICB9CiAgICB9LAogICAgY29tcGxldGVSZXNlcnZhdGlvbigpIHsKICAgICAgdGhpcy5wb3N0UmVzZXJ2YXRpb25EYXRhKCk7CiAgICB9LAogICAgZ29Ub1BhZ2Uocm91dGUpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2gocm91dGUpOwogICAgfSwKICAgIGluY3JlYXNlQ291bnQoKSB7CiAgICAgIHRoaXMuY291bnQrKzsKICAgIH0sCiAgICBkZWNyZWFzZUNvdW50KCkgewogICAgICBpZiAodGhpcy5jb3VudCA+IDApIHsKICAgICAgICB0aGlzLmNvdW50LS07CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RUaW1lKHRpbWUpIHsKICAgICAgaWYgKCF0aGlzLnJlc2VydmVkVGltZXMuaW5jbHVkZXModGltZSkpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkVGltZSA9IHRpbWU7CiAgICAgICAgdGhpcy5zZWxlY3RlZEVuZFRpbWUgPSBudWxsOyAvLyBSZXNldCBlbmQgdGltZSB3aGVuIHN0YXJ0IHRpbWUgY2hhbmdlcwogICAgICB9CiAgICB9LAogICAgc2VsZWN0RW5kVGltZSh0aW1lKSB7CiAgICAgIGlmICghdGhpcy5yZXNlcnZlZFRpbWVzLmluY2x1ZGVzKHRpbWUpKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZEVuZFRpbWUgPSB0aW1lOwogICAgICB9CiAgICB9LAogICAgaXNWYWxpZEVuZFRpbWUodGltZSkgewogICAgICBjb25zdCBzdGFydEluZGV4ID0gdGhpcy50aW1lcy5pbmRleE9mKHRoaXMuc2VsZWN0ZWRUaW1lKTsKICAgICAgY29uc3QgZW5kSW5kZXggPSB0aGlzLnRpbWVzLmluZGV4T2YodGltZSk7CiAgICAgIHJldHVybiBlbmRJbmRleCA+IHN0YXJ0SW5kZXg7CiAgICB9LAogICAgaXNGdXR1cmVUaW1lKHRpbWUpIHsKICAgICAgaWYgKHRoaXMuZGF0ZSA9PT0gdGhpcy50b2RheSkgewogICAgICAgIGNvbnN0IFtob3VyXSA9IHRpbWUuc3BsaXQoIjoiKS5tYXAoTnVtYmVyKTsKICAgICAgICByZXR1cm4gaG91ciA+IHRoaXMuY3VycmVudEhvdXI7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAoKICB9LAp9Owo="},{"version":3,"sources":["ReservationWrite.vue"],"names":[],"mappings":";AAgJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ReservationWrite.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container-center-horizontal\">\n    <div class=\"reservation1-2 screen\">\n      <Header />\n      <rj-zs-wi :frame72911Props=\"rJZsWIProps.frame72911Props\" />\n      <div class=\"reservation1-wrap\">\n        <div class=\"title pretendard-bold-log-cabin-38px\">예약하기</div>\n        <div class=\"reservation1-content\">\n          <div class=\"reservation1-shop-info-box\">\n            <div class=\"reservation1-shop-info-head\">\n              <div class=\"reservation1-shop-name valign-text-middle pretendard-bold-mine-shaft-38px\">{{ shop.name }}\n              </div>\n              <div class=\"reservation1-shop-address valign-text-middle pretendard-regular-mine-shaft-20px\">{{ shop.address }}</div>\n            </div>\n            <div class=\"reservation-shop-map-box\" :style=\"{ 'background-image': 'url(' + map + ')' }\">\n              <div class=\"reservation-shop-map-name-box\">\n                <img class=\"reservation-shop-map-point\" src=\"https://cdn.animaapp.com/projects/66da512d0c22d478015e0e07/releases/66da51d8cf50153cef9952df/img/mdi-location-1.svg\" alt=\"mdi:location\" />\n                <div class=\"reservation-shop-name pretendard-bold-mine-shaft-14px\">{{ shop.name }}</div>\n              </div>\n            </div>\n          </div>\n          <div class=\"reservation-info\">\n            <div class=\"reservation-info-align\">\n              <div class=\"reservation-info-input\">\n                <div class=\"reservation-info-input-title valign-text-middle pretendard-bold-mine-shaft-24px\">예약자 정보</div>\n                <div class=\"reservation-info-input-content\">\n                  <div class=\"reservation-info-input-row\">\n                    <div class=\"reservation-info-input-row-title\">\n                      <div class=\"reservation-input-title valign-text-middle pretendard-medium-black-18px\">이름</div>\n                    </div>\n                    <input v-model=\"name\" class=\"resevationi-info-select pretendard-regular-normal-mountain-mist-16px\" placeholder=\"예약자명을 입력해주세요\" type=\"text\" />\n                  </div>\n                  <div class=\"reservation-info-input-row\">\n                    <div class=\"reservation-info-input-row-title\">\n                      <div class=\"reservation-input-title valign-text-middle pretendard-medium-black-18px\">연락처</div>\n                    </div>\n                    <input v-model=\"phone\" class=\"resevationi-info-select pretendard-regular-normal-mountain-mist-16px\" placeholder=\"연락처를 입력해주세요\" type=\"text\" />\n                  </div>\n                </div>\n              </div>\n              <div class=\"reservation-info-input\">\n                <div class=\"reservation-info-input-title valign-text-middle pretendard-bold-mine-shaft-24px\">예약 일시</div>\n                <div class=\"reservation-info-input-content\">\n                  <div class=\"reservation-info-input-row\">\n                    <div class=\"reservation-info-input-row-title\">\n                      <div class=\"reservation-input-title valign-text-middle pretendard-medium-black-18px\">날짜</div>\n                    </div>\n                    <input type=\"date\" v-model=\"date\" class=\"date\" :min=\"today\" />\n                  </div>\n                  <div class=\"reservation-info-input-row\">\n                    <div class=\"reservation-info-input-row-title\">\n                      <div class=\"reservation-input-title valign-text-middle pretendard-medium-black-18px\">룸</div>\n                    </div>\n                    <select v-model=\"roomId\" class=\"resevationi-info-select pretendard-regular-normal-mountain-mist-16px\">\n                      <option value=\"\" disabled>룸을 선택해주세요</option>\n                      <option value=\"1\">룸 1</option>\n                      <option value=\"2\">룸 2</option>\n                      <option value=\"3\">룸 3</option>\n                    </select>\n                  </div>\n                  <div class=\"reservation-info-start-time\">\n                    <div class=\"reservation-info-start-time-title\">\n                      <div class=\"reservation-input-title valign-text-middle pretendard-medium-black-18px\">시작시간</div>\n                    </div>\n                    <div class=\"reservation-info-start-time-list\">\n                      <button v-for=\"time in times\" :key=\"time\" :class=\"['non-select-time', selectedTime === time ? 'selected-time' : '', reservedTimes.includes(time) ? 'reserved-time' : '']\"\n                        :disabled=\"reservedTimes.includes(time) || !isFutureTime(time)\" @click=\"selectTime(time)\">\n                        <div :class=\"['non-select-time-font', selectedTime === time ? 'pretendard-medium-monza-16px' : '', reservedTimes.includes(time) || !isFutureTime(time) ? 'pretendard-regular-normal-celeste-16px' : 'pretendard-regular-normal-mine-shaft-16px']\">{{ time }}</div>\n                      </button>\n                    </div>\n                  </div>\n                  <div class=\"reservation-info-start-time\">\n                    <div class=\"reservation-info-start-time-title\">\n                      <div class=\"reservation-input-title valign-text-middle pretendard-medium-black-18px\">종료시간</div>\n                    </div>\n                    <div class=\"reservation-info-start-time-list\">\n                      <button v-for=\"time in times\" :key=\"time\" :class=\"['non-select-time', selectedEndTime === time ? 'selected-time' : '', reservedTimes.includes(time) || !isValidEndTime(time) ? 'reserved-time' : '']\"\n                        :disabled=\"reservedTimes.includes(time) || !isValidEndTime(time)\" @click=\"selectEndTime(time)\">\n                        <div :class=\"['non-select-time-font', selectedEndTime === time ? 'pretendard-medium-monza-16px' : '', reservedTimes.includes(time) || !isValidEndTime(time) ? 'pretendard-regular-normal-celeste-16px' : 'pretendard-regular-normal-mine-shaft-16px']\">{{ time }}</div>\n                      </button>\n                    </div>\n                  </div>\n                  <div class=\"reservation-info-consent\">\n                    <div class=\"reservation-people-number\">\n                <div class=\"reservation-people-number-title valign-text-middle pretendard-bold-mine-shaft-24px\">\n                  인원수\n                </div>\n                <div class=\"reservation-people-number-count\">\n                  <div class=\"reservation-people-number-count-btn\" @click=\"decreaseCount\">\n                    <span class=\"reservation-people-number-count-btn-font pretendard-bold-log-cabin-24px\">-</span>\n                  </div>\n                  <div class=\"valign-text-middle pretendard-regular-normal-mine-shaft-16px\">{{ count }}명</div>\n                  <div class=\"reservation-people-number-count-btn\" @click=\"increaseCount\">\n                    <span class=\"reservation-people-number-count-btn-font pretendard-bold-log-cabin-24px\">+</span>\n                  </div>\n                </div>\n              </div>\n              <div class=\"reservation-info-guide\">\n                <div class=\"reservation-input-title valign-text-middle pretendard-bold-mine-shaft-24px\">\n                  안내\n                </div>\n                <div class=\"reservation-info-guide-content\">\n                  <div class=\"reservation-info-guide-content-font pretendard-regular-normal-mine-shaft-16px\">\n                    <div>- 예약 취소는 예약 내역에서 신청해주시기</div>\n                    <div class=\"reservation-info-guide-content-font-align\">바랍니다.</div>\n                  </div>\n                  <div class=\"reservation-info-guide-content-font pretendard-regular-normal-mine-shaft-16px\">\n                    <div>- 예약신청 후 매장의 승인을 거쳐야만 </div>\n                    <div class=\"reservation-info-guide-content-font-align\">정상적으로 예약이 진행됩니다.</div>\n                  </div>\n                </div>\n              </div>\n                <div class=\"reservation-info-consent-title valign-text-middle pretendard-bold-mine-shaft-24px\">\n                  개인정보 제3자 제공 동의(필수)\n                </div>\n                <div class=\"check-text\">\n                  <div class=\"checkbox-container\">\n                    <label class=\"custom-checkbox\">\n                      <input type=\"checkbox\" v-model=\"isChecked\" />\n                      <span class=\"checkmark\"></span>\n                      <span class=\"valign-text-middle pretendard-medium-black-16px\">동의합니다</span>\n                    </label>\n                  </div>\n                  <div class=\"valign-text-middle pretendard-medium-mountain-mist-16px\"\n                    @click=\"goToPage('/termsview?tab=개인정보처리방침')\">\n                    자세히보기\n                  </div>\n                </div>\n              </div>\n            </div>\n\n              </div>\n              <!-- Additional sections like 인원수, 안내, 개인정보 동의 -->\n              <button class=\"reservation-write-btn pretendard-medium-white-18px\" @click=\"completeReservation\">예약하기</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <XFooter />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { managerStore } from \"@/store/managerStore\"; // API 호출\nimport Header from \"./Header\";\nimport RjZsWi from \"./RjZsWi\";\nimport XFooter from \"./XFooter\";\nexport default {\n  name: \"ReservationWrite\",\n  components: {\n    Header,\n    RjZsWi,\n    XFooter,\n  },\n  props: [\n    \"rJZsWIProps\",\n  ],\n  data() {\n    return {\n      today: new Date().toISOString().split(\"T\")[0], // Today's date for minimum date on calendar\n      date: new Date().toISOString().split(\"T\")[0],\n      map: 'https://cdn.animaapp.com/projects/66da512d0c22d478015e0e07/releases/66da51d8cf50153cef9952df/img/frame-7330-1.png',\n      shop: { name: '레저로 스크린파크골프 계양점', address: '계양구 아나지로 524-1' },\n      roomId: \"\",\n      name: \"\",\n      phone: \"\",\n      times: [\n        \"09:00\", \"09:30\", \"10:00\", \"10:30\", \"11:00\", \"11:30\",\n        \"12:00\", \"12:30\", \"13:00\", \"13:30\", \"14:00\", \"14:30\",\n        \"15:00\", \"15:30\", \"16:00\", \"16:30\", \"17:00\", \"17:30\", \"18:00\"\n      ],\n      selectedTime: null,\n      selectedEndTime: null,\n      reservedTimes: [\"10:30\", \"11:00\", \"12:30\", \"16:00\", \"17:00\"],\n      isChecked: false,\n      count: 0,\n      currentHour: new Date().getHours(), \n    };\n  },\n  mounted() {\n    // this.postReservationData();\n  },\n  methods: {\n    async postReservationData() {\n      const startTime = `${this.date}T${this.selectedTime}:00.000Z`;\n      const endTime = `${this.date}T${this.selectedEndTime}:00.000Z`;\n      const params = {\n        roomId: this.roomId,\n        startTime,\n        endTime,\n        member: this.count,\n        reser_user: this.name,\n        reser_phone: this.phone,\n        agree: this.isChecked,\n        //     \"roomId\": 3,\n        // \"startTime\": \"2024-12-28T00:00:00.000Z\",\n        // \"endTime\": \"2024-12-28T23:59:59.999Z\",\n        // \"roomtype\": \"string\",\n        // \"reser_user\": \"strin\",\n        // \"reser_phone\": \"string\",\n        // \"member\": \"string\",\n        // \"agree\": true\n      };\n\n      try {\n        const response = await managerStore.postTask(\"reservations\", params);\n        if (!response || response === undefined) {\n          alert(\"응답 데이터가 없습니다.\");\n        } else {\n          alert(\"예약이 되었습니다.\");\n        }\n      } catch (error) {\n        console.error(\"API 호출 오류:\", error);\n        alert(\"예약에 실패했습니다. 서버 오류를 확인하세요.\");\n      }\n    },\n    completeReservation() {\n      this.postReservationData();\n    },\n    goToPage(route) {\n      this.$router.push(route);\n    },\n    increaseCount() {\n      this.count++;\n    },\n    decreaseCount() {\n      if (this.count > 0) {\n        this.count--;\n      }\n    },\n    selectTime(time) {\n      if (!this.reservedTimes.includes(time)) {\n        this.selectedTime = time;\n        this.selectedEndTime = null; // Reset end time when start time changes\n      }\n    },\n    selectEndTime(time) {\n      if (!this.reservedTimes.includes(time)) {\n        this.selectedEndTime = time;\n      }\n    },\n    isValidEndTime(time) {\n      const startIndex = this.times.indexOf(this.selectedTime);\n      const endIndex = this.times.indexOf(time);\n      return endIndex > startIndex;\n    },\n    isFutureTime(time) {\n      if (this.date === this.today) {\n        const [hour] = time.split(\":\").map(Number);\n        return hour > this.currentHour;\n      }\n      return true;\n    },\n\n  },\n};\n</script>\n\n<style scoped src=\"@/style/shop/reservationwrite.css\" />\n"]}]}