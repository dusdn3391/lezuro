{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/KaKaoCallback.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/KaKaoCallback.vue","mtime":1735528664321},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7Cm5hbWU6ICdLYUthb0NhbGxiYWNrJywKLy8gbGF5b3V0OiAnc2lnbmluJywKYXN5bmMgbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJBY2Nlc3MgVG9rZW46IiwgdGhpcy4kcm91dGUucXVlcnkuYWNjZXNzVG9rZW4pOwogICAgY29uc29sZS5sb2coIlVzZXIgSUQ6IiwgdGhpcy4kcm91dGUucXVlcnkudXNlcklkKTsKICBjb25zdCBhY2Nlc3NfdG9rZW4gPSB0aGlzLiRyb3V0ZS5xdWVyeS5hY2Nlc3NUb2tlbgovLyAgIGNvbnN0IHF1ZXJ5ID0gaGFzaC5zdWJzdHJpbmcoaGFzaC5pbmRleE9mKCc9JykgKyAxKQovLyAgIGNvbnN0IGNvZGUgPSBxdWVyeS5zdWJzdHJpbmcoMCwgcXVlcnkuaW5kZXhPZignJicpKQovLyAgIGNvbnNvbGUubG9nKCJjb2RlLS0tIEFQSSDthrXsi6DspJEgfn5+fn5+fj4gIikKICAKICAvLyBjb25zb2xlLmxvZyhoYXNoKQogIC8vIGNvbnNvbGUubG9nKHF1ZXJ5KQogIC8vIHZhciBoZWFkZXIgPSAiQmVhcmVyICIgKyBjb2RlOyAvLyBCZWFyZXIg64uk7J2M7JeQIOqzteuwsSDstpTqsIAKICAgCiAgICAKICAgIC8vIGNvbnN0IG1lID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy50YWxrdGFsa2JvYXJkLmNvbS9hcGkvbmF2ZXJMb2dpbi5waHA/YWNjZXNzX3Rva2VuPSR7YWNjZXNzX3Rva2VufWApCiAgICB0cnl7CiAgICAgICAgY29uc3QgbWUgPSBhd2FpdCBheGlvcy5wb3N0KCdodHRwczovLzEzLjEyNC42Mi42ODozMDAwL2FwaS92MS9hdXRoL2tha2FvL2xvZ2luJyx7CiAgICAgICAgYWNjZXNzVG9rZW4gOiBhY2Nlc3NfdG9rZW4KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdhY2NlcHQnOiAnKi8qJywKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICB9LAogICAgICAgIH0pCiAgICAKICAgIAogICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKG1lLmRhdGEubWVzc2FnZSkKICAgICAgICAgICAgY29uc29sZS5sb2coIk1FIDogOiA6IDogOiA6IitKU09OLnN0cmluZ2lmeShtZSkpCiAgICAgICAgICAgIGlmKG1lLmRhdGEucmVmcmVzaFRva2VuKXsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoVG9rZW4nLCBtZS5kYXRhLnJlZnJlc2hUb2tlbik7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnVG9rZW4nLCBtZS5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dpbkluZm8nLCBKU09OLnN0cmluZ2lmeShtZS5kYXRhLnVzZXIpKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyTG9naW4iICwidHJ1ZSIpOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy8nKSAgCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgYWxlcnQoIuydtOuvuCDrk7HroZ3rkJwg6rOE7KCV7J6F64uI64ukLiIpCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL2xvZ2luJykgIAogICAgICAgIH0KICAgIH0KICAgIGNhdGNoKGVycm9yKXsKICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IiICwgZXJyb3IpCiAgICAgICAgYWxlcnQoIu2ctOuMgO2PsCDsnbjspp0g7ZuEIOyerCDqsIDsnoXtlbQg7KO87IS47JqULiIpCiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpICAKCiAgICB9CiAgIAogIAogIAp9LAp9Cg=="},{"version":3,"sources":["KaKaoCallback.vue"],"names":[],"mappings":";AASA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA","file":"KaKaoCallback.vue","sourceRoot":"src/components","sourcesContent":["<template>\n \n\n    <p>카카오 로그인중</p>\n\n\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\nname: 'KaKaoCallback',\n// layout: 'signin',\nasync mounted() {\n    console.log(\"Access Token:\", this.$route.query.accessToken);\n    console.log(\"User ID:\", this.$route.query.userId);\n  const access_token = this.$route.query.accessToken\n//   const query = hash.substring(hash.indexOf('=') + 1)\n//   const code = query.substring(0, query.indexOf('&'))\n//   console.log(\"code--- API 통신중 ~~~~~~~> \")\n  \n  // console.log(hash)\n  // console.log(query)\n  // var header = \"Bearer \" + code; // Bearer 다음에 공백 추가\n   \n    \n    // const me = await axios.get(`https://www.talktalkboard.com/api/naverLogin.php?access_token=${access_token}`)\n    try{\n        const me = await axios.post('https://13.124.62.68:3000/api/v1/auth/kakao/login',{\n        accessToken : access_token\n        },\n        {\n        headers: {\n            'accept': '*/*',\n            'Content-Type': 'application/json',\n        },\n        })\n    \n    \n            //   console.log(me.data.message)\n            console.log(\"ME : : : : : :\"+JSON.stringify(me))\n            if(me.data.refreshToken){\n                localStorage.setItem('refreshToken', me.data.refreshToken);\n                localStorage.setItem('Token', me.data.token);\n                localStorage.setItem('loginInfo', JSON.stringify(me.data.user));\n                localStorage.setItem(\"userLogin\" ,\"true\");\n                this.$router.replace('/')  \n            }else{\n                alert(\"이미 등록된 계정입니다.\")\n                this.$router.replace('/login')  \n        }\n    }\n    catch(error){\n        console.log(\"error\" , error)\n        alert(\"휴대폰 인증 후 재 가입해 주세요.\")\n        this.$router.replace('/login')  \n\n    }\n   \n  \n  \n},\n}\n</script>\n\n<style>\n</style>"]}]}