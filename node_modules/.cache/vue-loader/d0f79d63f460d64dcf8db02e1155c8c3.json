{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/manager/ManagerASWrite.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/manager/ManagerASWrite.vue","mtime":1732864530104},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/thread-loader/dist/cjs.js","mtime":1728542748260},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYW5hZ2VyU3RvcmUgfSBmcm9tICcuLi8uLi9zdG9yZS9tYW5hZ2VyU3RvcmUnOyAgLy8gQVBJIO2YuOy2nA0KaW1wb3J0IE1hbmFnZXJIZWFkZXIgZnJvbSAnLi9NYW5hZ2VySGVhZGVyLnZ1ZSc7DQppbXBvcnQgTWFuYWdlck5hdmJhciBmcm9tICIuL01hbmFnZXJOYXZiYXIudnVlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJNYW5hZ2VyQVNXcml0ZSIsDQogICAgY29tcG9uZW50czogew0KICAgICAgICBNYW5hZ2VySGVhZGVyLA0KICAgICAgICBNYW5hZ2VyTmF2YmFyLA0KICAgIH0sDQogICAgcHJvcHM6IFsiaWQiXSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgdGl0bGU6ICIiLA0KICAgICAgICAgICAgY29udGVudDogIiIsDQogICAgICAgICAgICBpc0VkaXRpbmc6IGZhbHNlLA0KICAgICAgICB9Ow0KICAgIH0sDQoNCiAgICBhc3luYyBjcmVhdGVkKCkgew0KICAgICAgICBjb25zdCB7IGlkIH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsgLy8gcXVlcnnsl5DshJwgaWQg7LaU7LacDQoNCiAgICAgICAgaWYgKGlkKSB7DQogICAgICAgICAgICB0aGlzLmlzRWRpdGluZyA9IHRydWU7IC8vIOyImOyglSDsg4Htg5zroZwg67OA6rK9DQogICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWROb3RpY2VEYXRhKGlkKTsgLy8g7ISc67KE7JeQ7IScIOuNsOydtO2EsOulvCDqsIDsoLjsmLQNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAvLyDquLDsobQg642w7J207YSwIOuhnOuTnCAo7IiY7KCVIOyLnCkNCiAgICAgICAgYXN5bmMgbG9hZEFTRGF0YShpZCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1hbmFnZXJTdG9yZS5nZXRUYXNrKGBhcy1yZXF1ZXN0cy8ke3RoaXMuaWR9YCk7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FzIHJlc3BvbnNlJywgcmVzcG9uc2UpDQoNCiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlID0gcmVzcG9uc2UudGl0bGU7DQogICAgICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcmVzcG9uc2UuY29udGVudDsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigi642w7J207YSw66W8IOu2iOufrOyYpOuKlCDrjbAg7Iuk7Yyo7ZaI7Iq164uI64ukOiIsIGVycm9yKTsNCiAgICAgICAgICAgICAgICBhbGVydCgi642w7J207YSw66W8IOu2iOufrOyYpOyngCDrqrvtlojsirXri4jri6QuIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vIOuTseuhne2VmOq4sCDrsoTtirwg7YG066atIOyLnCDtmLjstpzrkJjripQg66mU7ISc65OcDQogICAgICAgIGFzeW5jIHN1Ym1pdCgpIHsNCiAgICAgICAgICAgIGlmICghdGhpcy50aXRsZSB8fCAhdGhpcy5jb250ZW50KSB7DQogICAgICAgICAgICAgICAgYWxlcnQoIuygnOuqqeqzvCDrgrTsmqnsnYQg7J6F66Cl7ZW07KO87IS47JqULiIpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g66Gc7LusIOyKpO2GoOumrOyngOyXkOyEnCBtYW5hZ2VySW5mbyDqsIDsoLjsmKTquLANCiAgICAgICAgICAgIGNvbnN0IG1hbmFnZXJJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWFuYWdlckluZm8nKSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZygibWFuYWdlckluZm8gOiA6IDogIiAsIEpTT04uc3RyaW5naWZ5KG1hbmFnZXJJbmZvKSkNCg0KICAgICAgICAgICAgY29uc3QgYnJhbmNoSWQgPSBtYW5hZ2VySW5mby5pZDsNCiAgICAgICAgICAgIC8vIFBPU1Qg7JqU7LKt7Jy866GcIOuNsOydtO2EsOulvCDshJzrsoTsl5Ag7KCE7IahDQogICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsDQogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuY29udGVudCwNCiAgICAgICAgICAgICAgICBzdGF0dXM6ICLsoJHsiJgiLA0KICAgICAgICAgICAgICAgIC8vIG1hbmFnZXJJZDogcGFyc2VJbnQobWFuYWdlckluZm8uaWQpLA0KICAgICAgICAgICAgICAgIG1hbmFnZXJJZDogbWFuYWdlckluZm8uaWQsDQogICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdGluZykgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOyAvLyBVUkzsl5DshJwgaWTrpbwg7LaU7LacDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWFuYWdlclN0b3JlLnVwZGF0ZVRhc2soYGFzLXJlcXVlc3RzLyR7aWR9YCwgcGFyYW1zKTsNCg0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn7IiY7KCVIGRhdGEnLCBwYXJhbXMpDQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCLsiJjsoJXsnbQg65CY7JeI7Iq164uI64ukIik7DQoNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1hbmFnZXJTdG9yZS5wb3N0VGFzaygiYXMtcmVxdWVzdHMiLCBwYXJhbXMpOw0KDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfrk7HroZ0gZGF0YScsIHBhcmFtcykNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuuTseuhnSDshLHqs7U6IiwgcmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgICAgICBhbGVydCgi65Ox66Gd7J20IOuQmOyXiOyKteuLiOuLpCIpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogIi9tYW5hZ2VyYXMtbWFuYWdlbWVudCIgfSk7DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuuTseuhnSDsi6TtjKg6IiwgZXJyb3IpOw0KICAgICAgICAgICAgICAgIGFsZXJ0KCLrk7HroZ3sl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjYW5jZWwoKSB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvbWFuYWdlcmFzLW1hbmFnZW1lbnQiIH0pOw0KICAgICAgICB9LA0KICAgIH0sDQp9Ow0K"},{"version":3,"sources":["ManagerASWrite.vue"],"names":[],"mappings":";AAwCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ManagerASWrite.vue","sourceRoot":"src/components/manager","sourcesContent":["<template>\r\n    <div class=\"all\">\r\n        <ManagerHeader />\r\n        <div class=\"wrap\">\r\n            <div class=\"as-container\">\r\n                <ManagerNavbar />\r\n                <div class=\"wrapper\">\r\n                    <div class=\"title-top pretendard-bold-normal-black-28px\">A/S 관리</div>\r\n                    <div class=\"content-wrap\">\r\n                        <div class=\"write-wrap\">\r\n                            <div class=\"title-box\">\r\n                                <div class=\"content-title valign-text-middle pretendard-medium-black-18px\">\r\n                                    제목\r\n                                </div>\r\n                                <input type=\"text\" class=\"frame-7281-8 pretendard-regular-normal-mine-shaft-16px\"\r\n                                    placeholder=\"제목을 입력해주세요\" v-model=\"title\">\r\n                            </div>\r\n                            <div class=\"content-box\">\r\n                                <div class=\"content-title valign-text-middle pretendard-medium-black-18px\">\r\n                                    내용\r\n                                </div>\r\n                                <input type=\"text\" class=\"frame-7281-9 pretendard-regular-normal-mine-shaft-16px\"\r\n                                    placeholder=\"내용을 입력해주세요\" v-model=\"content\">\r\n                            </div>\r\n                            <div class=\"button-container\">\r\n                                <button class=\"cancel-button pretendard-medium-white-18px\" @click=\"cancel\">취소하기</button>\r\n                                <button class=\"submit-button pretendard-medium-white-18px\" @click=\"submit\">{{ isEditing\r\n                                    ? \"수정하기\" :\r\n                                    \"등록하기\"\r\n                                    }}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { managerStore } from '../../store/managerStore';  // API 호출\r\nimport ManagerHeader from './ManagerHeader.vue';\r\nimport ManagerNavbar from \"./ManagerNavbar.vue\";\r\n\r\nexport default {\r\n    name: \"ManagerASWrite\",\r\n    components: {\r\n        ManagerHeader,\r\n        ManagerNavbar,\r\n    },\r\n    props: [\"id\"],\r\n    data() {\r\n        return {\r\n            title: \"\",\r\n            content: \"\",\r\n            isEditing: false,\r\n        };\r\n    },\r\n\r\n    async created() {\r\n        const { id } = this.$route.query; // query에서 id 추출\r\n\r\n        if (id) {\r\n            this.isEditing = true; // 수정 상태로 변경\r\n            await this.loadNoticeData(id); // 서버에서 데이터를 가져옴\r\n        }\r\n    },\r\n    methods: {\r\n        // 기존 데이터 로드 (수정 시)\r\n        async loadASData(id) {\r\n            try {\r\n                const response = await managerStore.getTask(`as-requests/${this.id}`);\r\n                console.log('as response', response)\r\n\r\n                this.title = response.title;\r\n                this.content = response.content;\r\n            } catch (error) {\r\n                console.error(\"데이터를 불러오는 데 실패했습니다:\", error);\r\n                alert(\"데이터를 불러오지 못했습니다.\");\r\n            }\r\n        },\r\n        // 등록하기 버튼 클릭 시 호출되는 메서드\r\n        async submit() {\r\n            if (!this.title || !this.content) {\r\n                alert(\"제목과 내용을 입력해주세요.\");\r\n                return;\r\n            }\r\n\r\n            // 로컬 스토리지에서 managerInfo 가져오기\r\n            const managerInfo = JSON.parse(localStorage.getItem('managerInfo'));\r\n            console.log(\"managerInfo : : : \" , JSON.stringify(managerInfo))\r\n\r\n            const branchId = managerInfo.id;\r\n            // POST 요청으로 데이터를 서버에 전송\r\n            const params = {\r\n                title: this.title,\r\n                description: this.content,\r\n                status: \"접수\",\r\n                // managerId: parseInt(managerInfo.id),\r\n                managerId: managerInfo.id,\r\n            };\r\n\r\n            try {\r\n                if (this.isEditing) {\r\n                    const id = this.$route.query.id; // URL에서 id를 추출\r\n                    const response = await managerStore.updateTask(`as-requests/${id}`, params);\r\n\r\n                    console.log('수정 data', params)\r\n                    alert(\"수정이 되었습니다\");\r\n\r\n                } else {\r\n                    const response = await managerStore.postTask(\"as-requests\", params);\r\n\r\n                    console.log('등록 data', params)\r\n                    console.log(\"등록 성공:\", response);\r\n                    alert(\"등록이 되었습니다\");\r\n                }\r\n\r\n                this.$router.replace({ path: \"/manageras-management\" });\r\n            } catch (error) {\r\n                console.error(\"등록 실패:\", error);\r\n                alert(\"등록에 실패했습니다.\");\r\n            }\r\n        },\r\n        cancel() {\r\n            this.$router.push({ path: \"/manageras-management\" });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n.as-container {\r\n    display: flex;\r\n    height: 100%;\r\n    flex-direction: row;\r\n    background: #f5f6f6;\r\n}\r\n\r\n.title-top {\r\n    background-color: #fff;\r\n    padding: 30px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.wrapper {\r\n    flex-grow: 1;\r\n    /* 나머지 공간을 차지하게 함 */\r\n    padding: 30px;\r\n    gap: 20px;\r\n}\r\n\r\n.title {\r\n    padding: 44px 13.5%;\r\n    padding-top: 104px;\r\n}\r\n\r\n.button-container {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 10px;\r\n    margin-top: 50px;\r\n}\r\n\r\n.cancel-button,\r\n.submit-button {\r\n    width: 200px;\r\n    padding: 18.5px;\r\n    border: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.cancel-button {\r\n    background-color: #999;\r\n}\r\n\r\n.submit-button {\r\n    background-color: #184199;\r\n    color: white;\r\n}\r\n\r\n.frame-7782-1 {\r\n    margin-bottom: 140px;\r\n}\r\n\r\n\r\n.contact-write {\r\n    width: 100%;\r\n}\r\n\r\n.write-wrap {\r\n    width: 100%;\r\n}\r\n\r\n.title {\r\n    padding: 104px 13.5%;\r\n    padding-bottom: 44px;\r\n}\r\n\r\n.cancel-btn {\r\n    align-items: center;\r\n    background-color: var(--mountain-mist);\r\n    display: flex;\r\n    gap: 10px;\r\n    height: 50px;\r\n    justify-content: center;\r\n    padding: 18px 66px;\r\n    position: relative;\r\n    width: 150px;\r\n    border: none;\r\n    border-radius: 7px;\r\n}\r\n\r\n.frame-7923-3 {\r\n    border: none;\r\n    border-radius: 7px;\r\n}\r\n\r\n.content-title {\r\n    display: flex;\r\n    gap: 10px;\r\n    position: relative;\r\n    width: 150px;\r\n}\r\n\r\n.title-box,\r\n.content-box {\r\n    align-items: center;\r\n    align-self: stretch;\r\n    border-bottom-style: solid;\r\n    border-bottom-width: 1px;\r\n    border-color: var(--celeste);\r\n    border-top-style: solid;\r\n    border-top-width: 1px;\r\n    display: flex;\r\n    flex: 0 0 auto;\r\n    padding: 20px 20px 20px 0px;\r\n    position: relative;\r\n    width: 100%;\r\n}\r\n\r\n.content-box {\r\n    border: none;\r\n}\r\n\r\ninput::placeholder {\r\n    color: #999;\r\n}\r\n\r\n.frame-7281-8 {\r\n    background-color: #fafafa;\r\n    padding: 20px;\r\n    width: 100%;\r\n    border: 0.5px solid #ddd;\r\n}\r\n\r\n.frame-7281-9 {\r\n    background-color: #fafafa;\r\n    padding: 20px;\r\n    width: 100%;\r\n    border: 0.5px solid #ddd;\r\n    height: 200px;\r\n}\r\n\r\n.write-wrap {\r\n    border: 1px solid #dddddd;\r\n    padding: 40px;\r\n}\r\n\r\n.content-wrap {\r\n    align-items: center;\r\n    display: flex;\r\n    gap: 10px;\r\n    padding: 30px;\r\n    position: relative;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.img-pick {\r\n    align-items: center;\r\n    background-color: var(--hint-of-red);\r\n    border: 0.5px solid;\r\n    border-color: var(--celeste);\r\n    display: flex;\r\n    gap: 10px;\r\n    height: 55px;\r\n    width: 100%;\r\n    padding: 0px 20px;\r\n    position: relative;\r\n}\r\n\r\n.img-pick label {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 10px;\r\n}\r\n</style>\r\n<style scoped src=\"@/style/cs/noticewrite.css\"></style>"]}]}