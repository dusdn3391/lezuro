{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/manager/ManagerRoom.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/manager/ManagerRoom.vue","mtime":1733817766602},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKaW1wb3J0IE1hbmFnZXJSZXNlcnZhdGlvbk1vZGFsIGZyb20gIi4vTWFuYWdlclJlc2VydmF0aW9uTW9kYWwudnVlIjsKaW1wb3J0IE1hbmFnZXJIZWFkZXIgZnJvbSAiLi9NYW5hZ2VySGVhZGVyLnZ1ZSI7CmltcG9ydCBNYW5hZ2VyTmF2YmFyIGZyb20gIi4vTWFuYWdlck5hdmJhci52dWUiOwppbXBvcnQgeyBtYW5hZ2VyU3RvcmUgfSBmcm9tICdAL3N0b3JlL21hbmFnZXJTdG9yZSc7ICAvLyBBUEkg7Zi47LacCmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7CgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNYW5hZ2VyUm9vbSIsCiAgY29tcG9uZW50czogewogICAgTWFuYWdlclJlc2VydmF0aW9uTW9kYWwsCiAgICBNYW5hZ2VySGVhZGVyLAogICAgTWFuYWdlck5hdmJhciwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZFJlc2VydmF0aW9uOiBudWxsLAogICAgICBpc01vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlbGVjdGVkRGF0ZTogIjIwMjQtMTItMTUiLAogICAgICBjdXJyZW50RGF0ZTogIiIsCiAgICAgIGN1cnJlbnRUaW1lOiAiIiwKICAgICAgY3VycmVudERhdGVUaW1lOiAiIiwKICAgICAgYXZhaWxhYmxlUm9vbTogW10sCiAgICAgIGRlbGV0ZWRSZXNlcnZhdGlvbjogbnVsbCwKICAgICAgc2VsZWN0ZWRSb29tIDogbnVsbCwgCiAgICAgIHJvb21EdDogW10sCiAgICAgIHJvb21zOiBbCiAgICAgICAgewogICAgICAgICAgaWQ6IDEsCiAgICAgICAgICBuYW1lOiAiMeuyiOuwqSIsCiAgICAgICAgICBzdGF0dXNUZXh0OiAi7J207Jqp7KSRIiwKICAgICAgICAgIHN0YXR1c0NsYXNzOiAiYXZhaWxhYmxlIiwKICAgICAgICAgIGN1cnJlbnRSZXNlcnZhdGlvbjogIjEyOjAwIH4gMTQ6MDAiLAogICAgICAgICAgcmVzZXJ2YXRpb25zOiBbCiAgICAgICAgICAgIHsgaWQ6IDEsIHRpbWU6ICIwODowMCB+IDEwOjAwIiB9LAogICAgICAgICAgICB7IGlkOiAyLCB0aW1lOiAiMTI6MDAgfiAxNDowMCIgfSwKICAgICAgICAgICAgeyBpZDogMywgdGltZTogIjEyOjAwIH4gMTQ6MDAiIH0sCgogICAgICAgICAgICB7IGlkOiA0LCB0aW1lOiAiMTI6MDAgfiAxNDowMCIgfSwKICAgICAgICAgIF0sCiAgICAgICAgICBzaG93TW9yZTogZmFsc2UsCiAgICAgICAgfQogICAgICAgCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsgLy8g7Iuk7KCc66GcIO2ZlOuptOyXkCDrgrTsmqnsnbQg6re466Ck7KeEIOynge2bhOyXkCDtmZXsnbguCiAgICAvLyB0aGlzLmdldFJvb21EdCgpCiAgICB0aGlzLnVwZGF0ZUN1cnJlbnREYXRlVGltZSgpOwogICAgLy8gc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVDdXJyZW50RGF0ZVRpbWUsIDEwMDApOyAvLyAx7LSI66eI64ukIOyXheuNsOydtO2KuAogICAgY29uc29sZS5sb2coIuuqqOuLrOuhnCDsoITri6zrkJwg7ISg7YOd65CcIOuCoOynnDoiLCB0aGlzLnNlbGVjdGVkRGF0ZSk7CgogIH0sCiAgd2F0Y2g6IHsgLy8g642w7J207YSwIOuzgOqyveyLnCDtmLjstpwKICAgIHNlbGVjdGVkRGF0ZShuZXdEYXRlLCBvbGREYXRlKSB7CiAgICAgIGNvbnNvbGUubG9nKGBzZWxlY3RlZERhdGUgY2hhbmdlZCBmcm9tICR7b2xkRGF0ZX0gdG8gJHtuZXdEYXRlfWApOwoKICAgICAgLy8g7ISg7YOd7ZWcIOuCoOynnOyXkCDrlLDrnbwg7IOI66Gc7Jq0IOuNsOydtO2EsOulvCDqsIDsoLjsmKTqsbDrgpgsIOuLpOuluCDsnpHsl4XsnYQg7IiY7ZaJCgogICAgICB0aGlzLmdldFJlc2VydmF0aW9uRHQobmV3RGF0ZSk7CiAgICB9LAogICAgZGF0ZShuZXdEYXRlKSB7CiAgICB0aGlzLmdldFJlc2VydmF0aW9uRHQobmV3RGF0ZSk7CiAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOujuCDsmIjslb0g7KCV67O0IOyCreygnAogICAgYXN5bmMgZGVsUmVzZXJ2YXRpb24ocmVzZXJ2YXRpb25JZCkgewogIHRyeSB7CiAgICAvLyDsgq3soJztlZjroKTripQg7JiI7JW9IOygleuztOulvCDssL7quLAKICAgIGxldCByZXNlcnZhdGlvblRvRGVsZXRlID0gbnVsbDsKICAgIGxldCByb29tVG9EZWxldGUgPSBudWxsOwoKICAgIGZvciAoY29uc3Qgcm9vbSBvZiB0aGlzLmF2YWlsYWJsZVJvb20pIHsKICAgICAgcmVzZXJ2YXRpb25Ub0RlbGV0ZSA9IHJvb20ucmVzZXJ2YXRpb25zLmZpbmQoCiAgICAgICAgKHJlcykgPT4gcmVzLmlkID09PSByZXNlcnZhdGlvbklkCiAgICAgICk7CiAgICAgIGlmIChyZXNlcnZhdGlvblRvRGVsZXRlKSB7CiAgICAgICAgcm9vbVRvRGVsZXRlID0gcm9vbTsgLy8g7ZW064u5IOuwqSDsoJXrs7Trj4Qg7ZWo6ruYIOyggOyepQogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgaWYgKCFyZXNlcnZhdGlvblRvRGVsZXRlIHx8ICFyb29tVG9EZWxldGUpIHsKICAgICAgYWxlcnQoIuyCreygnO2VoCDsmIjslb0g7KCV67O066W8IOywvuydhCDsiJgg7JeG7Iq164uI64ukLiIpOwogICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCBmb3JtYXRUaW1lID0gKHRpbWUpID0+IHRpbWUuc2xpY2UoMTEsIDE2KTsgCiAgICAvLyDsmIjslb0g7KCV67O0IOyggOyepQogICAgdGhpcy5kZWxldGVkUmVzZXJ2YXRpb24gPSB7CiAgICAgIHBob25lTnVtYmVyOiByZXNlcnZhdGlvblRvRGVsZXRlLnJlc2VyX3Bob25lIHx8ICIiLAogICAgICB1c2VyTmFtZTogcmVzZXJ2YXRpb25Ub0RlbGV0ZS5yZXNlcl91c2VyIHx8ICIiLAogICAgICBhdmFpbGFibGVUaW1lOiBgJHtmb3JtYXRUaW1lKHJlc2VydmF0aW9uVG9EZWxldGUuc3RhcnRUaW1lKX0gfiAke2Zvcm1hdFRpbWUoCiAgICAgICAgcmVzZXJ2YXRpb25Ub0RlbGV0ZS5lbmRUaW1lCiAgICAgICl9YCwgCiAgICAgIHJvb21OYW1lOiByb29tVG9EZWxldGUucm9vbV9pZCwgLy8g67CpIOydtOumhCDrmJDripQgSUQg7KCA7J6lCiAgICB9OwoKICAgIGNvbnNvbGUubG9nKCLsgq3soJztlaAg7JiI7JW9IOygleuztDoiLCB0aGlzLmRlbGV0ZWRSZXNlcnZhdGlvbik7CgogICAgLy8g7JiI7JW9IOyCreygnCBBUEkg7Zi47LacCiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1hbmFnZXJTdG9yZS5kZWxldGVUYXNrKAogICAgICBgcmVzZXJ2YXRpb25zLyR7cmVzZXJ2YXRpb25JZH1gCiAgICApOwogICAgY29uc29sZS5sb2coIuyCreygnCBBUEkg7J2R64u1OiIsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7CiAgICBhbGVydCgi7ZW064u5IOyYiOyVveydtCDsoJXsg4HsoIHsnLzroZwg7IKt7KCc65CY7JeI7Iq164uI64ukLiIpOwoKICAgIC8vIGNhbmNlbE1zZyDtmLjstpwKICAgIHRoaXMuY2FuY2VsTXNnKHRoaXMuZGVsZXRlZFJlc2VydmF0aW9uKTsKCiAgICAvLyDsmIjslb0g642w7J207YSwIOqwseyLoAogICAgdGhpcy5nZXRSZXNlcnZhdGlvbkR0KHRoaXMuc2VsZWN0ZWREYXRlKTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigiW2RlbFJlc2VydmF0aW9uXSDsmIjslb0g7IKt7KCcIOyYpOulmDoiLCBlcnJvcik7CiAgICBhbGVydCgi7JiI7JW9IOyCreygnCDspJEg7Jik66WY6rCAIOuwnOyDne2WiOyKteuLiOuLpC4iKTsKICB9Cn0sCiAgICBhc3luYyBjYW5jZWxNc2coZGVsZXRlZFJlc2VydmF0aW9uKSB7CiAgICAgIGNvbnN0IG1hbmFnZXJJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibWFuYWdlckluZm8iKSk7CiAgICAgIGNvbnNvbGUubG9nKCJbY2FuY2VsTXNnXSBNYW5hZ2VyIEluZm86IiwgbWFuYWdlckluZm8pOwoKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIHBob25lTnVtYmVyOiBkZWxldGVkUmVzZXJ2YXRpb24ucGhvbmVOdW1iZXIsCiAgICB1c2VyTmFtZTogZGVsZXRlZFJlc2VydmF0aW9uLnVzZXJOYW1lLAogICAgYXZhaWxhYmxlVGltZTpkZWxldGVkUmVzZXJ2YXRpb24uYXZhaWxhYmxlVGltZSwKICAgICAgc3RvcmVOYW1lOiBtYW5hZ2VySW5mby5pZGVudGlmaWVyLAogICAgICB9OwoKICAgICAgY29uc29sZS5sb2coIltjYW5jZWxNc2ddIFNlbmRpbmcgcGFyYW1zOiIsIHBhcmFtcyk7CgogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWFuYWdlclN0b3JlLnBvc3RUYXNrKAogICAgICAgICAgYHYxL3Ntcy9jYW5jZWxSZXNlcnZhdGlvbmAsCiAgICAgICAgICBwYXJhbXMKICAgICAgICApOwogICAgICAgIGNvbnNvbGUubG9nKCJbY2FuY2VsTXNnXSBSZXNwb25zZSByZWNlaXZlZDoiLCByZXNwb25zZSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiW2NhbmNlbE1zZ10gQVBJIGNhbGwgZmFpbGVkOiIsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIC8vIOyymOydjCAy6rCc7J2YIOyYiOyVveydhCDtkZzsi5ztlZjqsbDrgpgsIHNob3dNb3Jl6rCAIHRydWXsnbwg65WM64qUIOuqqOuToCDsmIjslb3snYQg7ZGc7IucCiAgICB2aXNpYmxlUmVzZXJ2YXRpb25zKHJvb20pIHsKICAgICAgY29uc29sZS5sb2coJ2ZpbHRlcmVkUmVzZXJ2YXRpb25zIDogOiAnLCBKU09OLnN0cmluZ2lmeShyb29tKSkKCiAgICAgIGNvbnN0IGZpbHRlcmVkUmVzZXJ2YXRpb25zID0gcm9vbS5yZXNlcnZhdGlvbnMuZmlsdGVyKHJlc2VydmF0aW9uID0+IHsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgKCByZXNlcnZhdGlvbi5jaGVjayA9PT0gJ+yCrOydtOqwkicgfHwgcmVzZXJ2YXRpb24uY2hlY2sgPT09ICfstIjqs7zqsJInKSAmJgogICAgICAgIHJlc2VydmF0aW9uLnN0YXR1cyA9PT0gJ2NvbmZpcm0nIAogICAgICApOwogICAgICB9KTsKCiAgICAgIC8vIHNob3dNb3JlIOyDge2DnOyXkCDrlLDrnbwg6rKw6rO8IOuwmO2ZmAogICAgICBpZiAocm9vbS5zaG93TW9yZSkgewogICAgICAgIHJldHVybiBmaWx0ZXJlZFJlc2VydmF0aW9uczsgLy8g66qo65OgIO2VhO2EsOuQnCDsmIjslb3snYQg7ZGc7IucCiAgICAgIH0KCgogICAgICByZXR1cm4gZmlsdGVyZWRSZXNlcnZhdGlvbnMuc2xpY2UoMCwgMik7IC8vIOyymOydjCAy6rCc7J2YIO2VhO2EsOuQnCDsmIjslb3rp4wg7ZGc7IucCiAgICB9LAoKICAgIC8vICtNT1JFIOuyhO2KvOydhCDtkZzsi5ztlaDsp4Ag7Jes67aACiAgICBzaG91bGRTaG93TW9yZUJ1dHRvbihyb29tKSB7CiAgY29uc3QgZmlsdGVyZWRSZXNlcnZhdGlvbnMgPSByb29tLnJlc2VydmF0aW9ucy5maWx0ZXIoCiAgICByZXNlcnZhdGlvbiA9PiByZXNlcnZhdGlvbi5zdGF0dXMgPT09ICdjb25maXJtJyAvLyBzdGF0dXPqsIAgY29uZmlybeyduCDsmIjslb3rp4wg7Y+s7ZWoCiAgKTsKICByZXR1cm4gZmlsdGVyZWRSZXNlcnZhdGlvbnMubGVuZ3RoID4gMiAmJiAhcm9vbS5zaG93TW9yZTsKfQosCgogICAgLy8gK01PUkUg67KE7Yq87J2EIO2BtOumre2WiOydhCDrlYwg64KY66i47KeAIOyYiOyVveydhCDtkZzsi5wKICAgIHNob3dNb3JlUmVzZXJ2YXRpb25zKHJvb20pIHsKICBjb25zdCBmaWx0ZXJlZFJlc2VydmF0aW9ucyA9IHJvb20ucmVzZXJ2YXRpb25zLmZpbHRlcigKICAgIHJlc2VydmF0aW9uID0+IHJlc2VydmF0aW9uLnN0YXR1cyA9PT0gJ2NvbmZpcm0nIC8vIHN0YXR1c+qwgCBjb25maXJt7J24IOyYiOyVveunjCDtj6ztlagKICApOwogIGlmIChmaWx0ZXJlZFJlc2VydmF0aW9ucy5sZW5ndGggPiAyKSB7CiAgICByb29tLnNob3dNb3JlID0gdHJ1ZTsKICB9Cn0sCgogICAgLy8g7JiI7JW97J20IDTqsJwg7J207IOB7J28IOuVjOunjCDsiqTtgazroaTrsJTrpbwg67O07J206rKMIO2VmOuKlCDsobDqsbQKICAgIHNob3VsZFNjcm9sbEJlVmlzaWJsZShyb29tKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJSb29vb29tIDogOiA6ICIgLCByb29tKQogICAgICByZXR1cm4gcm9vbS5zaG93TW9yZSAmJiByb29tLnJlc2VydmF0aW9ucy5sZW5ndGggPiAzOyAvLyArTU9SRSDtgbTrpq0g7ZuEIDTqsJwg7J207IOB7J28IOuVjCDsiqTtgazroaQg7ZGc7IucCiAgICB9LAogICAgb3Blbk1vZGFsKHJvb20pIHsKICAgIHRoaXMuc2VsZWN0ZWRSb29tID0gcm9vbTsKICAgIHRoaXMuaXNFZGl0TW9kZSA9IGZhbHNlOyAKICAgIHRoaXMuc2VsZWN0ZWRSZXNlcnZhdGlvbiA9IG51bGw7CiAgICBjb25zb2xlLmxvZygib3Blbk1vZGFsIHNlbGVjdGVkRGF0ZToiLCB0aGlzLnNlbGVjdGVkRGF0ZSk7CiAgICB0aGlzLmlzTW9kYWxWaXNpYmxlID0gdHJ1ZTsKICB9LAogIGVkaXRSZXNlcnZhdGlvbihyZXNlcnZhdGlvbiwgcm9vbSkgewogIHRoaXMuc2VsZWN0ZWRSZXNlcnZhdGlvbiA9IHJlc2VydmF0aW9uOwogIHRoaXMuc2VsZWN0ZWRSb29tID0gcm9vbTsgLy8g67CpIOygleuztOuPhCDtlajqu5gg7ISk7KCVCiAgdGhpcy5pc0VkaXRNb2RlID0gdHJ1ZTsKICB0aGlzLmlzTW9kYWxWaXNpYmxlID0gdHJ1ZTsKfSwKICBjbG9zZU1vZGFsKCkgewogICAgdGhpcy5pc01vZGFsVmlzaWJsZSA9IGZhbHNlOwogICAgdGhpcy5pc0VkaXRNb2RlID0gZmFsc2U7IAogICAgdGhpcy5zZWxlY3RlZFJvb20gPSBudWxsOwogICAgdGhpcy5zZWxlY3RlZFJlc2VydmF0aW9uID0gbnVsbDsKCiAgICB0aGlzLmdldFJlc2VydmF0aW9uRHQodGhpcy5zZWxlY3RlZERhdGUpOwogIH0sCiAgICBhc3luYyBnZXRSb29tRHQoKSB7CiAgICAgIGNvbnN0IG1hbmFnZXJJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWFuYWdlckluZm8nKSk7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWFuYWdlclN0b3JlLmdldFRhc2soYHJvb21zYCk7CiAgICAgIHRoaXMuYXZhaWxhYmxlUm9vbSA9IFtdOwogICAgICBjb25zb2xlLmxvZygicm9vbU51bWJlcmluZyA6IDogOiA6IDogOiAiLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpCiAgICAgIHRoaXMuYXZhaWxhYmxlUm9vbSA9IHRoaXMuZmlsdGVyQnlNYW5hZ2VySWQocmVzcG9uc2UsIHBhcnNlSW50KG1hbmFnZXJJbmZvLmlkKSk7CgogICAgICBjb25zb2xlLmxvZygicm9vbU51bWJlcmluZyA6IDogOiA6IDogOiDtlYTthLDrp4Eg7ZuEICIsIEpTT04uc3RyaW5naWZ5KHRoaXMuYXZhaWxhYmxlUm9vbSkpCgogICAgfSwKICAgIGZpbHRlckJ5TWFuYWdlcklkKGRhdGEsIG1hbmFnZXJJZCkgewogICAgICByZXR1cm4gZGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLm1hbmFnZXJpZCA9PT0gbWFuYWdlcklkKTsKICAgIH0sCiAgICBhc3luYyBnZXRSZXNlcnZhdGlvbkR0KGRhdGUpIHsKICAgICAgICBjb25zdCBtYW5hZ2VySW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21hbmFnZXJJbmZvJykpOwogICAgICAgIGNvbnNvbGUubG9nKCJtYW5hZ2VySW5mb21hbmFnZXJJbmZvbWFuYWdlckluZm8gOiA6OjogIiAsIG1hbmFnZXJJbmZvLmlkKQogICAgICAvLyBhd2FpdCB0YXNrU3RvcmUuYWRkVGFzayh0YXNrKTsKICAgICAgLy8gY29uc29sZS5sb2coIkFQSSDthrXsi6Ag7Iuc7J6RIikKICAgICAgLy8g66O4IOygleuztCDqsIDsoLjsmKTripQg6rWs66y4IChHRVQpCiAgICAgIGF3YWl0IHRoaXMuZ2V0Um9vbUR0KCk7CiAgICAgIHRoaXMucm9vbUR0ID0gW107IC8vIOy0iOq4sO2ZlAogICAgICB0aGlzLnJvb21EdCA9IGF3YWl0IG1hbmFnZXJTdG9yZS5nZXRUYXNrKGByZXNlcnZhdGlvbnMvZGF0ZS8ke2RhdGV9L21hbmFnZXI/bWFuYWdlcklkPSR7bWFuYWdlckluZm8uaWR9YCk7CiAgICAgIAogICAgICBjb25zb2xlLmxvZygi66O4642w7J207YSwIOqwgOyguOyYpOq4sCA6IDogOiA6IDogOiAiLCBKU09OLnN0cmluZ2lmeSh0aGlzLnJvb21EdCkpCiAgICAgIHRoaXMudXBkYXRlUm9vbVN0YXR1cygpCiAgICAgIC8vIGNvbnNvbGUubG9nKCJyb29tRHRbMF0ucmVzZXJfdXNlciA6IDogOiAiICAsIHRoaXMucm9vbUR0WzBdLnJlc2VyX3VzZXIpCiAgICAgIC8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyb29tRHQnLCBKU09OLnN0cmluZ2lmeSh0aGlzLnJvb21EdCkpOwogICAgICAvLyB0aGlzLmlzQWRkaW5nID0gZmFsc2U7CiAgICAgIC8vIHRoaXMuaXNFZGl0TW9kZSA9IGZhbHNlOwogICAgICAvLyB0aGlzLmN1cnJlbnRUYXNrID0gbnVsbDsKICAgIH0sCiAgICAvLyDtmITsnqwg7Iuc6rCEIOq1rO2VmOq4sAogICAgdXBkYXRlQ3VycmVudERhdGVUaW1lKCkgewogICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwoKICAgICAgLy8gVVRDKznroZwg67OA7ZmYCiAgICAgIGNvbnN0IG9mZnNldCA9IDkgKiA2MDsgLy8gOeyLnOqwhCAqIDYw67aECiAgICAgIGNvbnN0IGtzdERhdGUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgb2Zmc2V0ICogNjAgKiAxMDAwKTsKCiAgICAgIC8vIOuCoOynnOyZgCDsi5zqsIQg7ZiV7IudIOyngOyglQogICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gYCR7a3N0RGF0ZS5nZXRVVENGdWxsWWVhcigpfS0ke1N0cmluZyhrc3REYXRlLmdldFVUQ01vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpfS0ke1N0cmluZyhrc3REYXRlLmdldFVUQ0RhdGUoKSkucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgICBjb25zdCBmb3JtYXR0ZWRUaW1lID0gYCR7U3RyaW5nKGtzdERhdGUuZ2V0VVRDSG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKX06JHtTdHJpbmcoa3N0RGF0ZS5nZXRVVENNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKGtzdERhdGUuZ2V0VVRDU2Vjb25kcygpKS5wYWRTdGFydCgyLCAnMCcpfWA7CgogICAgICAvLyBVVEMrOeyXkCDrp57stpggSVNPIDg2MDEg7ZiV7Iud7Jy866GcIOy2nOugpQogICAgICB0aGlzLmN1cnJlbnREYXRlVGltZSA9IGAke2Zvcm1hdHRlZERhdGV9VCR7Zm9ybWF0dGVkVGltZX0uMDAwWmA7CiAgICAgIHRoaXMuY3VycmVudERhdGUgPSBmb3JtYXR0ZWREYXRlOwogICAgICB0aGlzLmN1cnJlbnRUaW1lID0gZm9ybWF0dGVkVGltZTsKICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSB0aGlzLmN1cnJlbnREYXRlCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudERhdGVUaW1lKTsgLy8g7JiIOiAyMDI0LTExLTA2VDA0OjQ5OjA1KzA5OjAwCgogICAgICBjb25zb2xlLmxvZygi7ZiE7J6sIOuCoOynnCDsi5zqsIQiICsgdGhpcy5jdXJyZW50RGF0ZVRpbWUpCiAgICAgIHRoaXMuZ2V0UmVzZXJ2YXRpb25EdCh0aGlzLmN1cnJlbnREYXRlKTsKICAgIH0sCgogICAgZ2V0Rm9ybWF0dGVkVGltZSgpIHsKICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuY3VycmVudERhdGVUaW1lKS5nZXRUaW1lKCk7IC8vIElTTyDtmJXsi53snLzroZwg67OA7ZmYCiAgICB9LAogICAgdXBkYXRlUm9vbVN0YXR1cygpIHsKICBjb25zb2xlLmxvZygidGhpcy5yb29tRHQgOiA6OiAiLCB0aGlzLnJvb21EdCk7CgogIGNvbnN0IGZvcm1hdHRlZFRpbWUgPSB0aGlzLmdldEZvcm1hdHRlZFRpbWUoKTsgLy8g7ZiE7J6sIOyLnOqwhCDqsIDsoLjsmKTquLAKCiAgdGhpcy5yb29tRHQuZm9yRWFjaCgocm9vbSwgcm9vbUluZGV4KSA9PiB7CiAgICB0aGlzLnJvb21EdFtyb29tSW5kZXhdLnJlc2VydmF0aW9ucyA9IHJvb20ucmVzZXJ2YXRpb25zLmZpbHRlcihyZXNlcnZhdGlvbiA9PiB7CiAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUocmVzZXJ2YXRpb24uc3RhcnRUaW1lKS5nZXRUaW1lKCk7CiAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKHJlc2VydmF0aW9uLmVuZFRpbWUpLmdldFRpbWUoKTsKCiAgICAgIGlmIChyZXNlcnZhdGlvbi5zdGF0dXMgPT09ICJjb25maXJtIikgewogICAgICAgIGNvbnNvbGUubG9nKCJSZXNlcnZhdGlvbiBwYXNzZWQgc3RhdHVzIGNoZWNrOiAiLCByZXNlcnZhdGlvbik7CiAgICAgICAgaWYgKGZvcm1hdHRlZFRpbWUgPj0gc3RhcnQgJiYgZm9ybWF0dGVkVGltZSA8PSBlbmQpIHsKICAgICAgICAgIHJlc2VydmF0aW9uLmNoZWNrID0gIuyCrOydtOqwkiI7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdHRlZFRpbWUgPCBzdGFydCkgewogICAgICAgICAgcmVzZXJ2YXRpb24uY2hlY2sgPSAi7LSI6rO86rCSIjsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiUmVzZXJ2YXRpb24gZGlkIG5vdCBwYXNzIHN0YXR1cyBjaGVjazogIiwgcmVzZXJ2YXRpb24pOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwogIH0pOwoKICBpZiAodGhpcy5yb29tRHQubGVuZ3RoID4gMCkgewogICAgY29uc29sZS5sb2coIkZpbHRlcmVkIHJvb21EdDogIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5yb29tRHQpKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdmFpbGFibGVSb29tLmxlbmd0aDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgdGhpcy5yb29tRHQubGVuZ3RoOyBhKyspIHsKICAgICAgICBpZiAodGhpcy5yb29tRHRbYV0ucm9vbV9pZCA9PT0gdGhpcy5hdmFpbGFibGVSb29tW2ldLnJvb21faWQpIHsKICAgICAgICAgIHRoaXMuYXZhaWxhYmxlUm9vbVtpXS5yZXNlcnZhdGlvbnMgPSB0aGlzLnJvb21EdFthXS5yZXNlcnZhdGlvbnM7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5hdmFpbGFibGVSb29tLmZvckVhY2gocm9vbSA9PiB7CiAgICAgIGlmIChyb29tLnJlc2VydmF0aW9ucyAmJiByb29tLnJlc2VydmF0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgY29uc3QgY2hlY2tWYWx1ZSA9IHJvb20ucmVzZXJ2YXRpb25zWzBdLmNoZWNrOwogICAgICAgIGlmIChjaGVja1ZhbHVlID09PSAi7LSI6rO86rCSIikgewogICAgICAgICAgcm9vbS5zdGF0dXMgPSAidXBjb21pbmciOwogICAgICAgIH0gZWxzZSBpZiAoY2hlY2tWYWx1ZSA9PT0gIuyCrOydtOqwkiIpIHsKICAgICAgICAgIHJvb20uc3RhdHVzID0gImF2YWlsYWJsZSI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJvb20uc3RhdHVzID0gIndhaXRpbmciOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByb29tLnN0YXR1cyA9ICJ3YWl0aW5nIjsKICAgICAgfQogICAgfSk7CgogICAgdGhpcy5hdmFpbGFibGVSb29tID0gWy4uLnRoaXMuYXZhaWxhYmxlUm9vbV07CiAgICBjb25zb2xlLmxvZygiVXBkYXRlZCBhdmFpbGFibGVSb29tOiAiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmF2YWlsYWJsZVJvb20pKTsKICB9IGVsc2UgewogICAgdGhpcy5hdmFpbGFibGVSb29tID0gWy4uLnRoaXMuYXZhaWxhYmxlUm9vbV07CiAgICBjb25zb2xlLmxvZygiTm8gcm9vbSBkYXRhIGZvdW5kOiAiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmF2YWlsYWJsZVJvb20pKTsKICB9Cn0KCiAgfSwKfTsK"},{"version":3,"sources":["ManagerRoom.vue"],"names":[],"mappings":";;;AAkFA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ManagerRoom.vue","sourceRoot":"src/components/manager","sourcesContent":["<template>\n  <div class=\"all\">\n    <ManagerHeader />\n    <div class=\"wrap\">\n      <div class=\"reservation-container\">\n        <ManagerNavbar />\n        <div class=\"wrapper\">\n          <!-- 타이틀 부분 -->\n          <div class=\"title-box \">\n            <h2 class=\"pretendard-bold-normal-black-28px\">예약관리</h2>\n          </div>\n\n          <!-- 날짜 선택 부분 -->\n          <div class=\"date-picker-box\">\n            <input type=\"date\" class=\"date pretendard-regular-normal-mine-shaft-18px \" v-model=\"selectedDate\" />\n          </div>\n\n\n          <!-- 룸 리스트 부분 -->\n          <div class=\"room-list-box\" v-if=\"availableRoom.length > 0\">\n            <div v-for=\"room in availableRoom\" :key=\"room.id\" :class=\"['room-box', room.status]\">\n              <div class=\"room-header\">\n                <span class=\"pretendard-bold-normal-black-28px\">{{ room.room_id }} 번방</span>\n                <button class=\"reserve-btn pretendard-medium-white-14px\" @click=\"openModal(room)\">예약하기</button>\n              </div>\n\n              <div class=\"room-status\">\n                <span class=\"status-label pretendard-medium-white-12px\" :class=\"room.status\">{{ room.status ===\n                  \"available\" ? \"이용중\" : room.status === \"waiting\" ? \"대기중\" : \"예약\" }}</span>\n                <div v-if=\"room.reservations && room.reservations.length\">\n                  <span v-if=\"room.status !== 'waiting' && room.reservations[0].check === '사이값'\"\n                    class=\"reservation-time pretendard-bold-24px\">{{ room.reservations[0].startTime.slice(11, 16) }} ~\n                    {{ room.reservations[0].endTime.slice(11, 16) }}</span>\n                </div>\n              </div>\n\n            \n\n              <!-- 예약 목록 -->\n              <!--   <div v-if=\"room.reservations && room.reservations.length\">aaabbbccc</div> -->\n              <div :class=\"['scroll-container', { 'scrollable': shouldScrollBeVisible(room) }]\"\n                v-if=\"room.status !== 'waiting'\">\n                <div v-if=\"room.reservations && room.reservations.length\">\n                  <!-- 처음 2개의 예약을 항상 표시 -->\n                  <div v-for=\"(reservation) in visibleReservations(room)\" :key=\"reservation.id\"\n                    class=\"reservation-details\" v-if=\"reservation.check === '초과값' || reservation.check === '사이값'\">\n                    <div class=\"reservation-time-block pretendard-regular-normal-black-14px\">\n\n                      예약 {{ reservation.startTime.slice(11, 16) }} ~ {{ reservation.endTime.slice(11, 16) }}\n                    </div>\n                    \n                    <div class=\"reservation-actions\">\n                      <button class=\"delete-btn pretendard-medium-normal-granite-gray-12px\" @click=\"delReservation(reservation.id)\">삭제</button>\n                      <span>|</span>\n                      <button class=\"edit-btn pretendard-medium-normal-granite-gray-12px\" @click=\"editReservation(reservation, room)\">수정</button>\n                    </div>\n                  </div>\n\n                  <!-- +MORE 버튼 -->\n\n                  <div v-show=\"shouldShowMoreButton(room)\" class=\"more-btn\" @click=\"showMoreReservations(room)\">\n                    + MORE\n                  </div>\n\n                </div>\n\n              </div>\n\n            </div>\n           \n            <ManagerReservationModal v-if=\"isModalVisible\" @close=\"closeModal\" :selectedRoom = selectedRoom :selectedReservation= selectedReservation    :isEditMode=\"isEditMode\"    :selectedDate=\"selectedDate\" />\n          </div>\n          <div v-else>홈페이지 관리에서 룸을 등록해주세요.</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\n\nimport ManagerReservationModal from \"./ManagerReservationModal.vue\";\nimport ManagerHeader from \"./ManagerHeader.vue\";\nimport ManagerNavbar from \"./ManagerNavbar.vue\";\nimport { managerStore } from '@/store/managerStore';  // API 호출\nimport { ref } from 'vue';\n\n\nexport default {\n  name: \"ManagerRoom\",\n  components: {\n    ManagerReservationModal,\n    ManagerHeader,\n    ManagerNavbar,\n  },\n  data() {\n    return {\n      selectedReservation: null,\n      isModalVisible: false,\n      selectedDate: \"2024-12-15\",\n      currentDate: \"\",\n      currentTime: \"\",\n      currentDateTime: \"\",\n      availableRoom: [],\n      deletedReservation: null,\n      selectedRoom : null, \n      roomDt: [],\n      rooms: [\n        {\n          id: 1,\n          name: \"1번방\",\n          statusText: \"이용중\",\n          statusClass: \"available\",\n          currentReservation: \"12:00 ~ 14:00\",\n          reservations: [\n            { id: 1, time: \"08:00 ~ 10:00\" },\n            { id: 2, time: \"12:00 ~ 14:00\" },\n            { id: 3, time: \"12:00 ~ 14:00\" },\n\n            { id: 4, time: \"12:00 ~ 14:00\" },\n          ],\n          showMore: false,\n        }\n       \n      ],\n    };\n  },\n  mounted() { // 실제로 화면에 내용이 그려진 직후에 확인.\n    // this.getRoomDt()\n    this.updateCurrentDateTime();\n    // setInterval(this.updateCurrentDateTime, 1000); // 1초마다 업데이트\n    console.log(\"모달로 전달된 선택된 날짜:\", this.selectedDate);\n\n  },\n  watch: { // 데이터 변경시 호출\n    selectedDate(newDate, oldDate) {\n      console.log(`selectedDate changed from ${oldDate} to ${newDate}`);\n\n      // 선택한 날짜에 따라 새로운 데이터를 가져오거나, 다른 작업을 수행\n\n      this.getReservationDt(newDate);\n    },\n    date(newDate) {\n    this.getReservationDt(newDate);\n  },\n  },\n  methods: {\n    // 룸 예약 정보 삭제\n    async delReservation(reservationId) {\n  try {\n    // 삭제하려는 예약 정보를 찾기\n    let reservationToDelete = null;\n    let roomToDelete = null;\n\n    for (const room of this.availableRoom) {\n      reservationToDelete = room.reservations.find(\n        (res) => res.id === reservationId\n      );\n      if (reservationToDelete) {\n        roomToDelete = room; // 해당 방 정보도 함께 저장\n        break;\n      }\n    }\n\n    if (!reservationToDelete || !roomToDelete) {\n      alert(\"삭제할 예약 정보를 찾을 수 없습니다.\");\n      return;\n    }\n    const formatTime = (time) => time.slice(11, 16); \n    // 예약 정보 저장\n    this.deletedReservation = {\n      phoneNumber: reservationToDelete.reser_phone || \"\",\n      userName: reservationToDelete.reser_user || \"\",\n      availableTime: `${formatTime(reservationToDelete.startTime)} ~ ${formatTime(\n        reservationToDelete.endTime\n      )}`, \n      roomName: roomToDelete.room_id, // 방 이름 또는 ID 저장\n    };\n\n    console.log(\"삭제할 예약 정보:\", this.deletedReservation);\n\n    // 예약 삭제 API 호출\n    const response = await managerStore.deleteTask(\n      `reservations/${reservationId}`\n    );\n    console.log(\"삭제 API 응답:\", JSON.stringify(response));\n    alert(\"해당 예약이 정상적으로 삭제되었습니다.\");\n\n    // cancelMsg 호출\n    this.cancelMsg(this.deletedReservation);\n\n    // 예약 데이터 갱신\n    this.getReservationDt(this.selectedDate);\n  } catch (error) {\n    console.error(\"[delReservation] 예약 삭제 오류:\", error);\n    alert(\"예약 삭제 중 오류가 발생했습니다.\");\n  }\n},\n    async cancelMsg(deletedReservation) {\n      const managerInfo = JSON.parse(localStorage.getItem(\"managerInfo\"));\n      console.log(\"[cancelMsg] Manager Info:\", managerInfo);\n\n      const params = {\n        phoneNumber: deletedReservation.phoneNumber,\n    userName: deletedReservation.userName,\n    availableTime:deletedReservation.availableTime,\n      storeName: managerInfo.identifier,\n      };\n\n      console.log(\"[cancelMsg] Sending params:\", params);\n\n      try {\n        const response = await managerStore.postTask(\n          `v1/sms/cancelReservation`,\n          params\n        );\n        console.log(\"[cancelMsg] Response received:\", response);\n      } catch (error) {\n        console.error(\"[cancelMsg] API call failed:\", error);\n      }\n    },\n    // 처음 2개의 예약을 표시하거나, showMore가 true일 때는 모든 예약을 표시\n    visibleReservations(room) {\n      console.log('filteredReservations : : ', JSON.stringify(room))\n\n      const filteredReservations = room.reservations.filter(reservation => {\n        return (\n          ( reservation.check === '사이값' || reservation.check === '초과값') &&\n        reservation.status === 'confirm' \n      );\n      });\n\n      // showMore 상태에 따라 결과 반환\n      if (room.showMore) {\n        return filteredReservations; // 모든 필터된 예약을 표시\n      }\n\n\n      return filteredReservations.slice(0, 2); // 처음 2개의 필터된 예약만 표시\n    },\n\n    // +MORE 버튼을 표시할지 여부\n    shouldShowMoreButton(room) {\n  const filteredReservations = room.reservations.filter(\n    reservation => reservation.status === 'confirm' // status가 confirm인 예약만 포함\n  );\n  return filteredReservations.length > 2 && !room.showMore;\n}\n,\n\n    // +MORE 버튼을 클릭했을 때 나머지 예약을 표시\n    showMoreReservations(room) {\n  const filteredReservations = room.reservations.filter(\n    reservation => reservation.status === 'confirm' // status가 confirm인 예약만 포함\n  );\n  if (filteredReservations.length > 2) {\n    room.showMore = true;\n  }\n},\n\n    // 예약이 4개 이상일 때만 스크롤바를 보이게 하는 조건\n    shouldScrollBeVisible(room) {\n      // console.log(\"Rooooom : : : \" , room)\n      return room.showMore && room.reservations.length > 3; // +MORE 클릭 후 4개 이상일 때 스크롤 표시\n    },\n    openModal(room) {\n    this.selectedRoom = room;\n    this.isEditMode = false; \n    this.selectedReservation = null;\n    console.log(\"openModal selectedDate:\", this.selectedDate);\n    this.isModalVisible = true;\n  },\n  editReservation(reservation, room) {\n  this.selectedReservation = reservation;\n  this.selectedRoom = room; // 방 정보도 함께 설정\n  this.isEditMode = true;\n  this.isModalVisible = true;\n},\n  closeModal() {\n    this.isModalVisible = false;\n    this.isEditMode = false; \n    this.selectedRoom = null;\n    this.selectedReservation = null;\n\n    this.getReservationDt(this.selectedDate);\n  },\n    async getRoomDt() {\n      const managerInfo = JSON.parse(localStorage.getItem('managerInfo'));\n      const response = await managerStore.getTask(`rooms`);\n      this.availableRoom = [];\n      console.log(\"roomNumbering : : : : : : \", JSON.stringify(response))\n      this.availableRoom = this.filterByManagerId(response, parseInt(managerInfo.id));\n\n      console.log(\"roomNumbering : : : : : : 필터링 후 \", JSON.stringify(this.availableRoom))\n\n    },\n    filterByManagerId(data, managerId) {\n      return data.filter(item => item.managerid === managerId);\n    },\n    async getReservationDt(date) {\n        const managerInfo = JSON.parse(localStorage.getItem('managerInfo'));\n        console.log(\"managerInfomanagerInfomanagerInfo : ::: \" , managerInfo.id)\n      // await taskStore.addTask(task);\n      // console.log(\"API 통신 시작\")\n      // 룸 정보 가져오는 구문 (GET)\n      await this.getRoomDt();\n      this.roomDt = []; // 초기화\n      this.roomDt = await managerStore.getTask(`reservations/date/${date}/manager?managerId=${managerInfo.id}`);\n      \n      console.log(\"룸데이터 가져오기 : : : : : : \", JSON.stringify(this.roomDt))\n      this.updateRoomStatus()\n      // console.log(\"roomDt[0].reser_user : : : \"  , this.roomDt[0].reser_user)\n      // localStorage.setItem('roomDt', JSON.stringify(this.roomDt));\n      // this.isAdding = false;\n      // this.isEditMode = false;\n      // this.currentTask = null;\n    },\n    // 현재 시간 구하기\n    updateCurrentDateTime() {\n      const now = new Date();\n\n      // UTC+9로 변환\n      const offset = 9 * 60; // 9시간 * 60분\n      const kstDate = new Date(now.getTime() + offset * 60 * 1000);\n\n      // 날짜와 시간 형식 지정\n      const formattedDate = `${kstDate.getUTCFullYear()}-${String(kstDate.getUTCMonth() + 1).padStart(2, '0')}-${String(kstDate.getUTCDate()).padStart(2, '0')}`;\n      const formattedTime = `${String(kstDate.getUTCHours()).padStart(2, '0')}:${String(kstDate.getUTCMinutes()).padStart(2, '0')}:${String(kstDate.getUTCSeconds()).padStart(2, '0')}`;\n\n      // UTC+9에 맞춘 ISO 8601 형식으로 출력\n      this.currentDateTime = `${formattedDate}T${formattedTime}.000Z`;\n      this.currentDate = formattedDate;\n      this.currentTime = formattedTime;\n      this.selectedDate = this.currentDate\n      console.log(this.currentDateTime); // 예: 2024-11-06T04:49:05+09:00\n\n      console.log(\"현재 날짜 시간\" + this.currentDateTime)\n      this.getReservationDt(this.currentDate);\n    },\n\n    getFormattedTime() {\n      const now = new Date();\n      return new Date(this.currentDateTime).getTime(); // ISO 형식으로 변환\n    },\n    updateRoomStatus() {\n  console.log(\"this.roomDt : :: \", this.roomDt);\n\n  const formattedTime = this.getFormattedTime(); // 현재 시간 가져오기\n\n  this.roomDt.forEach((room, roomIndex) => {\n    this.roomDt[roomIndex].reservations = room.reservations.filter(reservation => {\n      const start = new Date(reservation.startTime).getTime();\n      const end = new Date(reservation.endTime).getTime();\n\n      if (reservation.status === \"confirm\") {\n        console.log(\"Reservation passed status check: \", reservation);\n        if (formattedTime >= start && formattedTime <= end) {\n          reservation.check = \"사이값\";\n          return true;\n        } else if (formattedTime < start) {\n          reservation.check = \"초과값\";\n          return true;\n        }\n      } else {\n        console.log(\"Reservation did not pass status check: \", reservation);\n      }\n      return false;\n    });\n  });\n\n  if (this.roomDt.length > 0) {\n    console.log(\"Filtered roomDt: \", JSON.stringify(this.roomDt));\n    for (let i = 0; i < this.availableRoom.length; i++) {\n      for (let a = 0; a < this.roomDt.length; a++) {\n        if (this.roomDt[a].room_id === this.availableRoom[i].room_id) {\n          this.availableRoom[i].reservations = this.roomDt[a].reservations;\n        }\n      }\n    }\n\n    this.availableRoom.forEach(room => {\n      if (room.reservations && room.reservations.length > 0) {\n        const checkValue = room.reservations[0].check;\n        if (checkValue === \"초과값\") {\n          room.status = \"upcoming\";\n        } else if (checkValue === \"사이값\") {\n          room.status = \"available\";\n        } else {\n          room.status = \"waiting\";\n        }\n      } else {\n        room.status = \"waiting\";\n      }\n    });\n\n    this.availableRoom = [...this.availableRoom];\n    console.log(\"Updated availableRoom: \", JSON.stringify(this.availableRoom));\n  } else {\n    this.availableRoom = [...this.availableRoom];\n    console.log(\"No room data found: \", JSON.stringify(this.availableRoom));\n  }\n}\n\n  },\n};\n</script>\n\n<style scoped>\n/* 전체 컨테이너의 배경색 설정 */\n.reservation-container {\n  background: #f5f6f6;\n  display: flex;\n  height: 100%;\n  /* 기본값이 세로방향인 flex-direction을 가로방향으로 설정 */\n  flex-direction: row;\n}\n\n.wrapper {\n  flex-grow: 1;\n  /* 나머지 공간을 차지하게 함 */\n  padding: 30px;\n  gap: 20px;\n}\n\n/* 타이틀 박스 */\n.title-box {\n  background-color: #fff;\n  padding: 30px;\n  margin-bottom: 20px;\n}\n\n/* 날짜 선택 박스 */\n.date-picker-box {\n  background-color: #fff;\n  padding: 30px;\n  margin-bottom: 20px;\n}\n\n/* 24.11.11 수정 */\n.date {\n  width: 250px;\n  height: 60px;\n  border: 1px solid #ddd;\n  padding: 0 20px;\n}\n\n/* 방 리스트 박스 */\n.room-list-box {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  background-color: #fff;\n  padding: 20px;\n  padding-bottom: 130px;\n}\n\n/* 개별 방 박스 */\n.room-box {\n  background-color: #fff;\n  padding: 40px 30px;\n  width: 270px;\n  height: 270px;\n  border-radius: 5px;\n  border: 1px solid #ddd;\n}\n\n/* 방 제목과 예약 버튼 */\n.room-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n\n.reserve-btn {\n  background-color: #E34D55;\n  color: #fff;\n  border: none;\n  padding: 5px;\n  border-radius: 4px;\n}\n\n/* 상태 표시 */\n.room-status {\n  display: flex;\n  justify-content: space-between;\n  gap: 6px;\n  margin-bottom: 10px;\n}\n\n.status-label {\n  padding: 7.5px 6.5px;\n  border-radius: 4px;\n  color: #fff;\n}\n\n.room-box.available {\n  border-color: #14B655;\n}\n\n.room-box.waiting {\n  border-color: #D30F1A;\n}\n\n.room-box.upcoming {\n  border-color: #184199;\n\n}\n\n.available .status-label {\n  background-color: #14B655;\n}\n\n.available .reservation-time {\n  color: #14B655;\n}\n\n.waiting .status-label {\n  background-color: #D30F1A;\n\n}\n\n.waiting .reservation-time {\n  color: #D30F1A\n}\n\n.upcoming .status-label {\n  background-color: #184199;\n}\n\n.upcoming .reservation-time {\n  color: #184199;\n}\n\n.reservation-time {\n  color: #333;\n}\n\n/* 예약 상세 */\n.reservation-details {\n  background-color: #f5f5f5;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border: none;\n}\n\n.reservation-time {\n\n  letter-spacing: -1px;\n}\n\n.reservation-actions {\n  display: flex;\n}\n\n.reservation-time-block {\n  letter-spacing: -1px;\n}\n\n.delete-btn,\n.edit-btn {\n  letter-spacing: -2px;\n  background: none;\n  border: none;\n  color: #D30F1A;\n  gap: 6px;\n  cursor: pointer;\n}\n\n.edit-btn {\n  color: #184199;\n}\n\n/* +More 버튼 */\n.more-btn {\n  text-align: center;\n  color: #bbb;\n  cursor: pointer;\n}\n\n.scroll-container {\n  max-height: none;\n  overflow-y: hidden;\n}\n\n/* 스크롤 가능한 상태일 때 스크롤바 적용 */\n.scroll-container.scrollable {\n  max-height: 150px;\n  /* 4개 이상의 예약이 있을 때 스크롤바가 생김 */\n  overflow-y: auto;\n}\n</style>\n"]}]}