{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/Callback.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/Callback.vue","mtime":1731596063964},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NhbGxiYWNrJywKICAvLyBsYXlvdXQ6ICdzaWduaW4nLAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgIAogICAgY29uc3QgaGFzaCA9IHRoaXMuJHJvdXRlLmhhc2gKICAgIGNvbnN0IHF1ZXJ5ID0gaGFzaC5zdWJzdHJpbmcoaGFzaC5pbmRleE9mKCc9JykgKyAxKQogICAgY29uc3QgY29kZSA9IHF1ZXJ5LnN1YnN0cmluZygwLCBxdWVyeS5pbmRleE9mKCcmJykpCiAgICBjb25zb2xlLmxvZygiY29kZS0tLSBBUEkg7Ya17Iug7KSRIH5+fn5+fn4+ICIpCiAgICBjb25zb2xlLmxvZyhjb2RlKQogICAgLy8gY29uc29sZS5sb2coaGFzaCkKICAgIC8vIGNvbnNvbGUubG9nKHF1ZXJ5KQogICAgLy8gdmFyIGhlYWRlciA9ICJCZWFyZXIgIiArIGNvZGU7IC8vIEJlYXJlciDri6TsnYzsl5Ag6rO167CxIOy2lOqwgAogICAgIAogICAgICBjb25zdCBhY2Nlc3NfdG9rZW4gPSBjb2RlOwogICAgICAvLyBjb25zdCBtZSA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cudGFsa3RhbGtib2FyZC5jb20vYXBpL25hdmVyTG9naW4ucGhwP2FjY2Vzc190b2tlbj0ke2FjY2Vzc190b2tlbn1gKQogICAgICBjb25zdCBtZSA9IGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly80My4yMDIuMTY2LjIyMTozMDAwL2FwaS92MS9hdXRoL25hdmVyL2xvZ2luJyx7CiAgICAgICAgYWNjZXNzVG9rZW4gOiBhY2Nlc3NfdG9rZW4KICAgICAgfSwKICAgICAgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdhY2NlcHQnOiAnKi8qJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgfSwKICAgICAgfSkKICAgIAogICAgCiAgICBjb25zb2xlLmxvZyhtZS5kYXRhLm1lc3NhZ2UpCiAgICBjb25zb2xlLmxvZygiTUUgOiA6IDogOiA6IDoiK0pTT04uc3RyaW5naWZ5KG1lKSkKICAgIGlmKG1lLmRhdGEucmVmcmVzaFRva2VuKXsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlZnJlc2hUb2tlbicsIG1lLmRhdGEucmVmcmVzaFRva2VuKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ1Rva2VuJywgbWUuZGF0YS50b2tlbik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dpbkluZm8nLCBKU09OLnN0cmluZ2lmeShtZS5kYXRhLnVzZXIpKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJMb2dpbiIgLCJ0cnVlIik7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvJykgIAogICAgfWVsc2V7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvbG9naW4nKSAgCiAgICB9CiAgICAKICAgIAogIH0sCn0K"},{"version":3,"sources":["Callback.vue"],"names":[],"mappings":";AASA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"Callback.vue","sourceRoot":"src/components","sourcesContent":["<template>\n \n\n      <p>네이버 로그인중</p>\n\n\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'callback',\n  // layout: 'signin',\n  async mounted() {\n   \n    const hash = this.$route.hash\n    const query = hash.substring(hash.indexOf('=') + 1)\n    const code = query.substring(0, query.indexOf('&'))\n    console.log(\"code--- API 통신중 ~~~~~~~> \")\n    console.log(code)\n    // console.log(hash)\n    // console.log(query)\n    // var header = \"Bearer \" + code; // Bearer 다음에 공백 추가\n     \n      const access_token = code;\n      // const me = await axios.get(`https://www.talktalkboard.com/api/naverLogin.php?access_token=${access_token}`)\n      const me = await axios.post('http://43.202.166.221:3000/api/v1/auth/naver/login',{\n        accessToken : access_token\n      },\n      {\n        headers: {\n          'accept': '*/*',\n          'Content-Type': 'application/json',\n        },\n      })\n    \n    \n    console.log(me.data.message)\n    console.log(\"ME : : : : : :\"+JSON.stringify(me))\n    if(me.data.refreshToken){\n      localStorage.setItem('refreshToken', me.data.refreshToken);\n      localStorage.setItem('Token', me.data.token);\n      localStorage.setItem('loginInfo', JSON.stringify(me.data.user));\n      localStorage.setItem(\"userLogin\" ,\"true\");\n      this.$router.replace('/')  \n    }else{\n      this.$router.replace('/login')  \n    }\n    \n    \n  },\n}\n</script>\n\n<style>\n</style>"]}]}