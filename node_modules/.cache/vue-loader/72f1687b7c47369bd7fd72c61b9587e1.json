{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/ResetPasswordConfirmModal.vue?vue&type=style&index=0&id=06351f79&prod&lang=css","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/ResetPasswordConfirmModal.vue","mtime":1733810270336},{"path":"/usr/vue/lezuro_all/node_modules/css-loader/dist/cjs.js","mtime":1728542747276},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1728542748492},{"path":"/usr/vue/lezuro_all/node_modules/postcss-loader/src/index.js","mtime":1728542747992},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5wb3B1cHU0N2RlZnVhbHQtMyB7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7IC8qIOu4lOuemSDtiKzrqoUg67Cw6rK9ICovCiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIHBvc2l0aW9uOiBmaXhlZDsKICB0b3A6IDA7CiAgbGVmdDogMDsKICByaWdodDogMDsKICBib3R0b206IDA7CiAgei1pbmRleDogMTAwMDsgLyog66qo64us7J2EIOy1nOyDgeychOuhnCDrsLDsuZggKi8KfQoKLmZyYW1lLTUtMyB7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ibGFja3doaXRld2hpdGUpOwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGZsZXg6IDAgMCBhdXRvOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgouZnJhbWUtNC0zIHsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGZsZXg6IDAgMCBhdXRvOwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgZ2FwOiAxMHB4OwogIHBhZGRpbmc6MjVweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi54LTQ1ewogIGxldHRlci1zcGFjaW5nOiAtMC4zMnB4OwogIGxpbmUtaGVpZ2h0OiAyNHB4OwogIG1hcmdpbi10b3A6IC0xcHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIHdpZHRoOiBmaXQtY29udGVudDsKfQoKLnRleHRfbGFiZWwtMzMsCi50ZXh0X2xhYmVsLTM0IHsKICBsZXR0ZXItc3BhY2luZzogLTAuMjhweDsKICBsaW5lLWhlaWdodDogMjFweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHdpZHRoOiAyMjZweDsKfQouYnRuLWdyb3VwLTMgewogIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGZsZXg6IDAgMCBhdXRvOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgouYnRuc2Vjb25kYXJ5IHsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW5vYmVsKTsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMTBweDsKICBoZWlnaHQ6IDUycHg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgbWFyZ2luLWJvdHRvbTogLTFweDsKICBtYXJnaW4tbGVmdDogLTFweDsKICBtYXJnaW4tdG9wOiAtMXB4OwogIHBhZGRpbmc6IDE0cHggMTBweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDE0MHB4Owp9CgoudGV4dF9sYWJlbC0zNSB7CiAgbGV0dGVyLXNwYWNpbmc6IC0wLjMycHg7CiAgbGluZS1oZWlnaHQ6IDI0cHg7CiAgbWFyZ2luLXRvcDogLTFweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgd2lkdGg6IGZpdC1jb250ZW50Owp9CgouYnRucHJpbWFyeS0zIHsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1vbnphKTsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMTBweDsKICBoZWlnaHQ6IDUwcHg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgcGFkZGluZzogMTRweCAxMHB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB3aWR0aDogMTM4cHg7Cn0KCi50ZXh0LTgzIHsKICBsZXR0ZXItc3BhY2luZzogLTAuMzJweDsKICBsaW5lLWhlaWdodDogMjRweDsKICBtYXJnaW4tdG9wOiAtMnB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICB3aWR0aDogZml0LWNvbnRlbnQ7Cn0KCi5idG4tZ3JvdXAtMy5idG4tZ3JvdXAtOCAuYnRuc2Vjb25kYXJ5IHsKICBib3JkZXItY29sb3I6IHZhcigtLWJsYWNrd2hpdGV3aGl0ZSk7CiAgYm9yZGVyLXJpZ2h0LXN0eWxlOiBzb2xpZDsKICBib3JkZXItcmlnaHQtd2lkdGg6IDAuNXB4Owp9CgouYnRuLWdyb3VwLTMuYnRuLWdyb3VwLTggLnRleHRfbGFiZWwtMzUgewogIG1hcmdpbi10b3A6IC0xLjI1cHg7Cn0KCi5idG4tZ3JvdXAtMy5idG4tZ3JvdXAtOCAuYnRucHJpbWFyeS0zIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ub2JlbCk7Cn0K"},{"version":3,"sources":["ResetPasswordConfirmModal.vue"],"names":[],"mappings":";AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"ResetPasswordConfirmModal.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"popupu47defualt-3 screen\">\n    <div class=\"frame-5-3\">\n      <div class=\"frame-4-3\">\n        <div class=\"x-45 valign-text-middle notosanskr-medium-log-cabin-16px\">\n          예약 취소\n        </div>\n        <p class=\"text_label-33 valign-text-middle notosanskr-normal-tuatara-14px\">\n          현재&nbsp;&nbsp;예약을&nbsp;&nbsp;취소하시겠습니까?\n        </p>\n      </div>\n      <div class=\"btn-group-3\">\n        <div class=\"btnsecondary\" @click=\"closeRModal\">\n          <div class=\"text_label-35 valign-text-middle notosanskr-light-white-16px\">\n            닫기\n          </div>\n        </div>\n        <div class=\"btnprimary-3\" @click=\"cancelReservation\">\n          <div class=\"text-83 valign-text-middle notosanskr-light-white-16px\">\n            취소\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { taskStore } from \"@/store/taskStore\"; \n\nexport default {\n  name: \"ReservationCancelModal\",\n  props: {\n    reservationId: {\n      type: Number,\n      required: true,\n    },\n    store: {\n    type: String,\n    required: true,\n  },\n  time: {\n    type: String,\n    required: true,\n  },\n  loginInfo: {\n    type: Object,\n    required: true,\n  },\n  },\n  // mounted() {\n  //   console.log(\"받은 reservationId (mounted):\", this.reservationId);\n  // },\n  methods: {\n    closeRModal() {\n      // 모달을 닫기 위한 이벤트 전송\n      this.$emit(\"closeRModal\");\n    },\n    async cancelReservation() {\n      try {\n        const params = {\n          status: \"cancel\", // 서버에 저장할 필드명 'profileImage'로 전송\n        };\n        // 서버에 프로필 이미지 업데이트 요청\n        const response = taskStore.updateTask(\n          `reservations/${this.reservationId}/status`,\n          params\n        );\n        console.log(\"dsfhdfsjkl;dsf\",params)\n        console.log(\"예약 취소 응답:\", response);\n        alert(\"예약이 취소되었습니다.\");\n        this.cancelMsg() // 예약 취소 메세지 전송\n\n        // 성공적으로 취소 후 모달 닫기\n        this.$emit(\"closeRModal\");\n        this.$emit(\"reservationCanceled\"); // 상위 컴포넌트에 이벤트 전달\n      } catch (error) {\n        console.error(\"예약 취소 실패:\", error);\n        alert(\"예약 취소에 실패했습니다. 다시 시도해주세요.\");\n      }\n    },\n\n    // 예약 취소 메세지 전송\n    async cancelMsg(){\n      const availableTime = this.time.split(\"[\")[0].trim();\n      const params =\n      {\n        // 해당 파라미터 값 채워 넣기!\n        phoneNumber: this.loginInfo.phoneNm, // loginInfo에서 phoneNm 사용\n        userName: this.loginInfo.name,   \n        availableTime, // 예약 시작 시간과 종료 시간\n    storeName: this.store,   \n      };\n      console.log(\"dklj\",params)\n      try {\n        const response = await taskStore.postTask(\n          `v1/sms/cancelReservation`,params\n        );\n        console.log(\"response\",response)\n        \n      } catch (error) {\n        console.error(\"API 호출 오류:\", error);\n      }\n      \n    }\n  },\n};\n</script>\n<style>\n.popupu47defualt-3 {\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5); /* 블랙 투명 배경 */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1000; /* 모달을 최상위로 배치 */\n}\n\n.frame-5-3 {\n  align-items: center;\n  background-color: var(--blackwhitewhite);\n  display: inline-flex;\n  flex: 0 0 auto;\n  border-radius: 8px;\n  overflow: hidden;\n  flex-direction: column;\n  justify-content: center;\n  position: relative;\n}\n\n.frame-4-3 {\n  align-items: center;\n  display: inline-flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 10px;\n  padding:25px;\n  position: relative;\n}\n\n.x-45{\n  letter-spacing: -0.32px;\n  line-height: 24px;\n  margin-top: -1px;\n  position: relative;\n  text-align: center;\n  white-space: nowrap;\n  width: fit-content;\n}\n\n.text_label-33,\n.text_label-34 {\n  letter-spacing: -0.28px;\n  line-height: 21px;\n  position: relative;\n  text-align: center;\n  width: 226px;\n}\n.btn-group-3 {\n  align-items: flex-start;\n  display: inline-flex;\n  flex: 0 0 auto;\n  overflow: hidden;\n  position: relative;\n}\n\n.btnsecondary {\n  align-items: center;\n  background-color: var(--nobel);\n  display: flex;\n  gap: 10px;\n  height: 52px;\n  justify-content: center;\n  margin-bottom: -1px;\n  margin-left: -1px;\n  margin-top: -1px;\n  padding: 14px 10px;\n  position: relative;\n  width: 140px;\n}\n\n.text_label-35 {\n  letter-spacing: -0.32px;\n  line-height: 24px;\n  margin-top: -1px;\n  position: relative;\n  text-align: center;\n  white-space: nowrap;\n  width: fit-content;\n}\n\n.btnprimary-3 {\n  align-items: center;\n  background-color: var(--monza);\n  display: flex;\n  gap: 10px;\n  height: 50px;\n  justify-content: center;\n  padding: 14px 10px;\n  position: relative;\n  width: 138px;\n}\n\n.text-83 {\n  letter-spacing: -0.32px;\n  line-height: 24px;\n  margin-top: -2px;\n  position: relative;\n  text-align: center;\n  white-space: nowrap;\n  width: fit-content;\n}\n\n.btn-group-3.btn-group-8 .btnsecondary {\n  border-color: var(--blackwhitewhite);\n  border-right-style: solid;\n  border-right-width: 0.5px;\n}\n\n.btn-group-3.btn-group-8 .text_label-35 {\n  margin-top: -1.25px;\n}\n\n.btn-group-3.btn-group-8 .btnprimary-3 {\n  background-color: var(--nobel);\n}\n</style>"]}]}