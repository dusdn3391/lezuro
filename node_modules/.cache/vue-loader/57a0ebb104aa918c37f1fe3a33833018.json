{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/NoticeDetail.vue?vue&type=style&index=1&id=27359343&prod&scoped=true&lang=css","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/NoticeDetail.vue","mtime":1732253977669},{"path":"/usr/vue/lezuro_all/node_modules/css-loader/dist/cjs.js","mtime":1728542747276},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1728542748492},{"path":"/usr/vue/lezuro_all/node_modules/postcss-loader/src/index.js","mtime":1728542747992},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgouaW1hZ2UtY29udGFpbmVyewogIHBhZGRpbmctdG9wOjIwcHg7CiAgd2lkdGg6MTAwJTsKfQoKLmltYWdlLWNvbnRhaW5lciBpbWd7CiAgd2lkdGg6MTAwJTsKfQoudGl0bGUgewogIHBhZGRpbmctdG9wOiAxMDRweDsKICBwYWRkaW5nLWJvdHRvbTogNTBweDsKfQoKLm5vdGljZS1kZXRhaWwgewogIHdpZHRoOiAxMDAlOwp9CgoubG9yZW0taXBzdW0tZG9sb3Itc2ktNywKLmxvcmVtLWlwc3VtLWRvbG9yLXNpLTggewogIHdpZHRoOiAxMDAlOwp9Ci5yZWN0YW5nbGUtNTA5Mjc5LTEgewogIHdpZHRoOiAxMDAlOwp9Ci5mcmFtZS03ODM2LTYgewogIHBhZGRpbmc6IDQwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsKfQo="},{"version":3,"sources":["NoticeDetail.vue"],"names":[],"mappings":";;AA8OA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NoticeDetail.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container-center-horizontal\">\n    <div class=\"announcementsdetails screen\">\n      <Header />\n      <rj-zs-wi\n        :frame72911Props=\"rJZsWIProps.frame72911Props\"\n        :frame72912Props=\"rJZsWIProps.frame72912Props\"\n      />\n      <div class=\"frame-7913\">\n        <div class=\"title pretendard-bold-log-cabin-38px\">공지사항</div>\n        <div class=\"notice-detail\">\n          <div class=\"frame-7754-2\">\n            <div class=\"text-1934 valign-text-middle pretendard-bold-log-cabin-30px\" >\n              {{ title }}\n            </div>\n            <div class=\"frame-7835-2 pretendard-regular-normal-mountain-mist-20px\">\n              <div class=\"frame-7835-item-1 valign-text-middle\">\n                {{ updatedAt }}\n              </div>\n              <div class=\"rectangle-50927\"></div>\n              <div class=\"frame-7835-item-1 valign-text-middle\">\n                {{ author }}\n              </div>\n              <div class=\"rectangle-50927\"></div>\n              <div class=\"frame-7835-item-1 valign-text-middle\">\n                조회수 {{ views }}\n              </div>\n            </div>\n          </div>\n          <div class=\"frame-7836-6 pretendard-light-granite-gray-18px\">\n            <p class=\"lorem-ipsum-dolor-si-7 valign-text-middle\">\n              {{ content }}\n            </p>\n            <div v-if=\"imageUrl\" class=\"image-container\">\n              <img :src=\"imageUrl\" alt=\"첨부된 이미지\" class=\"uploaded-image\" />\n            </div>\n        </div>\n          </div>\n      \n\n        <div class=\"frame-7912\">\n          <article class=\"frame-7923-3\">\n            <div\n              class=\"text_label-31 valign-text-middle pretendard-medium-white-18px\"\n              @click=\"toGoNoticeList\"\n            >\n              목록으로\n            </div>\n          </article>\n        </div>\n      </div>\n      <x-footer />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { taskStore } from \"@/store/taskStore\";\nimport Header from \"./Header\";\nimport RjZsWi from \"./RjZsWi\";\nimport XFooter from \"./XFooter\";\nexport default {\n  name: \"NoticeDetail\",\n  components: {\n    Header,\n    RjZsWi,\n    XFooter,\n  },\n  data() {\n  return {\n    title: \"\",\n    updatedAt: \"\",\n    author: \"\",\n    views: \"\",\n    content: \"\",\n    imageUrl:\"\",\n  };\n},\n  props: [\"rJZsWIProps\"],\n  async mounted() {\n  // 라우트에서 전달된 상태 데이터를 가져옵니다.\n  const id = this.$route.query.id \n  console.log(\"Received ID:\", id);\n  if (id) {\n    this.id = id;\n    await this.fetchNoticeDetail();\n  } else {\n    console.error(\"ID를 찾을 수 없습니다.\");\n    this.toGoNoticeList();\n  }\n},\n  methods: {\n    async updateViews(count){\n      console.log(\"count : : : \" ,count)\n      const params ={\n        views : count + 1\n      }\n      try {\n        const response = await taskStore.updateTask(`customer-notice/${parseInt(this.id)}/`,params);\n        console.log(\"API 응답:\", response);\n\n        \n      } catch (error) {\n        console.error(\"게시판 데이터를 가져오는 중 오류 발생:\", error);\n      }\n    },\n    async fetchNoticeDetail() {\n    try {\n      // API 호출\n      const response = await taskStore.getSelectTasks(`customer-notice/${this.id}`);\n      console.log(\"API 응답:\", response);\n\n      // 응답에서 데이터를 추출 (수정된 부분)\n      const data = response;\n\n      this.updateViews(data.views)\n      // 데이터가 존재하는지 확인하고 할당\n      if (data) {\n        this.title = data.title \n        this.updatedAt = data.updatedAt ? data.updatedAt.split(\"T\")[0] : \"날짜 없음\";\n        this.author = data.author || \"작성자 없음\";\n        this.views = data.views || 0;\n        this.content = data.content || \"내용이 없습니다.\";\n        this.imageUrl= data.imageUrl\n      } else {\n        console.error(\"응답 데이터가 없습니다.\");\n      }\n    } catch (error) {\n      console.error(\"공지사항 데이터를 가져오는 중 오류 발생:\", error);\n    }\n  },\n    toGoNoticeList() {\n      this.$router.push({ path: \"/notice-list\" });\n    },\n  },\n};\n</script>\n\n<style>\n.announcementsdetails {\n  background-color: var(--blackwhitewhite);\n  position: relative;\n  width: 100%;\n}\n\n.frame-7913 {\n  align-items: flex-start;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 0px 13.5%;\n  position: relative;\n  margin-bottom: 227px;\n}\n\n.frame-7754-2 {\n  align-items: flex-start;\n  align-self: stretch;\n  border-color: var(--greygrey-900);\n  border-top-style: solid;\n  border-top-width: 1px;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 40px 0px;\n  position: relative;\n  width: 100%;\n}\n.frame-7923-3 {\n  align-items: center;\n  background-color: var(--monza);\n  display: flex;\n  gap: 10px;\n  height: 50px;\n  justify-content: center;\n  padding: 18px 66px;\n  position: relative;\n  width: 150px;\n}\n.text-1934 {\n  height: 35px;\n  letter-spacing: 0;\n  line-height: normal;\n  margin-top: -1px;\n  position: relative;\n  white-space: nowrap;\n  width: 658px;\n}\n.text_label-31 {\n  letter-spacing: 0;\n  line-height: normal;\n  margin-left: -22.5px;\n  margin-right: -22.5px;\n  margin-top: -0.5px;\n  position: relative;\n  white-space: nowrap;\n  width: fit-content;\n}\n.frame-7835-2 {\n  align-items: center;\n  display: inline-flex;\n  flex: 0 0 auto;\n  gap: 10px;\n  justify-content: center;\n  position: relative;\n}\n\n.frame-7835-item-1 {\n  letter-spacing: 0;\n  line-height: normal;\n  margin-top: -1px;\n  position: relative;\n  white-space: nowrap;\n  width: fit-content;\n}\n\n.rectangle-50927 {\n  background-color: var(--mountain-mist);\n  height: 11px;\n  position: relative;\n  width: 1px;\n}\n\n.frame-7912 {\n  align-items: flex-start;\n  align-self: stretch;\n  justify-content: center;\n  display: flex;\n  flex: 0 0 auto;\n  gap: 50px;\n  margin-top: 30px;\n  position: relative;\n  width: 100%;\n}\n</style>\n<style scoped>\n\n.image-container{\n  padding-top:20px;\n  width:100%;\n}\n\n.image-container img{\n  width:100%;\n}\n.title {\n  padding-top: 104px;\n  padding-bottom: 50px;\n}\n\n.notice-detail {\n  width: 100%;\n}\n\n.lorem-ipsum-dolor-si-7,\n.lorem-ipsum-dolor-si-8 {\n  width: 100%;\n}\n.rectangle-509279-1 {\n  width: 100%;\n}\n.frame-7836-6 {\n  padding: 40px;\n  border: 1px solid #ddd;\n}\n</style>\n<style scoped src=\"@/style/cs/noticedetail.css\"></style>\n"]}]}