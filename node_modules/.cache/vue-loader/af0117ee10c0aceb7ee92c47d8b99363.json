{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/manager/NicePay.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/manager/NicePay.vue","mtime":1734512361423},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDcnlwdG9KUyBmcm9tICdjcnlwdG8tanMnOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYXlNZXRob2Q6ICJDQVJEIiwgLy9DQVJEIDog7Iug7Jqp7Lm065OcLCBCQU5LIDog6rOE7KKM7J207LK0LCBWQkFOSyA6IOqwgOyDgeqzhOyijCAsQ0VMTFBIT05FIDog7Zy064yA7Y+w6rKw7KCcCiAgICAgIGdvb2RzTmFtZTogIuugiOyggOuhnC3soJXquLDqtowiLCAvLyDroIjsoIDroZwt7KCV6riw6raMCiAgICAgIGFtdDogIjEwMDAiLAogICAgICBtaWQ6ICJnanBhcms1MjRtIiwgLy9uaWN0ZXN0MDBtCiAgICAgIG1vaWQ6ICJtbm9pZDExMjIzMzQ0NTUiLCAvLyDrnpzrjaQg67OA7IiYIOyDneyEsQogICAgICBidXllck5hbWU6ICLrgpjsnbTsiqQiLAogICAgICBidXllckVtYWlsOiAiY2tsaGJqMTFAZ21haWwuY29tIiwKICAgICAgYnV5ZXJUZWw6ICIwMTA5NjY1MTM1NCIsCiAgICAgIHJldHVyblVSTDogImh0dHBzOi8vd3d3LnRhbGt0YWxrYm9hcmQuY29tL2FwaS9uaWNlUGF5LnBocCIsIC8vaHR0cDovL3d3dy5nanBhcmtnb2xmLmNvLmtyL25pY2VQYXlzCiAgICAgIHZiYW5rRXhwRGF0ZTogIjExMjIzMyIsCiAgICAgIGVkaURhdGU6ICIiLAogICAgICBzaWduRGF0YTogIiIKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZW5lcmF0ZVNpZ25EYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZW5lcmF0ZVNpZ25EYXRhKCkgewogICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgICB0aGlzLmVkaURhdGUgPSBub3cudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9bLVQ6LlpdL2csICcnKS5zbGljZSgwLCAxNCk7CgogICAgICBjb25zdCBNSUQgPSB0aGlzLm1pZDsKICAgICAgY29uc3QgcHJpY2UgPSB0aGlzLmFtdDsKICAgICAgY29uc3QgbWVyY2hhbnRLZXkgPSAnOE9XMTJWNVJaZXpmbmZPTGp4dnBQZHlYbWZPanN5bzZmZ3NPSThpR1lSdHdXdk9YWVk5NnoveFMvVytOTm83ZVhrYjluV01YenRWc05aeTVXaHd3RkE9PSc7CgogICAgICBjb25zdCBkYXRhID0gdGhpcy5lZGlEYXRlICsgTUlEICsgcHJpY2UgKyBtZXJjaGFudEtleTsKICAgICAgdGhpcy5zaWduRGF0YSA9IENyeXB0b0pTLlNIQTI1NihkYXRhKS50b1N0cmluZyhDcnlwdG9KUy5lbmMuSGV4KTsKICAgICAgY29uc29sZS5sb2coIlNpZ25EYXRhOiIsIHRoaXMuc2lnbkRhdGEpOwogICAgfSwKICAgIG5pY2VwYXlTdGFydCgpIHsKICAgICAgaWYgKHR5cGVvZiBnb1BheSA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIGdvUGF5KHRoaXMuJHJlZnMucGF5Rm9ybSk7CiAgICAgIH0gZWxzZSBpZih0eXBlb2YgbmljZXBheVN1Ym1pdCA9PT0gImZ1bmN0aW9uIil7CiAgICAgICAgdGhpcy4kcmVmcy5wYXlGb3JtLnN1Ym1pdCgpOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoImdvUGF5IO2VqOyImOqwgCDsoJXsnZjrkJjsp4Ag7JWK7JWY7Iq164uI64ukLiIpOwogICAgICB9CiAgICB9LAogICAgbmljZXBheVN1Ym1pdCgpewogICAgICB0aGlzLiRyZWZzLnBheUZvcm0uc3VibWl0KCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["NicePay.vue"],"names":[],"mappings":";AA0DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NicePay.vue","sourceRoot":"src/components/manager","sourcesContent":["<template>\n  <div class=\"payment-container\">\n    <form ref=\"payForm\" method=\"post\" action=\"https://www.talktalkboard.com/api/nicePay.php\" accept-charset=\"euc-kr\" class=\"payment-form\">\n      <table>\n        <tr>\n          <th>PayMethod</th>\n          <td><input v-model=\"payMethod\" type=\"text\" name=\"PayMethod\" /></td>\n        </tr>\n        <tr>\n          <th>GoodsName</th>\n          <td><input v-model=\"goodsName\" type=\"text\" name=\"GoodsName\" /></td>\n        </tr>\n        <tr>\n          <th>Amt</th>\n          <td><input v-model=\"amt\" type=\"text\" name=\"Amt\" /></td>\n        </tr>\n        <tr>\n          <th>MID</th>\n          <td><input v-model=\"mid\" type=\"text\" name=\"MID\" /></td>\n        </tr>\n        <tr>\n          <th>Moid</th>\n          <td><input v-model=\"moid\" type=\"text\" name=\"Moid\" /></td>\n        </tr>\n        <tr>\n          <th>BuyerName</th>\n          <td><input v-model=\"buyerName\" type=\"text\" name=\"BuyerName\" /></td>\n        </tr>\n        <tr>\n          <th>BuyerEmail</th>\n          <td><input v-model=\"buyerEmail\" type=\"text\" name=\"BuyerEmail\" /></td>\n        </tr>\n        <tr>\n          <th>BuyerTel</th>\n          <td><input v-model=\"buyerTel\" type=\"text\" name=\"BuyerTel\" /></td>\n        </tr>\n        <tr>\n          <th>ReturnURL [Mobile only]</th>\n          <td><input v-model=\"returnURL\" type=\"text\" name=\"ReturnURL\" /></td>\n        </tr>\n        <tr>\n          <th>Virtual Account Expiration Date(YYYYMMDD)</th>\n          <td><input v-model=\"vbankExpDate\" type=\"text\" name=\"VbankExpDate\" /></td>\n        </tr>\n        <input type=\"hidden\" name=\"NpLang\" value=\"KO\" />\n        <input type=\"hidden\" name=\"GoodsCl\" value=\"1\" />\n        <input type=\"hidden\" name=\"TransType\" value=\"0\" />\n        <input type=\"hidden\" name=\"CharSet\" value=\"utf-8\" />\n        <input type=\"hidden\" name=\"ReqReserved\" value=\"\" />\n        <input type=\"hidden\" v-model=\"ediDate\" name=\"EdiDate\" />\n        <input type=\"hidden\" v-model=\"signData\" name=\"SignData\" />\n      </table>\n      <button @click=\"nicepayStart\" class=\"btn_blue\">결제하기</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport CryptoJS from 'crypto-js';\n\nexport default {\n  data() {\n    return {\n      payMethod: \"CARD\", //CARD : 신용카드, BANK : 계좌이체, VBANK : 가상계좌 ,CELLPHONE : 휴대폰결제\n      goodsName: \"레저로-정기권\", // 레저로-정기권\n      amt: \"1000\",\n      mid: \"gjpark524m\", //nictest00m\n      moid: \"mnoid1122334455\", // 랜덤 변수 생성\n      buyerName: \"나이스\",\n      buyerEmail: \"cklhbj11@gmail.com\",\n      buyerTel: \"01096651354\",\n      returnURL: \"https://www.talktalkboard.com/api/nicePay.php\", //http://www.gjparkgolf.co.kr/nicePays\n      vbankExpDate: \"112233\",\n      ediDate: \"\",\n      signData: \"\"\n    };\n  },\n  mounted() {\n    this.generateSignData();\n  },\n  methods: {\n    generateSignData() {\n      const now = new Date();\n      this.ediDate = now.toISOString().replace(/[-T:.Z]/g, '').slice(0, 14);\n\n      const MID = this.mid;\n      const price = this.amt;\n      const merchantKey = '8OW12V5RZezfnfOLjxvpPdyXmfOjsyo6fgsOI8iGYRtwWvOXYY96z/xS/W+NNo7eXkb9nWMXztVsNZy5WhwwFA==';\n\n      const data = this.ediDate + MID + price + merchantKey;\n      this.signData = CryptoJS.SHA256(data).toString(CryptoJS.enc.Hex);\n      console.log(\"SignData:\", this.signData);\n    },\n    nicepayStart() {\n      if (typeof goPay === \"function\") {\n        goPay(this.$refs.payForm);\n      } else if(typeof nicepaySubmit === \"function\"){\n        this.$refs.payForm.submit();\n      }\n      else {\n        console.error(\"goPay 함수가 정의되지 않았습니다.\");\n      }\n    },\n    nicepaySubmit(){\n      this.$refs.payForm.submit();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.payment-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #f0f8ff;\n}\n\n.payment-form {\n  padding: 20px;\n  background-color: #e0f7ff;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 255, 0.2);\n  max-width: 400px;\n  width: 100%;\n}\n\n.payment-form table {\n  width: 100%;\n}\n\n.payment-form th,\n.payment-form td {\n  padding: 8px;\n  text-align: left;\n  color: #003366;\n}\n\n.payment-form th {\n  font-weight: bold;\n}\n\n.payment-form input[type=\"text\"] {\n  width: 100%;\n  padding: 6px;\n  border: 1px solid #87cefa;\n  border-radius: 4px;\n}\n\n.btn_blue {\n  display: inline-block;\n  width: 100%;\n  padding: 10px;\n  background-color: #1e90ff;\n  color: #ffffff;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.btn_blue:hover {\n  background-color: #104e8b;\n}\n</style>\n"]}]}