{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/ReservationCancelModal.vue?vue&type=style&index=0&id=1be5a8b6&prod&lang=css","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/ReservationCancelModal.vue","mtime":1733968697055},{"path":"/usr/vue/lezuro_all/node_modules/css-loader/dist/cjs.js","mtime":1728542747276},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1728542748492},{"path":"/usr/vue/lezuro_all/node_modules/postcss-loader/src/index.js","mtime":1728542747992},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8qIDI0LjEyLjEyIOyImOyglSAqLwoucG9wdXB1NDdkZWZ1YWx0LTMgewogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmxhY2t3aGl0ZXdoaXRlKTsKICBib3JkZXI6IDFweCBzb2xpZCAjZGFkYWRhOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBwb3NpdGlvbjogZml4ZWQ7CiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHotaW5kZXg6IDk5OTk7CiAgcGFkZGluZzogMjBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7Cn0KCi8qIDI0LjEyLjEyIOyImOyglSAqLwouZnJhbWUtNS0zIHsKICB3aWR0aDogMTQuOSU7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ibGFja3doaXRld2hpdGUpOwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGZsZXg6IDAgMCBhdXRvOwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKLyogMjQuMTIuMTIg7IiY7KCVICovCi5mcmFtZS00LTMgewogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZGlzcGxheTogaW5saW5lLWZsZXg7CiAgZmxleDogMCAwIGF1dG87CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBnYXA6IDEwcHg7CiAgcGFkZGluZzogMjRweCAyNXB4Owp9CgovKiAueC00NXsKICBsZXR0ZXItc3BhY2luZzogLTAuMzJweDsKICBsaW5lLWhlaWdodDogMjRweDsKICBtYXJnaW4tdG9wOiAtMXB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICB3aWR0aDogZml0LWNvbnRlbnQ7Cn0KCi50ZXh0X2xhYmVsLTMzLAoudGV4dF9sYWJlbC0zNCB7CiAgbGV0dGVyLXNwYWNpbmc6IC0wLjI4cHg7CiAgbGluZS1oZWlnaHQ6IDIxcHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB3aWR0aDogMjI2cHg7Cn0gKi8KCi8qIDI0LjEyLjEyIOyImOyglSAqLwouYnRuLWdyb3VwLTMgewogIC8qIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGZsZXg6IDAgMCBhdXRvOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOyAqLwogIHdpZHRoOiAxMDAlOwp9CgovKiAyNC4xMi4xMiDsiJjsoJUgLSDstpTqsIAgKi8KLmJ0bnNlY29uZGFyeSwgLmJ0bnByaW1hcnktMyB7CiAgd2lkdGg6IDUwJTsKICBoZWlnaHQ6IDUwcHg7CiAgYm9yZGVyOiBub25lOwp9CgovKiAyNC4xMi4xMiDsiJjsoJUgKi8KLmJ0bnNlY29uZGFyeSB7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbm9iZWwpOwogIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDhweDsKfQoKLyogMjQuMTIuMTIg7IiY7KCVICovCi5idG5wcmltYXJ5LTMgewogIAogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW1vbnphKTsKICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogOHB4Owp9Cgo="},{"version":3,"sources":["ReservationCancelModal.vue"],"names":[],"mappings":";AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"ReservationCancelModal.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"popupu47defualt-3 screen\">\n    <div class=\"frame-5-3\">\n      <div class=\"frame-4-3\">\n        <div class=\"x-45 valign-text-middle notosanskr-medium-log-cabin-16px\">\n          예약 취소\n        </div>\n        <!-- 24.12.12 수정 - 폰트 수정, 문구 수정 -->\n        <p class=\"text_label-33 valign-text-middle pretendard-regular-normal-granite-gray-14px\">\n          예약을 취소하시겠습니까?\n        </p>\n      </div>\n      <div class=\"btn-group-3\">\n        <!-- 24.12.12 수정 - div - button 변경 -->\n        <button class=\"btnsecondary notosanskr-light-white-16px\" @click=\"closeRModal\">\n            닫기\n        </button>\n        <button class=\"btnprimary-3 notosanskr-light-white-16px\" @click=\"cancelReservation\">\n            취소\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { taskStore } from \"@/store/taskStore\"; \n\nexport default {\n  name: \"ReservationCancelModal\",\n  props: {\n    reservationId: {\n      type: Number,\n      required: true,\n    },\n    store: {\n    type: String,\n    required: true,\n  },\n  time: {\n    type: String,\n    required: true,\n  },\n  loginInfo: {\n    type: Object,\n    required: true,\n  },\n  },\n  // mounted() {\n  //   console.log(\"받은 reservationId (mounted):\", this.reservationId);\n  // },\n  methods: {\n    closeRModal() {\n      // 모달을 닫기 위한 이벤트 전송\n      this.$emit(\"closeRModal\");\n    },\n    async cancelReservation() {\n      try {\n        const params = {\n          status: \"cancel\", // 서버에 저장할 필드명 'profileImage'로 전송\n        };\n        // 서버에 프로필 이미지 업데이트 요청\n        const response = taskStore.updateTask(\n          `reservations/${this.reservationId}/status`,\n          params\n        );\n        console.log(\"dsfhdfsjkl;dsf\",params)\n        console.log(\"예약 취소 응답:\", response);\n        alert(\"예약이 취소되었습니다.\");\n        this.cancelMsg() // 예약 취소 메세지 전송\n\n        // 성공적으로 취소 후 모달 닫기\n        this.$emit(\"closeRModal\");\n        this.$emit(\"reservationCanceled\"); // 상위 컴포넌트에 이벤트 전달\n      } catch (error) {\n        console.error(\"예약 취소 실패:\", error);\n        alert(\"예약 취소에 실패했습니다. 다시 시도해주세요.\");\n      }\n    },\n\n    // 예약 취소 메세지 전송\n    async cancelMsg(){\n      const availableTime = this.time.split(\"[\")[0].trim();\n      const params =\n      {\n        // 해당 파라미터 값 채워 넣기!\n        phoneNumber: this.loginInfo.phoneNm, // loginInfo에서 phoneNm 사용\n        userName: this.loginInfo.name,   \n        availableTime, // 예약 시작 시간과 종료 시간\n    storeName: this.store,   \n      };\n      console.log(\"dklj\",params)\n      try {\n        const response = await taskStore.postTask(\n          `v1/sms/cancelReservation`,params\n        );\n        console.log(\"response\",response)\n        \n      } catch (error) {\n        console.error(\"API 호출 오류:\", error);\n      }\n      \n    }\n  },\n};\n</script>\n<style>\n/* 24.12.12 수정 */\n.popupu47defualt-3 {\n  align-items: center;\n  background-color: var(--blackwhitewhite);\n  border: 1px solid #dadada;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9999;\n  padding: 20px;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n\n/* 24.12.12 수정 */\n.frame-5-3 {\n  width: 14.9%;\n  align-items: center;\n  background-color: var(--blackwhitewhite);\n  display: inline-flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  justify-content: center;\n  border-radius: 8px;\n  position: relative;\n}\n\n/* 24.12.12 수정 */\n.frame-4-3 {\n  align-items: center;\n  display: inline-flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 10px;\n  padding: 24px 25px;\n}\n\n/* .x-45{\n  letter-spacing: -0.32px;\n  line-height: 24px;\n  margin-top: -1px;\n  position: relative;\n  text-align: center;\n  white-space: nowrap;\n  width: fit-content;\n}\n\n.text_label-33,\n.text_label-34 {\n  letter-spacing: -0.28px;\n  line-height: 21px;\n  position: relative;\n  text-align: center;\n  width: 226px;\n} */\n\n/* 24.12.12 수정 */\n.btn-group-3 {\n  /* align-items: flex-start;\n  display: inline-flex;\n  flex: 0 0 auto;\n  overflow: hidden;\n  position: relative; */\n  width: 100%;\n}\n\n/* 24.12.12 수정 - 추가 */\n.btnsecondary, .btnprimary-3 {\n  width: 50%;\n  height: 50px;\n  border: none;\n}\n\n/* 24.12.12 수정 */\n.btnsecondary {\n  background-color: var(--nobel);\n  border-bottom-left-radius: 8px;\n}\n\n/* 24.12.12 수정 */\n.btnprimary-3 {\n  \n  background-color: var(--monza);\n  border-bottom-right-radius: 8px;\n}\n\n</style>"]}]}