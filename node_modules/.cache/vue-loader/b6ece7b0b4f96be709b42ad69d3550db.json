{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/Callback.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/Callback.vue","mtime":1729655603268},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NhbGxiYWNrJywKICAvLyBsYXlvdXQ6ICdzaWduaW4nLAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgIAogICAgY29uc3QgaGFzaCA9IHRoaXMuJHJvdXRlLmhhc2gKICAgIGNvbnN0IHF1ZXJ5ID0gaGFzaC5zdWJzdHJpbmcoaGFzaC5pbmRleE9mKCc9JykgKyAxKQogICAgY29uc3QgY29kZSA9IHF1ZXJ5LnN1YnN0cmluZygwLCBxdWVyeS5pbmRleE9mKCcmJykpCiAgICBjb25zb2xlLmxvZygiY29kZS0tLSBBUEkg7Ya17Iug7KSRIH5+fn5+fn4+ICIpCiAgICBjb25zb2xlLmxvZyhjb2RlKQogICAgLy8gY29uc29sZS5sb2coaGFzaCkKICAgIC8vIGNvbnNvbGUubG9nKHF1ZXJ5KQogICAgLy8gdmFyIGhlYWRlciA9ICJCZWFyZXIgIiArIGNvZGU7IC8vIEJlYXJlciDri6TsnYzsl5Ag6rO167CxIOy2lOqwgAogICAgCiAgIGNvbnN0IGFjY2Vzc190b2tlbiA9IGNvZGU7CiAgdHJ5ewoKCiAgICAgIGNvbnN0IG1lID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cDovLzMuMzUuMTUuNDk6MzAwMC9hcGkvdjEvYXV0aC9uYXZlci9sb2dpbicsewogICAgICAgIGFjY2Vzc1Rva2VuIDogYWNjZXNzX3Rva2VuCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnYWNjZXB0JzogJyovKicsCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgIH0sCiAgICAgIH0pCiAgICAKICAgIAogICAgY29uc29sZS5sb2cobWUuZGF0YS5tZXNzYWdlKQogICAgY29uc29sZS5sb2coIk1FIDogOiA6IDogOiA6IitKU09OLnN0cmluZ2lmeShtZSkpCiAgICBpZihtZS5kYXRhLnJlZnJlc2hUb2tlbil7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoVG9rZW4nLCBtZS5kYXRhLnJlZnJlc2hUb2tlbik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dpbkluZm8nLCBKU09OLnN0cmluZ2lmeShtZS5kYXRhLnVzZXIpKTsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy8nKSAgCiAgICB9ZWxzZXsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpICAKICAgIH0KICB9Y2F0Y2goZXJyKXsKY29uc29sZS5sb2coIkVSUk9SIitlcnIpCi8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvbG9naW4nKSAgCn0KICAgIAogIH0sCn0K"},{"version":3,"sources":["Callback.vue"],"names":[],"mappings":";AASA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Callback.vue","sourceRoot":"src/components","sourcesContent":["<template>\n \n\n      <p>네이버 로그인중</p>\n\n\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'callback',\n  // layout: 'signin',\n  async mounted() {\n   \n    const hash = this.$route.hash\n    const query = hash.substring(hash.indexOf('=') + 1)\n    const code = query.substring(0, query.indexOf('&'))\n    console.log(\"code--- API 통신중 ~~~~~~~> \")\n    console.log(code)\n    // console.log(hash)\n    // console.log(query)\n    // var header = \"Bearer \" + code; // Bearer 다음에 공백 추가\n    \n   const access_token = code;\n  try{\n\n\n      const me = await axios.post('http://3.35.15.49:3000/api/v1/auth/naver/login',{\n        accessToken : access_token\n      },\n      {\n        headers: {\n          'accept': '*/*',\n          'Content-Type': 'application/json',\n        },\n      })\n    \n    \n    console.log(me.data.message)\n    console.log(\"ME : : : : : :\"+JSON.stringify(me))\n    if(me.data.refreshToken){\n      localStorage.setItem('refreshToken', me.data.refreshToken);\n      localStorage.setItem('loginInfo', JSON.stringify(me.data.user));\n      this.$router.replace('/')  \n    }else{\n      this.$router.replace('/login')  \n    }\n  }catch(err){\nconsole.log(\"ERROR\"+err)\n// this.$router.replace('/login')  \n}\n    \n  },\n}\n</script>\n\n<style>\n</style>"]}]}