{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/Loginview.vue?vue&type=style&index=1&id=05940ea1&prod&scoped=true&lang=css","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/Loginview.vue","mtime":1729674025785},{"path":"/usr/vue/lezuro_all/node_modules/css-loader/dist/cjs.js","mtime":1728542747276},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1728542748492},{"path":"/usr/vue/lezuro_all/node_modules/postcss-loader/src/index.js","mtime":1728542747992},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5mcmFtZS03NjIyIHsKICBtYXJnaW4tYm90dG9tOiAyNTBweDsKfQo="},{"version":3,"sources":["Loginview.vue"],"names":[],"mappings":";AA6ZA;AACA;AACA","file":"Loginview.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container-center-horizontal\">\n    <div class=\"login-2 screen\">\n      <Header />\n      <!-- <div class=\"text-97 valign-text-middle pretendard-semi-bold-black-18px\">\n        {{ text }}\n        {{ text }}\n      </div> -->\n    \n      <div class=\"frame-7622\">\n        <div class=\"frame-7605-9\">\n          <h1 class=\"text-2166 valign-text-middle pretendard-extra-extra-bold-black-30px\">\n            {{ text2166 }}\n          </h1>\n          <p class=\"text-2167 valign-text-middle pretendard-regular-normal-granite-gray-16px\">\n            {{ text2167 }}\n          </p>\n        </div>\n        <div class=\"frame-7621\">\n          <div class=\"frame-7617\">\n            <div class=\"frame-7615\">\n              <div class=\"frame-76-7\">\n                <div class=\"frame-7613-10\">\n                  <input type=\"text\" class=\"frame-761-5 valign-text-middle pretendard-medium-mountain-mist-16px\"\n                    placeholder=\"아이디\" v-model=\"id\"/>\n                  <input type=\"text\" class=\"frame-761-5 valign-text-middle pretendard-medium-mountain-mist-16px\"\n                    placeholder=\"비밀번호\" v-model=\"pw\"/>\n                </div>\n                <div class=\"frame-7610\">\n                  <input type=\"checkbox\" id=\"rememberMe\" />\n                  <label for=\"rememberMe\" class=\"text-1136 valign-text-middle pretendard-medium-granite-gray-14px\">\n                    로그인 상태유지\n                  </label>\n                </div>\n              </div>\n              <div class=\"group-758-18\">\n                <div class=\"overlap-group-96\" @click=\"loginbutton\">\n                  <div class=\"text-2173 valign-text-middle pretendard-semi-bold-white-18px\">\n                    {{ text2173 }}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <frame7616 />\n          </div>\n          <div class=\"frame-76-7\">\n            <div class=\"frame-7618-1\">\n              <a href=\"#\">\n                <div class=\"text-2177 valign-text-middle pretendard-semi-bold-black-18px\" @click=\"kakaoLogin()\">\n                  {{ text2177 }}\n                </div>\n              </a>\n            </div>\n            <div class=\"frame-7619-1\">\n              <a href=\"#\">\n                <div class=\"text-2178 valign-text-middle pretendard-semi-bold-white-18px\"  @click=\"loginWithNaver()\">\n                  {{ text2178 }}\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <x-footer :className=\"xFooterProps.className\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Header from \"./Header\";\nimport Frame76112 from \"./Frame76112\";\nimport Frame7610 from \"./Frame7610\";\nimport Frame7616 from \"./Frame7616\";\nimport XFooter from \"./XFooter\";\nimport GameList from \"./GameList\";\nimport { taskStore } from '@/store/taskStore';  // API 호출\n\n\nexport default {\n  name: \"Loginview\",\n  components: {\n    Header,\n    Frame76112,\n    Frame7610,\n    Frame7616,\n    XFooter,\n    GameList\n  },\n  props: [\n    \"text\",\n    \"text2166\",\n    \"text2167\",\n    \"text2173\",\n    \"text2177\",\n    \"text2178\",\n    \"frame761121Props\",\n    \"frame761122Props\",\n    \"xFooterProps\",\n  ],\n  mounted() {\n\n     \n  },\n  data(){\n    return{\n\n      id: '',\n      pw: ''\n    }\n  },\n  methods: {\n    \n\n   async loginbutton() {\n      var params = {\n          \"phone\": this.id,\n          \"password\": this.pw\n        };\n\n        const response= await taskStore.postTask('/auth/phone/login',params);\n      if(response){\n        \n        console.log(\"확인 : : :: :\" , JSON.stringify(response))\n        // console.log(\"확인 : : :: :\" , JSON.stringify(response[0].refreshToken))\n        // console.log(\"확인 : : :: :\" , JSON.stringify(response[0].user))\n        localStorage.setItem('refreshToken', response[0].refreshToken);\n        localStorage.setItem('Token', response[0].token);\n        localStorage.setItem('loginInfo', JSON.stringify(response[0].user));\n        // commit('refreshToken', response.refreshToken);\n        this.$router.push('/')\n\n      }else{\n        alert(\"회원정보가 일치 하지 않습니다.\");\n      }\n  \n    },\n    \n    loginWithNaver() {\n      console.log(\"값 확인  ㅣ ㅣ ㅣ ㅣ  클릭이 되었습니다.\")\n      const naverClientKey = process.env.VUE_APP_NAVER_CLIENT_KEY;\n      const naverLogin = new window.naver.LoginWithNaverId({\n        clientId: naverClientKey, // Naver client key\n        // callbackUrl: 'https://www.gjparkgolf.co.kr/callback',\n        callbackUrl: 'http://localhost:8080/callback',\n        callbackHandle: true,\n        // isPopup: false, // 팝업창으로 로그인 여부 (true 시 팝업, false 시 현재 창에서 이동)\n        // loginButton: { color: 'green', type: 3, height: '48' }, // 로그인 버튼 스타일 설정\n      })\n      naverLogin.init()\n      naverLogin.reprompt()\n    },\n\n    // 카카오 로그인\n\n     kakaoLogin() {\n      const kakaoClientKey = process.env.VUE_APP_KAKAO_CLIENT_KEY;\n      Kakao.init(kakaoClientKey);\n      Kakao.Auth.login({\n        success: async (authObj) => {\n          // 엑세스 토큰 서버로 보내서 회원 정보받기\n          console.log(\"Access Token:\", authObj.access_token);\n          const access_token = authObj.access_token;\n          // const me = await axios.get(`https://www.talktalkboard.com/api/naverLogin.php?access_token=${access_token}`)\n          const me = await axios.post('http://localhost:3000/api/v1/auth/kakao/login',{\n            accessToken : authObj.access_token\n          },\n          {\n            headers: {\n              'accept': '*/*',\n              'Content-Type': 'application/json',\n            },\n          })\n        \n        \n        // console.log(me.data.message)\n        console.log(\"ME : : : : : :\"+JSON.stringify(me))\n        if(me.data.refreshToken){\n          localStorage.setItem('refreshToken', me.data.refreshToken);\n          localStorage.setItem('Token', me.data.token);\n          localStorage.setItem('loginInfo', JSON.stringify(me.data.user));\n          this.$router.replace('/')  \n        }else{\n          alert('로그인 실패')\n          this.$router.replace('/login')  \n        }\n          // Get user info after successful login\n          // Kakao.API.request({\n          //   url: \"/v2/user/me\",\n          //   success: (res) => {\n          //     // 유저 아이디값이 있을때는 메인 페이지로 이동\n          //     console.log(\"User Info:\", res);\n          //     // You can store user info or token in local storage or Vuex for further use\n          //   },\n          //   fail: (error) => {\n          //     console.error(\"Failed to get user info:\", error);\n          //   },\n          // });\n\n        },\n        fail: (err) => {\n          console.error(\"Kakao Login Failed:\", err);\n        },\n      });\n    },\n    \n  },\n};\n</script>\n\n<style>\n#rememberMe {\n  position: relative;\n}\n\n.text-1136,\n.text-2172 {\n  letter-spacing: -0.7px;\n  line-height: normal;\n  margin-top: -1px;\n  position: relative;\n  width: fit-content;\n}\n\n.frame-761-5 {\n  border: none;\n}\n\n.login-2 {\n  align-items: flex-start;\n  background-color: var(--blackwhitewhite);\n  display: flex;\n  flex-direction: column;\n  /* height: 1575px; */\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  width: 1920px;\n}\n\n.text-97 {\n  height: 21px;\n  letter-spacing: 0;\n  line-height: normal;\n  margin-left: -751px;\n  margin-top: -91px;\n  white-space: nowrap;\n}\n\n.frame-7622 {\n  align-items: center;\n  align-self: center;\n  background-color: var(--cultured-pearl);\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n  margin-top: 235px;\n  padding: 50px;\n  position: relative;\n  width: 600px;\n}\n\n.frame-7605-9 {\n  align-items: center;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 12px;\n  position: relative;\n  width: 283px;\n}\n\n.text-2166 {\n  align-self: stretch;\n  letter-spacing: 0;\n  line-height: normal;\n  margin-top: -1px;\n  position: relative;\n  text-align: center;\n}\n\n.text-2167 {\n  align-self: stretch;\n  letter-spacing: -0.8px;\n  line-height: normal;\n  position: relative;\n}\n\n.frame-7621 {\n  align-items: flex-start;\n  align-self: stretch;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 50px;\n  position: relative;\n  width: 100%;\n}\n\n.frame-7617 {\n  align-items: center;\n  align-self: stretch;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 12px;\n  position: relative;\n  width: 100%;\n}\n\n.frame-7615 {\n  align-items: flex-start;\n  align-self: stretch;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 30px;\n  position: relative;\n  width: 100%;\n}\n\n.frame-76-7 {\n  align-items: flex-start;\n  align-self: stretch;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  gap: 12px;\n  position: relative;\n  width: 100%;\n}\n\n.frame-7613-10 {\n  align-items: flex-start;\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  height: 122px;\n  position: relative;\n  width: 100%;\n}\n\n.group-758-18 {\n  height: 55px;\n  margin-right: -2px;\n  position: relative;\n  width: 502px;\n}\n\n.overlap-group-96 {\n  align-items: flex-start;\n  background-color: var(--monza);\n  display: flex;\n  height: 55px;\n  justify-content: flex-end;\n  min-width: 500px;\n  padding: 15.4px 226px;\n}\n\n.text-2173 {\n  height: 23px;\n  letter-spacing: 0;\n  line-height: normal;\n  width: 47px;\n}\n\n.frame-7618-1 {\n  align-items: center;\n  align-self: stretch;\n  background-color: var(--lemon);\n  display: flex;\n  gap: 10px;\n  height: 55px;\n  justify-content: center;\n  padding: 16px 185px;\n  position: relative;\n  width: 100%;\n}\n\n.text-2177 {\n  letter-spacing: 0;\n  line-height: normal;\n  position: relative;\n  white-space: nowrap;\n  width: fit-content;\n}\n\n.frame-7619-1 {\n  align-items: center;\n  align-self: stretch;\n  background-color: var(--malachite);\n  display: flex;\n  gap: 10px;\n  height: 55px;\n  justify-content: center;\n  padding: 16px 185px;\n  position: relative;\n  width: 100%;\n}\n\n.text-2178 {\n  letter-spacing: 0;\n  line-height: normal;\n  margin-left: -1.5px;\n  margin-right: -1.5px;\n  position: relative;\n  white-space: nowrap;\n  width: fit-content;\n}\n</style>\n<style scoped>\n.frame-7622 {\n  margin-bottom: 250px;\n}\n</style>"]}]}