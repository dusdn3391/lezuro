{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/manager/ManagerASWrite.vue?vue&type=style&index=0&id=6d4854f6&prod&scoped=true&lang=css","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/manager/ManagerASWrite.vue","mtime":1732694702935},{"path":"/usr/vue/lezuro_all/node_modules/css-loader/dist/cjs.js","mtime":1728542747276},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1728542748492},{"path":"/usr/vue/lezuro_all/node_modules/postcss-loader/src/index.js","mtime":1728542747992},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouYXMtY29udGFpbmVyIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGhlaWdodDogMTAwJTsNCiAgICBmbGV4LWRpcmVjdGlvbjogcm93Ow0KICAgIGJhY2tncm91bmQ6ICNmNWY2ZjY7DQp9DQoNCi50aXRsZS10b3Agew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogICAgcGFkZGluZzogMzBweDsNCiAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KfQ0KDQoud3JhcHBlciB7DQogICAgZmxleC1ncm93OiAxOw0KICAgIC8qIOuCmOuouOyngCDqs7XqsITsnYQg7LCo7KeA7ZWY6rKMIO2VqCAqLw0KICAgIHBhZGRpbmc6IDMwcHg7DQogICAgZ2FwOiAyMHB4Ow0KfQ0KDQoudGl0bGUgew0KICAgIHBhZGRpbmc6IDQ0cHggMTMuNSU7DQogICAgcGFkZGluZy10b3A6IDEwNHB4Ow0KfQ0KDQouYnV0dG9uLWNvbnRhaW5lciB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBnYXA6IDEwcHg7DQogICAgbWFyZ2luLXRvcDogNTBweDsNCn0NCg0KLmNhbmNlbC1idXR0b24sDQouc3VibWl0LWJ1dHRvbiB7DQogICAgd2lkdGg6IDIwMHB4Ow0KICAgIHBhZGRpbmc6IDE4LjVweDsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQouY2FuY2VsLWJ1dHRvbiB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzk5OTsNCn0NCg0KLnN1Ym1pdC1idXR0b24gew0KICAgIGJhY2tncm91bmQtY29sb3I6ICMxODQxOTk7DQogICAgY29sb3I6IHdoaXRlOw0KfQ0KDQouZnJhbWUtNzc4Mi0xIHsNCiAgICBtYXJnaW4tYm90dG9tOiAxNDBweDsNCn0NCg0KDQouY29udGFjdC13cml0ZSB7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNCi53cml0ZS13cmFwIHsNCiAgICB3aWR0aDogMTAwJTsNCn0NCg0KLnRpdGxlIHsNCiAgICBwYWRkaW5nOiAxMDRweCAxMy41JTsNCiAgICBwYWRkaW5nLWJvdHRvbTogNDRweDsNCn0NCg0KLmNhbmNlbC1idG4gew0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbW91bnRhaW4tbWlzdCk7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBnYXA6IDEwcHg7DQogICAgaGVpZ2h0OiA1MHB4Ow0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgIHBhZGRpbmc6IDE4cHggNjZweDsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgd2lkdGg6IDE1MHB4Ow0KICAgIGJvcmRlcjogbm9uZTsNCiAgICBib3JkZXItcmFkaXVzOiA3cHg7DQp9DQoNCi5mcmFtZS03OTIzLTMgew0KICAgIGJvcmRlcjogbm9uZTsNCiAgICBib3JkZXItcmFkaXVzOiA3cHg7DQp9DQoNCi5jb250ZW50LXRpdGxlIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGdhcDogMTBweDsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgd2lkdGg6IDE1MHB4Ow0KfQ0KDQoudGl0bGUtYm94LA0KLmNvbnRlbnQtYm94IHsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7DQogICAgYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7DQogICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMXB4Ow0KICAgIGJvcmRlci1jb2xvcjogdmFyKC0tY2VsZXN0ZSk7DQogICAgYm9yZGVyLXRvcC1zdHlsZTogc29saWQ7DQogICAgYm9yZGVyLXRvcC13aWR0aDogMXB4Ow0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZmxleDogMCAwIGF1dG87DQogICAgcGFkZGluZzogMjBweCAyMHB4IDIwcHggMHB4Ow0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB3aWR0aDogMTAwJTsNCn0NCg0KLmNvbnRlbnQtYm94IHsNCiAgICBib3JkZXI6IG5vbmU7DQp9DQoNCmlucHV0OjpwbGFjZWhvbGRlciB7DQogICAgY29sb3I6ICM5OTk7DQp9DQoNCi5mcmFtZS03MjgxLTggew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7DQogICAgcGFkZGluZzogMjBweDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBib3JkZXI6IDAuNXB4IHNvbGlkICNkZGQ7DQp9DQoNCi5mcmFtZS03MjgxLTkgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7DQogICAgcGFkZGluZzogMjBweDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBib3JkZXI6IDAuNXB4IHNvbGlkICNkZGQ7DQogICAgaGVpZ2h0OiAyMDBweDsNCn0NCg0KLndyaXRlLXdyYXAgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGRkZGQ7DQogICAgcGFkZGluZzogNDBweDsNCn0NCg0KLmNvbnRlbnQtd3JhcCB7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGdhcDogMTBweDsNCiAgICBwYWRkaW5nOiAzMHB4Ow0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgIG1hcmdpbi1ib3R0b206IDIwcHg7DQp9DQoNCi5pbWctcGljayB7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1oaW50LW9mLXJlZCk7DQogICAgYm9yZGVyOiAwLjVweCBzb2xpZDsNCiAgICBib3JkZXItY29sb3I6IHZhcigtLWNlbGVzdGUpOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgZ2FwOiAxMHB4Ow0KICAgIGhlaWdodDogNTVweDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBwYWRkaW5nOiAwcHggMjBweDsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQoNCi5pbWctcGljayBsYWJlbCB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGdhcDogMTBweDsNCn0NCg=="},{"version":3,"sources":["ManagerASWrite.vue"],"names":[],"mappings":";AAoIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ManagerASWrite.vue","sourceRoot":"src/components/manager","sourcesContent":["<template>\r\n    <div class=\"all\">\r\n        <ManagerHeader />\r\n        <div class=\"wrap\">\r\n            <div class=\"as-container\">\r\n                <ManagerNavbar />\r\n                <div class=\"wrapper\">\r\n                    <div class=\"title-top pretendard-bold-normal-black-28px\">A/S 관리</div>\r\n                    <div class=\"content-wrap\">\r\n                        <div class=\"write-wrap\">\r\n                            <div class=\"title-box\">\r\n                                <div class=\"content-title valign-text-middle pretendard-medium-black-18px\">\r\n                                    제목\r\n                                </div>\r\n                                <input type=\"text\" class=\"frame-7281-8 pretendard-regular-normal-mine-shaft-16px\"\r\n                                    placeholder=\"제목을 입력해주세요\" v-model=\"title\">\r\n                            </div>\r\n                            <div class=\"content-box\">\r\n                                <div class=\"content-title valign-text-middle pretendard-medium-black-18px\">\r\n                                    내용\r\n                                </div>\r\n                                <input type=\"text\" class=\"frame-7281-9 pretendard-regular-normal-mine-shaft-16px\"\r\n                                    placeholder=\"내용을 입력해주세요\" v-model=\"content\">\r\n                            </div>\r\n                            <div class=\"button-container\">\r\n                                <button class=\"cancel-button pretendard-medium-white-18px\" @click=\"cancel\">취소하기</button>\r\n                                <button class=\"submit-button pretendard-medium-white-18px\" @click=\"submit\">{{ isEditing\r\n                                    ? \"수정하기\" :\r\n                                    \"등록하기\"\r\n                                    }}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { managerStore } from '../../store/managerStore';  // API 호출\r\nimport ManagerHeader from './ManagerHeader.vue';\r\nimport ManagerNavbar from \"./ManagerNavbar.vue\";\r\n\r\nexport default {\r\n    name: \"ManagerASWrite\",\r\n    components: {\r\n        ManagerHeader,\r\n        ManagerNavbar,\r\n    },\r\n    props: [\"id\"],\r\n    data() {\r\n        return {\r\n            title: \"\",\r\n            content: \"\",\r\n            isEditing: false,\r\n        };\r\n    },\r\n\r\n    async created() {\r\n        const { id } = this.$route.query; // query에서 id 추출\r\n\r\n        if (id) {\r\n            this.isEditing = true; // 수정 상태로 변경\r\n            await this.loadNoticeData(id); // 서버에서 데이터를 가져옴\r\n        }\r\n    },\r\n    methods: {\r\n        // 기존 데이터 로드 (수정 시)\r\n        async loadASData(id) {\r\n            try {\r\n                const response = await managerStore.getTask(`as-requests/${this.id}`);\r\n                console.log('as response', response)\r\n\r\n                this.title = response.title;\r\n                this.content = response.content;\r\n            } catch (error) {\r\n                console.error(\"데이터를 불러오는 데 실패했습니다:\", error);\r\n                alert(\"데이터를 불러오지 못했습니다.\");\r\n            }\r\n        },\r\n        // 등록하기 버튼 클릭 시 호출되는 메서드\r\n        async submit() {\r\n            if (!this.title || !this.content) {\r\n                alert(\"제목과 내용을 입력해주세요.\");\r\n                return;\r\n            }\r\n\r\n            // 로컬 스토리지에서 managerInfo 가져오기\r\n            const managerInfo = JSON.parse(localStorage.getItem('managerInfo'));\r\n\r\n            const branchId = managerInfo.id;\r\n            // POST 요청으로 데이터를 서버에 전송\r\n            const params = {\r\n                title: this.title,\r\n                description: this.content,\r\n                status: \"접수\",\r\n                branchId: branchId,\r\n            };\r\n\r\n            try {\r\n                if (this.isEditing) {\r\n                    const id = this.$route.query.id; // URL에서 id를 추출\r\n                    const response = await managerStore.updateTask(`as-requests/${id}`, params);\r\n\r\n                    console.log('수정 data', params)\r\n                    alert(\"수정이 되었습니다\");\r\n\r\n                } else {\r\n                    const response = await managerStore.postTask(\"as-requests\", params);\r\n\r\n                    console.log('등록 data', params)\r\n                    console.log(\"등록 성공:\", response);\r\n                    alert(\"등록이 되었습니다\");\r\n                }\r\n\r\n                this.$router.push({ path: \"/manageras-management\" });\r\n            } catch (error) {\r\n                console.error(\"등록 실패:\", error);\r\n                alert(\"등록에 실패했습니다.\");\r\n            }\r\n        },\r\n        cancel() {\r\n            this.$router.push({ path: \"/manageras-management\" });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n.as-container {\r\n    display: flex;\r\n    height: 100%;\r\n    flex-direction: row;\r\n    background: #f5f6f6;\r\n}\r\n\r\n.title-top {\r\n    background-color: #fff;\r\n    padding: 30px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.wrapper {\r\n    flex-grow: 1;\r\n    /* 나머지 공간을 차지하게 함 */\r\n    padding: 30px;\r\n    gap: 20px;\r\n}\r\n\r\n.title {\r\n    padding: 44px 13.5%;\r\n    padding-top: 104px;\r\n}\r\n\r\n.button-container {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 10px;\r\n    margin-top: 50px;\r\n}\r\n\r\n.cancel-button,\r\n.submit-button {\r\n    width: 200px;\r\n    padding: 18.5px;\r\n    border: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.cancel-button {\r\n    background-color: #999;\r\n}\r\n\r\n.submit-button {\r\n    background-color: #184199;\r\n    color: white;\r\n}\r\n\r\n.frame-7782-1 {\r\n    margin-bottom: 140px;\r\n}\r\n\r\n\r\n.contact-write {\r\n    width: 100%;\r\n}\r\n\r\n.write-wrap {\r\n    width: 100%;\r\n}\r\n\r\n.title {\r\n    padding: 104px 13.5%;\r\n    padding-bottom: 44px;\r\n}\r\n\r\n.cancel-btn {\r\n    align-items: center;\r\n    background-color: var(--mountain-mist);\r\n    display: flex;\r\n    gap: 10px;\r\n    height: 50px;\r\n    justify-content: center;\r\n    padding: 18px 66px;\r\n    position: relative;\r\n    width: 150px;\r\n    border: none;\r\n    border-radius: 7px;\r\n}\r\n\r\n.frame-7923-3 {\r\n    border: none;\r\n    border-radius: 7px;\r\n}\r\n\r\n.content-title {\r\n    display: flex;\r\n    gap: 10px;\r\n    position: relative;\r\n    width: 150px;\r\n}\r\n\r\n.title-box,\r\n.content-box {\r\n    align-items: center;\r\n    align-self: stretch;\r\n    border-bottom-style: solid;\r\n    border-bottom-width: 1px;\r\n    border-color: var(--celeste);\r\n    border-top-style: solid;\r\n    border-top-width: 1px;\r\n    display: flex;\r\n    flex: 0 0 auto;\r\n    padding: 20px 20px 20px 0px;\r\n    position: relative;\r\n    width: 100%;\r\n}\r\n\r\n.content-box {\r\n    border: none;\r\n}\r\n\r\ninput::placeholder {\r\n    color: #999;\r\n}\r\n\r\n.frame-7281-8 {\r\n    background-color: #fafafa;\r\n    padding: 20px;\r\n    width: 100%;\r\n    border: 0.5px solid #ddd;\r\n}\r\n\r\n.frame-7281-9 {\r\n    background-color: #fafafa;\r\n    padding: 20px;\r\n    width: 100%;\r\n    border: 0.5px solid #ddd;\r\n    height: 200px;\r\n}\r\n\r\n.write-wrap {\r\n    border: 1px solid #dddddd;\r\n    padding: 40px;\r\n}\r\n\r\n.content-wrap {\r\n    align-items: center;\r\n    display: flex;\r\n    gap: 10px;\r\n    padding: 30px;\r\n    position: relative;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.img-pick {\r\n    align-items: center;\r\n    background-color: var(--hint-of-red);\r\n    border: 0.5px solid;\r\n    border-color: var(--celeste);\r\n    display: flex;\r\n    gap: 10px;\r\n    height: 55px;\r\n    width: 100%;\r\n    padding: 0px 20px;\r\n    position: relative;\r\n}\r\n\r\n.img-pick label {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 10px;\r\n}\r\n</style>\r\n<style scoped src=\"@/style/cs/noticewrite.css\"></style>"]}]}