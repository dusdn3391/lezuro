{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/MapList.vue?vue&type=script&lang=js","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/MapList.vue","mtime":1735284934964},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/babel-loader/lib/index.js","mtime":1728543112262},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBIZWFkZXIgZnJvbSAiLi9IZWFkZXIiOwppbXBvcnQgUmpac1dpIGZyb20gIi4vUmpac1dpIjsKCmltcG9ydCBYRm9vdGVyIGZyb20gIi4vWEZvb3RlciI7CmltcG9ydCBHYW1lRGV0YWlsIGZyb20gIi4vR2FtZURldGFpbCI7CmltcG9ydCBHb29nbGVNYXAgZnJvbSAiLi9Hb29nbGVNYXAudnVlIjsKaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAiQGdvb2dsZW1hcHMvanMtYXBpLWxvYWRlciI7CmltcG9ydCB7IHRhc2tTdG9yZSB9IGZyb20gIkAvc3RvcmUvdGFza1N0b3JlIjsgLy8gQVBJIO2YuOy2nAoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNYXBMaXN0IiwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXIsCiAgICBHYW1lRGV0YWlsLAogICAgUmpac1dpLAogICAgWEZvb3RlciwKICAgIEdvb2dsZU1hcCwKICB9LAogIHByb3BzOiBbInJKWnNXSVByb3BzIl0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzTW9kYWxWaXNpYmxlOiBmYWxzZSwKICAgICAgc2VhcmNoUXVlcnk6ICIiLAogICAgICBzZWxlY3RlZFNob3A6IG51bGwsIC8vIOyEoO2Dne2VnCDrp6TsnqUg7KCV67O0IOyggOyepQogICAgICBsaW1pdFZlbnVlOiBbXSwgLy8g7ZWE7YSw66eB65CcIOunpOyepSDrjbDsnbTthLAKICAgICAgc2VsZWN0ZWRSZWdpb246ICIiLCAvLyDshKDtg53rkJwg7KeA7JetCiAgICAgIHZlbnVlczogWwogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICLroIjsoIDroZzsiqTtgazrprDtjIztgazqs6jtlIQg6rSR66qF7KCQIiwKICAgICAgICAgIGFkZHJlc3M6ICLqsr3quLDrj4Qg6rSR66qF7IucIOyYpOumrOuhnDUwMCIsCiAgICAgICAgICB0ZWxOdW1iZXI6ICIwMi04OTgtMDcyNyIsCiAgICAgICAgICBicmFuY2hJZDogImJyYW5jaDMwMSIsCgogICAgICAgICAgbG9jYXRpb246IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IDM3LjU1Njc4NTM1NzY3MDI4NiwKICAgICAgICAgICAgbG9uZ2l0dWRlOiAxMjYuODM2OTk2NDY1OTIxMSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgbGltaXRWZW51ZTogW10sCiAgICAgIG1hcDogbnVsbCwKICAgICAgbG9jYXRpb246IG51bGwsIC8vIOychOy5mCDsoJXrs7QKICAgICAgcHJvdG9jb2w6ICcnLAogICAgICBpc1NlY3VyZTogZmFsc2UsCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vICB0aGlzLmxvYWROYXZlck1hcCgpOwogICAgdGhpcy5nZXREZXRhaWxTdHJvZUluZm8oKTsKICAgIC8vIHRoaXMuY2FsbEFycm91bmQoKQogICAgLy8gdGhpcy5pbml0aWFsaXplTWFwKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWFyY2hBbmRGaWx0ZXIoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJTZWFyY2ggcXVlcnkgcmVjZWl2ZWQ6IiwgdGhpcy5zZWFyY2hRdWVyeSk7CiAgICAgIGNvbnNvbGUubG9nKCJTZWxlY3RlZCBSZWdpb246IiwgdGhpcy5zZWxlY3RlZFJlZ2lvbik7CgogICAgICAvLyDqsoDsg4nslrTsmYAg7KeA7JetIOuqqOuRkCDsnbzsuZjtlZjripQg66ek7J6lIO2VhO2EsOungQogICAgICBjb25zdCBmaWx0ZXJlZFZlbnVlcyA9IHRoaXMudmVudWVzLmZpbHRlcigodmVudWUpID0+IHsKICAgICAgICBjb25zdCBtYXRjaGVzUXVlcnkgPSB0aGlzLnNlYXJjaFF1ZXJ5CiAgICAgICAgICA/IHZlbnVlLm5hbWUuaW5jbHVkZXModGhpcy5zZWFyY2hRdWVyeSkKICAgICAgICAgIDogdHJ1ZTsgLy8g6rKA7IOJ7Ja06rCAIOyXhuycvOuptCDrqqjrk6Ag66ek7J6lIO2PrO2VqAogICAgICAgIGNvbnN0IG1hdGNoZXNSZWdpb24gPSB0aGlzLnNlbGVjdGVkUmVnaW9uCiAgICAgICAgICA/IHZlbnVlLnJlZ2lvbiA9PT0gdGhpcy5zZWxlY3RlZFJlZ2lvbgogICAgICAgICAgOiB0cnVlOyAvLyDsp4Dsl63snbQg7ISg7YOd65CY7KeAIOyViuycvOuptCDrqqjrk6Ag66ek7J6lIO2PrO2VqAogICAgICAgIHJldHVybiBtYXRjaGVzUXVlcnkgJiYgbWF0Y2hlc1JlZ2lvbjsKICAgICAgfSk7CgogICAgICBpZiAoZmlsdGVyZWRWZW51ZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgYWxlcnQoIu2VtOuLueuQmOuKlCDrp6TsnqXsnbQg7KG07J6s7ZWY7KeAIOyViuyKteuLiOuLpC4g7ZiE7J6sIOychOy5mOuhnCDsnbTrj5ntlanri4jri6QuIik7CiAgICAgICAgdGhpcy5saW1pdFZlbnVlID0gW107CgogICAgICAgIC8vIO2YhOyerCDsnITsuZjroZwg7J2064+ZCiAgICAgICAgaWYgKHRoaXMubG9jYXRpb24pIHsKICAgICAgICAgIHRoaXMubmF2ZXJJbml0TWFwKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIu2YhOyerCDsnITsuZgg7KCV67O06rCAIOyXhuyKteuLiOuLpC4iKTsKICAgICAgICAgIGFsZXJ0KCLtmITsnqwg7JyE7LmYIOygleuztOulvCDqsIDsoLjsmKwg7IiYIOyXhuyKteuLiOuLpC4iKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyDtlYTthLDrp4HrkJwg66ek7J6l7J2EIO2ZlOuptOyXkCDtkZzsi5wKICAgICAgdGhpcy5saW1pdFZlbnVlID0gZmlsdGVyZWRWZW51ZXMuc2xpY2UoMCwgNSk7IC8vIOy1nOuMgCA16rCcIOunpOyepSDtkZzsi5wKICAgICAgY29uc29sZS5sb2coIkZpbHRlcmVkIHZlbnVlczoiLCB0aGlzLmxpbWl0VmVudWUpOwoKICAgICAgLy8g7LKrIOuyiOynuCDrp6TsnqXsnYQg7KeA64+EIOykkeyLrOycvOuhnCDshKTsoJUKICAgICAgY29uc3QgZmlyc3RWZW51ZSA9IGZpbHRlcmVkVmVudWVzWzBdOwogICAgICB0aGlzLmxvY2F0aW9uID0gewogICAgICAgIGxhdDogZmlyc3RWZW51ZS5sb2NhdGlvbi5sYXRpdHVkZSwKICAgICAgICBsbmc6IGZpcnN0VmVudWUubG9jYXRpb24ubG9uZ2l0dWRlLAogICAgICB9OwoKICAgICAgLy8g7KeA64+EIOyXheuNsOydtO2KuAogICAgICB0aGlzLnVwZGF0ZU1hcFdpdGhWZW51ZXMoZmlsdGVyZWRWZW51ZXMpOwogICAgfSwKICAgIHVwZGF0ZU1hcFdpdGhWZW51ZXModmVudWVzKSB7CiAgICAgIGNvbnNvbGUubG9nKCJVcGRhdGluZyBtYXAgd2l0aCB2ZW51ZXM6IiwgdmVudWVzKTsKCiAgICAgIGNvbnN0IG1hcCA9IG5ldyBuYXZlci5tYXBzLk1hcCgibWFwIiwgewogICAgICAgIGNlbnRlcjogbmV3IG5hdmVyLm1hcHMuTGF0TG5nKAogICAgICAgICAgdmVudWVzWzBdLmxvY2F0aW9uLmxhdGl0dWRlLAogICAgICAgICAgdmVudWVzWzBdLmxvY2F0aW9uLmxvbmdpdHVkZQogICAgICAgICksCiAgICAgICAgem9vbTogMTYsIC8vIOyggeygiO2VnCDspIwg66CI67KoCiAgICAgIH0pOwoKICAgICAgdmVudWVzLmZvckVhY2goKHZlbnVlKSA9PiB7CiAgICAgICAgY29uc3QgbWFya2VyID0gbmV3IG5hdmVyLm1hcHMuTWFya2VyKHsKICAgICAgICAgIHBvc2l0aW9uOiBuZXcgbmF2ZXIubWFwcy5MYXRMbmcoCiAgICAgICAgICAgIHZlbnVlLmxvY2F0aW9uLmxhdGl0dWRlLAogICAgICAgICAgICB2ZW51ZS5sb2NhdGlvbi5sb25naXR1ZGUKICAgICAgICAgICksCiAgICAgICAgICBtYXA6IG1hcCwKICAgICAgICB9KTsKCiAgICAgICAgY29uc3QgaW5mb1dpbmRvdyA9IG5ldyBuYXZlci5tYXBzLkluZm9XaW5kb3coewogICAgICAgICAgY29udGVudDogYDxkaXYgc3R5bGU9InBhZGRpbmc6MTBweDsgY3Vyc29yOnBvaW50ZXI7Ij4ke3ZlbnVlLm5hbWV9PC9kaXY+YCwKICAgICAgICB9KTsKCiAgICAgICAgbmF2ZXIubWFwcy5FdmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICJjbGljayIsICgpID0+IHsKICAgICAgICAgIGluZm9XaW5kb3cub3BlbihtYXAsIG1hcmtlcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgY29uc29sZS5sb2coIk1hcCB1cGRhdGVkIHdpdGggZmlsdGVyZWQgdmVudWVzLiIpOwogICAgfSwKICAgIC8vIGFzeW5jIGhhbmRsZVNlYXJjaChxdWVyeSkgewogICAgLy8gICAvLyBIYW5kbGUgdGhlIHNlYXJjaCBxdWVyeSBoZXJlCiAgICAvLyAgIGNvbnNvbGUubG9nKCJTZWFyY2ggcXVlcnkgcmVjZWl2ZWQ6IiwgcXVlcnkpOwoKICAgIC8vICAgY29uc3QgZm91bmRMb2NhdGlvbnMgPSB0aGlzLnZlbnVlcwogICAgLy8gICAgIC8vIC5maWx0ZXIodmVudWUgPT4gdmVudWUubmFtZS5pbmNsdWRlcyhxdWVyeSkpIC8vIENoZWNrIGlmIHRoZSB2ZW51ZSBuYW1lIGluY2x1ZGVzIHRoZSBzZWFyY2ggcXVlcnkKICAgIC8vICAgICAuZmlsdGVyKCh2ZW51ZSkgPT4gdmVudWUubmFtZSA9PT0gcXVlcnkpCiAgICAvLyAgICAgLm1hcCgodmVudWUpID0+IHZlbnVlLmxvY2F0aW9uKTsgLy8gUmV0dXJuIG9ubHkgdGhlIGxvY2F0aW9uIHZhbHVlcwogICAgLy8gICBjb25zb2xlLmxvZygiRm91bmQgbG9jYXRpb25zOiIsIGZvdW5kTG9jYXRpb25zKTsKICAgIC8vICAgaWYgKGZvdW5kTG9jYXRpb25zLmxlbmd0aCA9PT0gMCkgewogICAgLy8gICAgIGFsZXJ0KCLtlbTri7nrkJjripQg66ek7J6l7J20IOyhtOyerCDtlZjsp4Ag7JWK7Iq164uI64ukLiIpOyAvLyBXYXJuaW5nIGZvciBubyBtYXRjaGVzCiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgdGhpcy5sb2NhdGlvbiA9IHsKICAgIC8vICAgICAgIGxhdDogZm91bmRMb2NhdGlvbnNbMF0ubGF0aXR1ZGUsCiAgICAvLyAgICAgICBsbmc6IGZvdW5kTG9jYXRpb25zWzBdLmxvbmdpdHVkZSwKICAgIC8vICAgICB9OwogICAgLy8gICAgIHRoaXMuaW5pdGlhbGl6ZU1hcCgpOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8g7ZiE7J6sIOuCmOydmCDsnITsuZgg7LC+6riwCiAgICBnZXRDdXJyZW50TG9jYXRpb24oKSB7CiAgICAgIGNvbnNvbGUubG9nKCJbU3RlcCAxXSBHZW9sb2NhdGlvbiDsp4Dsm5Ag7Jes67aAIO2ZleyduCIpOwogICAgICB0aGlzLnByb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sOwogICAgICBjb25zdCBob3N0bmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTsKCgogICAgICAvLyBIVFRQUyDsl6zrtoAg7YyQ64uoCiAgICAgIGlmICh0aGlzLnByb3RvY29sID09PSAnaHR0cHM6JyB8fCBob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgaG9zdG5hbWUgPT09ICcxMjcuMC4wLjEnKSB7CiAgICAgICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikgewogICAgICAgICAgY29uc29sZS5sb2coIltTdGVwIDJdIEdlb2xvY2F0aW9uIOyngOybkOuQqC4g7ZiE7J6sIOychOy5mCDsmpTssq0g7Iuc7J6RLi4uIik7CgogICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigKICAgICAgICAgICAgKHBvc2l0aW9uKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIltTdGVwIDNdIOychOy5mCDsoJXrs7Qg7JqU7LKtIOyEseqztSIpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RlcCA0XSDsnITrj4Q6ICR7cG9zaXRpb24uY29vcmRzLmxhdGl0dWRlfWApOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbU3RlcCA1XSDqsr3rj4Q6ICR7cG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZX1gKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1N0ZXAgNl0g7KCV7ZmV64+EOiAke3Bvc2l0aW9uLmNvb3Jkcy5hY2N1cmFjeX0g66+47YSwYCk7CgogICAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSB7CiAgICAgICAgICAgICAgICBsYXQ6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwKICAgICAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJbU3RlcCA3XSDsnITsuZgg7KCV67O0IOyggOyepSDsmYTro4w6IiwgdGhpcy5sb2NhdGlvbik7CgogICAgICAgICAgICAgIHRoaXMubG9hZE5hdmVyTWFwKCk7IC8vIOuEpOydtOuyhCDsp4Drj4Qg66Gc65OcCiAgICAgICAgICAgICAgY29uc29sZS5sb2coIltTdGVwIDhdIOuEpOydtOuyhCDsp4Drj4Qg66Gc65OcIO2VqOyImCDtmLjstpwg7JmE66OMIik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIltFcnJvcl0g7JyE7LmYIOygleuztCDsmpTssq0g7Iuk7YyoOiIsIGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgICAgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcigKICAgICAgICAgICAgIltFcnJvcl0g7J20IOu4jOudvOyasOyggOuKlCBHZW9sb2NhdGlvbiBBUEnrpbwg7KeA7JuQ7ZWY7KeAIOyViuyKteuLiOuLpC4iCiAgICAgICAgICApOwogICAgICAgICAgYWxlcnQoIkdlb2xvY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLiIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBIVFRQIOydvOuVjCDqsr3smrDsnZgg7IiYCiAgICAgICAgZmV0Y2goImh0dHA6Ly9pcC1hcGkuY29tL2pzb24vIikKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coIklQLWJhc2VkIGxvY2F0aW9uOiIsIGRhdGEpOwogICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gewogICAgICAgICAgICAgIGxhdDogZGF0YS5sYXQsCiAgICAgICAgICAgICAgbG5nOiBkYXRhLmxvbiwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5sb2FkTmF2ZXJNYXAoKTsgLy8g64Sk7J2067KEIOyngOuPhCDroZzrk5wKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKCJFcnJvciBmZXRjaGluZyBsb2NhdGlvbjoiLCBlcnJvcikpOwogICAgICB9CgoKCgogICAgfSwKCiAgICBvcGVuTW9kYWwodmVudWUpIHsKICAgICAgdGhpcy5zZWxlY3RlZFNob3AgPSB2ZW51ZTsKICAgICAgdGhpcy5pc01vZGFsVmlzaWJsZSA9IHRydWU7IC8vIOuqqOuLrCDsl7TquLAKICAgICAgY29uc29sZS5sb2coInRoaXMuc2VsZWN0ZWRTaG9wIDogOiA6IiwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZWxlY3RlZFNob3ApKTsKICAgIH0sCiAgICBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLmlzTW9kYWxWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuc2VsZWN0ZWRTaG9wID0gbnVsbDsKICAgIH0sCiAgICAvLyDrj5nquYzsp4Drp4wg7LaU7Lac7ZWY64qUIOuplOyEnOuTnCAtIDI0LjExLjE5IOyImOyglQogICAgZ2V0U2hvcnRBZGRyZXNzKGZ1bGxBZGRyZXNzKSB7CiAgICAgIGlmICghZnVsbEFkZHJlc3MpIHsKICAgICAgICBjb25zb2xlLndhcm4oCiAgICAgICAgICAiW2dldFNob3J0QWRkcmVzc10gUmVjZWl2ZWQgdW5kZWZpbmVkIG9yIGVtcHR5IGFkZHJlc3M6IiwKICAgICAgICAgIGZ1bGxBZGRyZXNzCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gIuyjvOyGjCDsoJXrs7Qg7JeG7J2MIjsgLy8g6riw67O4IOuplOyLnOyngCDrsJjtmZgKICAgICAgfQoKICAgICAgLy8g7KO87IaM66W8IOqzteuwseydtOuCmCDtirnsoJUg6riw7KSAKOyYiDogIuuPmSIp7Jy866GcIOu2hOumrAogICAgICBjb25zdCByZWdleCA9IC8oLirrj5l8LirsnY18LirrqbR8LirquLh8LirroZwpLzsKICAgICAgY29uc3QgbWF0Y2ggPSBmdWxsQWRkcmVzcy5tYXRjaChyZWdleCk7CiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzBdIDogZnVsbEFkZHJlc3M7IC8vIOuPmeq5jOyngOunjCDrsJjtmZjtlZjqsbDrgpgg7JuQ67O4IOyjvOyGjCDrsJjtmZgKICAgIH0sCiAgICB0b0dvUmVzZXJ2YXRpb25Xcml0ZSh2ZW51ZSkgewogICAgICB0aGlzLnNlbGVjdGVkU2hvcCA9IHZlbnVlOwogICAgICBjb25zb2xlLmxvZygidGhpcy5zZWxlY3RlZFNob3AgOiA6IDogIiwgdGhpcy5zZWxlY3RlZFNob3ApOwoKICAgICAgLy8gMjQuMTIuMjcg7IiY7KCVIC0g7LaU6rCACiAgICAgIC8vIGxvY2FsU3RvcmFnZeyXkCDrjbDsnbTthLAg7KCA7J6lCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzZWxlY3RlZFNob3AiLCBKU09OLnN0cmluZ2lmeSh2ZW51ZSkpOwoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJyZXNlcnZhdGlvbi13cml0ZSIsIC8vIO2VtOuLuSDqsr3roZzsnZggbmFtZeydhCDsp4DsoJXtlZjshLjsmpQuCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBuYW1lOiB0aGlzLnNlbGVjdGVkU2hvcC5uYW1lLAogICAgICAgICAgYnJhbmNoSWQ6IHRoaXMuc2VsZWN0ZWRTaG9wLmJyYW5jaElkLAogICAgICAgICAgYWRkcmVzczogdGhpcy5zZWxlY3RlZFNob3AuYWRkcmVzcywKICAgICAgICAgIHdlZWtkYXlIb3VyczogdGhpcy5zZWxlY3RlZFNob3Aud2Vla2RheUhvdXJzLAogICAgICAgICAgd2Vla2VuZEhvdXJzOiB0aGlzLnNlbGVjdGVkU2hvcC53ZWVrZW5kSG91cnMsCiAgICAgICAgICBtYXBJbWFnZTogdGhpcy5zZWxlY3RlZFNob3AubWFwSW1hZ2UsCiAgICAgICAgICBtYW5hZ2VyaWQ6IHRoaXMuc2VsZWN0ZWRTaG9wLm1hbmFnZXJpZCwKICAgICAgICAgIHN0b3JlU2NhbGU6IHRoaXMuc2VsZWN0ZWRTaG9wLnN0b3JlU2NhbGUsCiAgICAgICAgICBsb2NhdGlvbjogewogICAgICAgICAgICBsYXRpdHVkZTogdGhpcy5zZWxlY3RlZFNob3AubGF0aXR1ZGUsCiAgICAgICAgICAgIGxvbmdpdHVkZTogdGhpcy5zZWxlY3RlZFNob3AubG9uZ2l0dWRlLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBnZXREZXRhaWxTdHJvZUluZm8oKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YXNrU3RvcmUuZ2V0U2VsZWN0VGFza3MoInYxL2JyYW5jaC9saXN0Iik7CiAgICAgICAgY29uc29sZS5sb2coIkNvdXJzZXMgbG9hZGVkOiIsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7CiAgICAgICAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBhbGVydCgi66Gc6re47J247J2EIOuLpOyLnCDtlbTso7zshLjsmpQuIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudmVudWVzID0gdGhpcy50cmFuc2Zvcm1CcmFuY2hlc0RhdGEocmVzcG9uc2UpOyAvLyDrjbDsnbTthLAg67OA7ZmYCiAgICAgICAgICB0aGlzLmxpbWl0VmVudWUgPSB0aGlzLnRyYW5zZm9ybUJyYW5jaGVzRGF0YShyZXNwb25zZSk7IC8vIOuwsO2PrOyaqQogICAgICAgICAgdGhpcy5nZXRDdXJyZW50TG9jYXRpb24oKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgbG9hZGluZyBjb3Vyc2VzOiIsIGVycm9yKTsKICAgICAgICBhbGVydCgi66ek7J6l642w7J207YSwIOyhsO2ajCDsi6TtjKjtlojsirXri4jri6QuIOyEnOuyhCDsmKTrpZjrpbwg7ZmV7J247ZWY7IS47JqULiIpOwogICAgICB9CiAgICB9LAogICAgZmlsdGVyVmVudWVzQnlSZWdpb24oKSB7CiAgICAgIGNvbnNvbGUubG9nKCJTZWxlY3RlZCBSZWdpb246IiwgdGhpcy5zZWxlY3RlZFJlZ2lvbik7IC8vIOyEoO2Dne2VnCDsp4Dsl60g7Lac66ClCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZFJlZ2lvbikgewogICAgICAgIGNvbnNvbGUubG9nKCLsoITssrQg7KeA7JetIOyEoO2DneuQqCIpOwogICAgICAgIHRoaXMuZ2V0RGV0YWlsU3Ryb2VJbmZvKCk7IC8vIOyghOyytCDrp6TsnqUg66qp66Gd7J2EIOuLpOyLnCDrtojrn6zsmLQKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IGZpbHRlcmVkVmVudWVzID0gdGhpcy52ZW51ZXM7CgogICAgICAvLyDsp4Dsl60g7ZWE7YSw66eBCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUmVnaW9uKSB7CiAgICAgICAgZmlsdGVyZWRWZW51ZXMgPSB0aGlzLnZlbnVlcy5maWx0ZXIoCiAgICAgICAgICAodmVudWUpID0+IHZlbnVlLnJlZ2lvbiA9PT0gdGhpcy5zZWxlY3RlZFJlZ2lvbgogICAgICAgICk7CiAgICAgICAgLy8g7ZWE7YSw66eB65CcIOunpOyepSDstpzroKUKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coIkZpbHRlcmVkIFZlbnVlczoiLCBmaWx0ZXJlZFZlbnVlcyk7CiAgICAgIGlmIChmaWx0ZXJlZFZlbnVlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g642w7J207YSwIOuzgO2ZmAogICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkVmVudWVzID0gdGhpcy50cmFuc2Zvcm1CcmFuY2hlc0RhdGEoZmlsdGVyZWRWZW51ZXMpOwogICAgICAgIGNvbnNvbGUubG9nKCJUcmFuc2Zvcm1lZCBWZW51ZXM6IiwgdHJhbnNmb3JtZWRWZW51ZXMpOyAvLyDrs4DtmZjrkJwg66ek7J6lIOuNsOydtO2EsCDstpzroKUKCiAgICAgICAgLy8g7ZiE7J6sIOychOy5mAogICAgICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IHRoaXMubG9jYXRpb247CiAgICAgICAgY29uc29sZS5sb2coIkN1cnJlbnQgTG9jYXRpb246IiwgY3VycmVudExvY2F0aW9uKTsgLy8g7ZiE7J6sIOychOy5mCDstpzroKUKCiAgICAgICAgLy8g6rCA6rmM7Jq0IOunpOyepSDqs4TsgrAKICAgICAgICBjb25zdCBjbG9zZXN0QnJhbmNoZXMgPSB0aGlzLmZpbmRDbG9zZXN0QnJhbmNoKAogICAgICAgICAgY3VycmVudExvY2F0aW9uLAogICAgICAgICAgdHJhbnNmb3JtZWRWZW51ZXMKICAgICAgICApOwoKICAgICAgICAvLyDqsIDsnqUg6rCA6rmM7Jq0IOunpOyepQogICAgICAgIGlmIChjbG9zZXN0QnJhbmNoZXMubGVuZ3RoID4gMSkgewogICAgICAgICAgY29uc3QgY2xvc2VzdFNob3AgPSBjbG9zZXN0QnJhbmNoZXNbMV07IC8vIO2YhOyerCDsnITsuZgg7KCc7Jm47ZWcIOqwgOyepSDqsIDquYzsmrQg66ek7J6lCiAgICAgICAgICBjb25zb2xlLmxvZygiQ2xvc2VzdCBTaG9wOiIsIGNsb3Nlc3RTaG9wKTsgLy8g6rCA7J6lIOqwgOq5jOyatCDrp6TsnqUg7L2Y7IaUIOy2nOugpQoKICAgICAgICAgIC8vIOyngOuPhCDspJHsi6wg7JeF642w7J207Yq4IOuwjyDrp4jsu6Qg7ZGc7IucCiAgICAgICAgICB0aGlzLnVwZGF0ZU1hcFdpdGhDbG9zZXN0U2hvcChjbG9zZXN0U2hvcCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJObyBjbG9zZXN0IHNob3AgZm91bmQuIik7CiAgICAgICAgfQoKICAgICAgICAvLyDtmZTrqbTsl5Ag7ZGc7Iuc7ZWgIOunpOyepSDshKTsoJUKICAgICAgICB0aGlzLmxpbWl0VmVudWUgPSBjbG9zZXN0QnJhbmNoZXMuc2xpY2UoMSwgNSk7IC8vIO2YhOyerCDsnITsuZgg7KCc7Jm47ZWY6rOgIDTqsJwg7ISg7YOdCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIk5vIHZlbnVlcyBmb3VuZCBpbiBzZWxlY3RlZCByZWdpb24uIik7IC8vIOyEoO2Dne2VnCDsp4Dsl63sl5Ag66ek7J6l7J20IOyXhuydhCDqsr3smrAKICAgICAgICB0aGlzLmxpbWl0VmVudWUgPSBbXTsKICAgICAgICB0aGlzLm5hdmVySW5pdE1hcCgpOyAvLyDsp4Drj4Qg7LSI6riw7ZmUCiAgICAgICAgYWxlcnQoIuyEoO2Dne2VnCDsp4Dsl63sl5Ag66ek7J6l7J20IOyXhuyKteuLiOuLpC4iKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZU1hcFdpdGhDbG9zZXN0U2hvcChjbG9zZXN0U2hvcCkgewogICAgICBjb25zb2xlLmxvZygiVXBkYXRpbmcgbWFwIHdpdGggY2xvc2VzdCBzaG9wOiIsIGNsb3Nlc3RTaG9wKTsKCiAgICAgIC8vIE5hdmVyIE1hcCDsg53shLEg65iQ64qUIOyXheuNsOydtO2KuAogICAgICBjb25zdCBtYXAgPSBuZXcgbmF2ZXIubWFwcy5NYXAoIm1hcCIsIHsKICAgICAgICBjZW50ZXI6IG5ldyBuYXZlci5tYXBzLkxhdExuZygKICAgICAgICAgIGNsb3Nlc3RTaG9wLmxvY2F0aW9uLmxhdGl0dWRlLAogICAgICAgICAgY2xvc2VzdFNob3AubG9jYXRpb24ubG9uZ2l0dWRlCiAgICAgICAgKSwKICAgICAgICB6b29tOiAxNiwgLy8g7KCB7KCI7ZWcIOykjCDroIjrsqgKICAgICAgfSk7CiAgICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbk1hcmtlciA9IG5ldyBuYXZlci5tYXBzLk1hcmtlcih7CiAgICAgICAgcG9zaXRpb246IG5ldyBuYXZlci5tYXBzLkxhdExuZyh0aGlzLmxvY2F0aW9uLmxhdCwgdGhpcy5sb2NhdGlvbi5sbmcpLAogICAgICAgIG1hcDogbWFwLAogICAgICAgIHRpdGxlOiAi7ZiE7J6sIOychOy5mCIsIC8vIOuniOy7pCDtg4DsnbTti4AKICAgICAgICBpY29uOiB7CiAgICAgICAgICBjb250ZW50OiBgCiAgICAgICAgPGRpdiBzdHlsZT0iCiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDMwRjFBOwogICAgICAgICAgd2lkdGg6IDI0cHg7CiAgICAgICAgICBoZWlnaHQ6IDI0cHg7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB3aGl0ZTsKICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSgwLDAsMCwwLjMpOwogICAgICAgICI+PC9kaXY+CiAgICAgIGAsCiAgICAgICAgfSwKICAgICAgfSk7CiAgICAgIC8vIOqwgOyepSDqsIDquYzsmrQg66ek7J6lIOychOy5mOyXkCDquLDrs7gg64Sk7J2067KEIOuniOy7pCDstpTqsIAKICAgICAgY29uc3QgbWFya2VyID0gbmV3IG5hdmVyLm1hcHMuTWFya2VyKHsKICAgICAgICBwb3NpdGlvbjogbmV3IG5hdmVyLm1hcHMuTGF0TG5nKAogICAgICAgICAgY2xvc2VzdFNob3AubG9jYXRpb24ubGF0aXR1ZGUsCiAgICAgICAgICBjbG9zZXN0U2hvcC5sb2NhdGlvbi5sb25naXR1ZGUKICAgICAgICApLAogICAgICAgIG1hcDogbWFwLCAvLyDrp4jsu6TqsIAg7LaU6rCA65CgIOyngOuPhAogICAgICB9KTsKCiAgICAgIGNvbnNvbGUubG9nKCJOYXZlciBNYXJrZXIgYWRkZWQgYXQ6IiwgY2xvc2VzdFNob3AubG9jYXRpb24pOwoKICAgICAgLy8g7J247Y+s7JyI64+E7JqwIOyDneyEsQogICAgICBjb25zdCBpbmZvV2luZG93ID0gbmV3IG5hdmVyLm1hcHMuSW5mb1dpbmRvdyh7CiAgICAgICAgY29udGVudDogYDxkaXYgc3R5bGU9InBhZGRpbmc6MTBweDsgY3Vyc29yOnBvaW50ZXI7Ij4ke2Nsb3Nlc3RTaG9wLm5hbWV9PC9kaXY+YCwgLy8g66ek7J6lIOydtOumhCDtkZzsi5wKICAgICAgfSk7CgogICAgICAvLyDrp4jsu6Qg7YG066atIOydtOuypO2KuCDstpTqsIAKICAgICAgbmF2ZXIubWFwcy5FdmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICJjbGljayIsICgpID0+IHsKICAgICAgICBpbmZvV2luZG93Lm9wZW4obWFwLCBtYXJrZXIpOyAvLyDsnbjtj6zsnIjrj4TsmrAg7Je06riwCgogICAgICAgIC8vIOyduO2PrOyciOuPhOyasCDtgbTrpq0g7J2067Kk7Yq4IOy2lOqwgAogICAgICAgIGNvbnN0IGluZm9FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmdtLXN0eWxlIGRpdlt0aXRsZT0iJHtjbG9zZXN0U2hvcC5uYW1lfSJdYCk7CiAgICAgICAgaWYgKGluZm9FbGVtZW50KSB7CiAgICAgICAgICBpbmZvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coIkluZm9XaW5kb3cgY2xpY2tlZCBmb3I6IiwgY2xvc2VzdFNob3AubmFtZSk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAicmVzZXJ2YXRpb24td3JpdGUiLAogICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgbmFtZTogY2xvc2VzdFNob3AubmFtZSwKICAgICAgICAgICAgICAgIGJyYW5jaElkOiBjbG9zZXN0U2hvcC5icmFuY2hJZCwKICAgICAgICAgICAgICAgIGFkZHJlc3M6IGNsb3Nlc3RTaG9wLmFkZHJlc3MsCiAgICAgICAgICAgICAgICB3ZWVrZGF5SG91cnM6IGNsb3Nlc3RTaG9wLndlZWtkYXlIb3VycywKICAgICAgICAgICAgICAgIHdlZWtlbmRIb3VyczogY2xvc2VzdFNob3Aud2Vla2VuZEhvdXJzLAogICAgICAgICAgICAgICAgbWFwSW1hZ2U6IGNsb3Nlc3RTaG9wLm1hcEltYWdlLAogICAgICAgICAgICAgICAgbWFuYWdlcmlkOiBjbG9zZXN0U2hvcC5tYW5hZ2VyaWQsCiAgICAgICAgICAgICAgICBzdG9yZVNjYWxlOiBjbG9zZXN0U2hvcC5zdG9yZVNjYWxlLAogICAgICAgICAgICAgICAgbG9jYXRpb246IHsKICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IGNsb3Nlc3RTaG9wLmxvY2F0aW9uLmxhdGl0dWRlLAogICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGNsb3Nlc3RTaG9wLmxvY2F0aW9uLmxvbmdpdHVkZSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8g7KeA64+EIOykkeyLrCDsnITsuZjroZwg7J2064+ZCiAgICAgIG1hcC5zZXRDZW50ZXIobmV3IG5hdmVyLm1hcHMuTGF0TG5nKAogICAgICAgIGNsb3Nlc3RTaG9wLmxvY2F0aW9uLmxhdGl0dWRlLAogICAgICAgIGNsb3Nlc3RTaG9wLmxvY2F0aW9uLmxvbmdpdHVkZQogICAgICApKTsKICAgIH0sCiAgICAvLyDso7zrs4Ag67CY6rK9IOywvuq4sCDroZzsp4EKICAgIGNhbGN1bGF0ZURpc3RhbmNlKGxhdDEsIGxuZzEsIGxhdDIsIGxuZzIpIHsKICAgICAgY29uc3QgdG9SYWQgPSAodmFsdWUpID0+ICh2YWx1ZSAqIE1hdGguUEkpIC8gMTgwOwogICAgICBjb25zdCBSID0gNjM3MTsgLy8gRWFydGgncyByYWRpdXMgaW4ga2lsb21ldGVycwogICAgICBjb25zdCBkTGF0ID0gdG9SYWQobGF0MiAtIGxhdDEpOwogICAgICBjb25zdCBkTG5nID0gdG9SYWQobG5nMiAtIGxuZzEpOwogICAgICBjb25zdCBhID0KICAgICAgICBNYXRoLnNpbihkTGF0IC8gMikgKiBNYXRoLnNpbihkTGF0IC8gMikgKwogICAgICAgIE1hdGguY29zKHRvUmFkKGxhdDEpKSAqCiAgICAgICAgTWF0aC5jb3ModG9SYWQobGF0MikpICoKICAgICAgICBNYXRoLnNpbihkTG5nIC8gMikgKgogICAgICAgIE1hdGguc2luKGRMbmcgLyAyKTsKICAgICAgY29uc3QgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7CiAgICAgIHJldHVybiBSICogYzsgLy8gRGlzdGFuY2UgaW4ga2lsb21ldGVycwogICAgfSwKCiAgICBmaW5kQ2xvc2VzdEJyYW5jaChjdXJyZW50TG9jYXRpb24sIGJyYW5jaGVzKSB7CiAgICAgIGNvbnNvbGUubG9nKCJDYWxjdWxhdGluZyBkaXN0YW5jZXMgZnJvbToiLCBjdXJyZW50TG9jYXRpb24pOyAvLyDtmITsnqwg7JyE7LmYIOy2nOugpQogICAgICBjb25zb2xlLmxvZygiQnJhbmNoZXMgdG8gY2FsY3VsYXRlOiIsIGJyYW5jaGVzKTsgLy8g6rOE7IKwIOuMgOyDgSDrp6TsnqUg7Lac66ClCgogICAgICBjb25zdCBicmFuY2hlc1dpdGhEaXN0YW5jZSA9IGJyYW5jaGVzLm1hcCgoYnJhbmNoKSA9PiB7CiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLmNhbGN1bGF0ZURpc3RhbmNlKAogICAgICAgICAgY3VycmVudExvY2F0aW9uLmxhdCwKICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbi5sbmcsCiAgICAgICAgICBicmFuY2gubG9jYXRpb24ubGF0aXR1ZGUsCiAgICAgICAgICBicmFuY2gubG9jYXRpb24ubG9uZ2l0dWRlCiAgICAgICAgKTsKICAgICAgICBjb25zb2xlLmxvZyhgRGlzdGFuY2UgdG8gJHticmFuY2gubmFtZX06ICR7ZGlzdGFuY2V9IGttYCk7IC8vIOqwgSDrp6TsnqUg6rGw66asIOy2nOugpQogICAgICAgIHJldHVybiB7IC4uLmJyYW5jaCwgZGlzdGFuY2UgfTsKICAgICAgfSk7CgogICAgICBjb25zdCBzb3J0ZWRCcmFuY2hlcyA9IGJyYW5jaGVzV2l0aERpc3RhbmNlLnNvcnQoCiAgICAgICAgKGEsIGIpID0+IGEuZGlzdGFuY2UgLSBiLmRpc3RhbmNlCiAgICAgICk7CiAgICAgIGNvbnNvbGUubG9nKCJTb3J0ZWQgQnJhbmNoZXMgYnkgRGlzdGFuY2U6Iiwgc29ydGVkQnJhbmNoZXMpOyAvLyDsoJXroKzrkJwg66ek7J6lIOy2nOugpQoKICAgICAgcmV0dXJuIFsKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAi7ZiE7J6sIOychOy5mCIsCiAgICAgICAgICBsb2NhdGlvbjogewogICAgICAgICAgICBsYXRpdHVkZTogY3VycmVudExvY2F0aW9uLmxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBjdXJyZW50TG9jYXRpb24ubG5nLAogICAgICAgICAgfSwKICAgICAgICAgIGRpc3RhbmNlOiAwLAogICAgICAgIH0sCiAgICAgICAgLi4uc29ydGVkQnJhbmNoZXMsCiAgICAgIF07CiAgICB9LAogICAgLy8g7KO867OAIOunpOyepSDtg5Dsg4kKICAgIGNhbGxBcnJvdW5kKCkgewogICAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB7IGxhdDogMzcuNTU4Mzc2MSwgbG5nOiAxMjYuODM0NTI3NyB9OwogICAgICBjb25zdCBicmFuY2hlcyA9IFsKICAgICAgICB7CiAgICAgICAgICBicmFuY2hJZDogImJyYW5jaDAwMSIsCiAgICAgICAgICBuYW1lOiAi7ISc7Jq4IOyngOygkCIsCiAgICAgICAgICBsb2NhdGlvbjogeyBsYXRpdHVkZTogMzcuNSwgbG9uZ2l0dWRlOiAxMjcuMDM2NCB9LAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgYnJhbmNoSWQ6ICJicmFuY2gwMDEwIiwKICAgICAgICAgIG5hbWU6ICLrjbjrpqzsvIDrsKUiLAogICAgICAgICAgbG9jYXRpb246IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IDM3LjU1OTY1MTg5OTUyMjIxLAogICAgICAgICAgICBsb25naXR1ZGU6IDEyNi44MzIyMjU2NTU3NTAzNiwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBicmFuY2hJZDogImJyYW5jaDAwMDEiLAogICAgICAgICAgbmFtZTogIuuNuOumrOy8gOuwpTAiLAogICAgICAgICAgbG9jYXRpb246IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IDM3LjU2MDA2NTkyMzQ5NDY5LAogICAgICAgICAgICBsb25naXR1ZGU6IDEyNi44MzUyMzUxODEzMjAyOSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBicmFuY2hJZDogImJyYW5jaDEwMSIsCiAgICAgICAgICBuYW1lOiAi642466as7LyA67ClMSIsCiAgICAgICAgICBsb2NhdGlvbjogewogICAgICAgICAgICBsYXRpdHVkZTogMzcuNTYxMjgwNDkwODEyNjYsCiAgICAgICAgICAgIGxvbmdpdHVkZTogMTI2LjgzOTQxNjQ0MjMyMzksCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgYnJhbmNoSWQ6ICJicmFuY2gyMDEiLAogICAgICAgICAgbmFtZTogIuuNuOumrOy8gOuwpTIiLAogICAgICAgICAgbG9jYXRpb246IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IDM3LjU2MDgwMzc0NzE0MjQ3LAogICAgICAgICAgICBsb25naXR1ZGU6IDEyNi44MjkxOTIzOTk4OTA3NCwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBicmFuY2hJZDogImJyYW5jaDMwMSIsCiAgICAgICAgICBuYW1lOiAi642466as7LyA67ClMyIsCiAgICAgICAgICBsb2NhdGlvbjogewogICAgICAgICAgICBsYXRpdHVkZTogMzcuNTU2Nzg1MzU3NjcwMjg2LAogICAgICAgICAgICBsb25naXR1ZGU6IDEyNi44MzY5OTY0NjU5MjExLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGJyYW5jaElkOiAiYnJhbmNoNDAxIiwKICAgICAgICAgIG5hbWU6ICLrjbjrpqzsvIDrsKU0IiwKICAgICAgICAgIGxvY2F0aW9uOiB7CiAgICAgICAgICAgIGxhdGl0dWRlOiAzNy41NjAwOTgwMjIzNzIwNiwKICAgICAgICAgICAgbG9uZ2l0dWRlOiAxMjYuODMxNzExNzIyNDA5NzEsCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgYnJhbmNoSWQ6ICJicmFuY2g1MDEiLAogICAgICAgICAgbmFtZTogIuuNuOumrOy8gOuwpTUiLAogICAgICAgICAgbG9jYXRpb246IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IDM3LjU1OTE3NjUzMzM0NDcyNiwKICAgICAgICAgICAgbG9uZ2l0dWRlOiAxMjYuODMxNDAyNDE1NDI1NSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBicmFuY2hJZDogImJyYW5jaDYwMSIsCiAgICAgICAgICBuYW1lOiAi642466as7LyA67ClNiIsCiAgICAgICAgICBsb2NhdGlvbjogewogICAgICAgICAgICBsYXRpdHVkZTogMzcuNTYxMzgwMzYwODQ5MTEsCiAgICAgICAgICAgIGxvbmdpdHVkZTogMTI2LjgyMDkwMjY3NTMxNDM2LAogICAgICAgICAgfSwKICAgICAgICB9LAoKICAgICAgICB7CiAgICAgICAgICBicmFuY2hJZDogImJyYW5jaDAwMiIsCiAgICAgICAgICBuYW1lOiAi67aA7IKwIOyngOygkCIsCiAgICAgICAgICBsb2NhdGlvbjogeyBsYXRpdHVkZTogMzEuNSwgbG9uZ2l0dWRlOiAxMTcuMDM2NCB9LAogICAgICAgIH0sCiAgICAgIF07CiAgICAgIGNvbnN0IGNsb3Nlc3RCcmFuY2ggPSB0aGlzLmZpbmRDbG9zZXN0QnJhbmNoKGN1cnJlbnRMb2NhdGlvbiwgYnJhbmNoZXMpOwogICAgICBjb25zb2xlLmxvZygiQ2xvc2VzdCBCcmFuY2g6IiwgY2xvc2VzdEJyYW5jaCk7CiAgICB9LAogICAgLy8g642w7J207YSwIOuzgO2ZmAogICAgdHJhbnNmb3JtQnJhbmNoZXNEYXRhKGRhdGEpIHsKICAgICAgcmV0dXJuIGRhdGEubWFwKChicmFuY2gpID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgLi4uYnJhbmNoLAogICAgICAgICAgYnJhbmNoSWQ6IGJyYW5jaC5pZCwKICAgICAgICAgIGxvY2F0aW9uOiB7CiAgICAgICAgICAgIGxhdGl0dWRlOiBicmFuY2gubGF0aXR1ZGUgfHwgMzcuNTYxMjgwNDkwODEyNjYsIC8vIOq4sOuzuOqwkiDsgqzsmqkKICAgICAgICAgICAgbG9uZ2l0dWRlOiBicmFuY2gubG9uZ2l0dWRlIHx8IDEyNi44Mzk0MTY0NDIzMjM5LCAvLyDquLDrs7jqsJIg7IKs7JqpCiAgICAgICAgICB9LAogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOuEpOydtOuyhCDsp4Drj4Qg66Gc65OcCiAgICBsb2FkTmF2ZXJNYXAoKSB7CiAgICAgIC8vIE5hdmVyIE1hcHMgQVBJIOuhnOuTnCDtmZXsnbgKICAgICAgaWYgKHR5cGVvZiBuYXZlciAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICB0aGlzLm5hdmVySW5pdE1hcCgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOuhnOuTnOuQmOyngCDslYrslZjsnLzrqbQg64uk7IucIO2ZleyduAogICAgICAgIGNvbnN0IGNoZWNrTmF2ZXJNYXAgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBpZiAodHlwZW9mIG5hdmVyICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrTmF2ZXJNYXApOwogICAgICAgICAgICB0aGlzLm5hdmVySW5pdE1hcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMCk7IC8vIDEwMG1zIOqwhOqyqeycvOuhnCDtmZXsnbgKICAgICAgfQogICAgfSwKICAgIC8vIOuEpOydtOuyhCDsp4Drj4Qg66Gc65OcCiAgICBuYXZlckluaXRNYXAoKSB7CiAgICAgIGNvbnNvbGUubG9nKCLsp4TtlonspJHsnoXri4jri6QuIik7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubG9jYXRpb24pOwoKICAgICAgLy8gTmF2ZXIgTWFwIOyDneyEsQogICAgICBjb25zdCBtYXAgPSBuZXcgbmF2ZXIubWFwcy5NYXAoIm1hcCIsIHsKICAgICAgICBjZW50ZXI6IG5ldyBuYXZlci5tYXBzLkxhdExuZygKICAgICAgICAgIHRoaXMubG9jYXRpb24ubGF0LCAvLyDsp4Drj4Qg7KSR7Ius7J2EIOyVveqwhCDslYTrnpjroZwg7J2064+ZCiAgICAgICAgICB0aGlzLmxvY2F0aW9uLmxuZwogICAgICAgICksCiAgICAgICAgem9vbTogMTYsIC8vIOyggeygiO2VnCDspIwg66CI67KoCiAgICAgIH0pOwoKICAgICAgLy8g7ZiE7J6sIOychOy5mCDrp4jsu6Qg7LaU6rCACiAgICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbk1hcmtlciA9IG5ldyBuYXZlci5tYXBzLk1hcmtlcih7CiAgICAgICAgcG9zaXRpb246IG5ldyBuYXZlci5tYXBzLkxhdExuZyh0aGlzLmxvY2F0aW9uLmxhdCwgdGhpcy5sb2NhdGlvbi5sbmcpLAogICAgICAgIG1hcDogbWFwLAogICAgICAgIGljb246IHsKICAgICAgICAgIGNvbnRlbnQ6IGAKICAgICAgPGRpdiBzdHlsZT0iCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0QzMEYxQTsKICAgICAgICB3aWR0aDogMjRweDsKICAgICAgICBoZWlnaHQ6IDI0cHg7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHdoaXRlOwogICAgICAgIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSgwLDAsMCwwLjMpOwogICAgICAiPjwvZGl2PgogICAgICBgLAogICAgICAgIH0sCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygiQ3VycmVudCBsb2NhdGlvbiBtYXJrZXIgYWRkZWQuIik7CgogICAgICAvLyDqsIDquYzsmrQg66ek7J6lIOywvuq4sAogICAgICBjb25zdCBjbG9zZXN0QnJhbmNoID0gdGhpcy5maW5kQ2xvc2VzdEJyYW5jaCgKICAgICAgICB0aGlzLmxvY2F0aW9uLAogICAgICAgIHRoaXMubGltaXRWZW51ZQogICAgICApOwoKICAgICAgLy8g66eI7LukIOuwjyDsnbjtj6zsnIjrj4TsmrAg7LaU6rCACiAgICAgIGNsb3Nlc3RCcmFuY2guZm9yRWFjaCgoYnJhbmNoLCBpbmRleCkgPT4gewogICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBuYXZlci5tYXBzLk1hcmtlcih7CiAgICAgICAgICBwb3NpdGlvbjogbmV3IG5hdmVyLm1hcHMuTGF0TG5nKAogICAgICAgICAgICBicmFuY2gubG9jYXRpb24ubGF0aXR1ZGUsCiAgICAgICAgICAgIGJyYW5jaC5sb2NhdGlvbi5sb25naXR1ZGUKICAgICAgICAgICksCiAgICAgICAgICBtYXA6IG1hcCwKICAgICAgICAgIGljb246CiAgICAgICAgICAgIGluZGV4ID09PSAwCiAgICAgICAgICAgICAgPyB7CiAgICAgICAgICAgICAgICBjb250ZW50OiBgCiAgICAgICAgICA8ZGl2IHN0eWxlPSIKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0QzMEYxQTsKICAgICAgICAgICAgd2lkdGg6IDI0cHg7CiAgICAgICAgICAgIGhlaWdodDogMjRweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB3aGl0ZTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDVweCByZ2JhKDAsMCwwLDAuMyk7CiAgICAgICAgICAiPjwvZGl2PgogICAgICAgICAgYCwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgOiBudWxsLAogICAgICAgIH0pOwoKICAgICAgICAvLyDsnbjtj6zsnIjrj4TsmrAg64K07JqpIOyEpOyglQogICAgICAgIGNvbnN0IGluZm9XaW5kb3cgPSBuZXcgbmF2ZXIubWFwcy5JbmZvV2luZG93KHsKICAgICAgICAgIGNvbnRlbnQ6IGA8ZGl2IGlkPSJpbmZvLSR7YnJhbmNoLmJyYW5jaElkfSIgc3R5bGU9InBhZGRpbmc6MTBweDsgY3Vyc29yOiBwb2ludGVyOyI+JHticmFuY2gubmFtZX08L2Rpdj5gLCAvLyDqs6DsnKAgSUQg7LaU6rCACiAgICAgICAgfSk7CgogICAgICAgIC8vIOuniOy7pCDtgbTrpq0g7J2067Kk7Yq4CiAgICAgICAgbmF2ZXIubWFwcy5FdmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICJjbGljayIsICgpID0+IHsKICAgICAgICAgIGluZm9XaW5kb3cub3BlbihtYXAsIG1hcmtlcik7CgogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGluZm9FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoCiAgICAgICAgICAgICAgYGluZm8tJHticmFuY2guYnJhbmNoSWR9YAogICAgICAgICAgICApOwogICAgICAgICAgICBpZiAoaW5mb0VsZW1lbnQpIHsKICAgICAgICAgICAgICBpbmZvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJJbmZvV2luZG93IGNvbnRlbnQgY2xpY2tlZDoiLCBicmFuY2gubmFtZSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJyZXNlcnZhdGlvbi13cml0ZSIsCiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIG5hbWU6IGJyYW5jaC5uYW1lLAogICAgICAgICAgICAgICAgICAgIGJyYW5jaElkOiBicmFuY2guYnJhbmNoSWQsCiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYnJhbmNoLmFkZHJlc3MsCiAgICAgICAgICAgICAgICAgICAgd2Vla2RheUhvdXJzOiBicmFuY2gud2Vla2RheUhvdXJzLAogICAgICAgICAgICAgICAgICAgIHdlZWtlbmRIb3VyczogYnJhbmNoLndlZWtlbmRIb3VycywKICAgICAgICAgICAgICAgICAgICBtYXBJbWFnZTogYnJhbmNoLm1hcEltYWdlLAogICAgICAgICAgICAgICAgICAgIG1hbmFnZXJpZDogYnJhbmNoLm1hbmFnZXJpZCwKICAgICAgICAgICAgICAgICAgICBzdG9yZVNjYWxlOiBicmFuY2guc3RvcmVTY2FsZSwKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogewogICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IGJyYW5jaC5sb2NhdGlvbi5sYXRpdHVkZSwKICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogYnJhbmNoLmxvY2F0aW9uLmxvbmdpdHVkZSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIDApOyAvLyBJbmZvV2luZG936rCAIERPTeyXkCDroIzrjZTrp4HrkJwg7ZuEIOyLpO2WiQogICAgICAgIH0pOwogICAgICB9KTsKCiAgICAgIC8vIOqwgOq5jOyatCDrp6TsnqXrp4wg66as7Iqk7Yq4IOyXheuNsOydtO2KuAogICAgICB0aGlzLmxpbWl0VmVudWUgPSBjbG9zZXN0QnJhbmNoLnNsaWNlKDEsIDUpOwogICAgfSwKICAgIC8vLyDqtazquIAg7KeA64+EIOuhnOuTnAogICAgYXN5bmMgaW5pdGlhbGl6ZU1hcCgpIHsKICAgICAgY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcih7CiAgICAgICAgYXBpS2V5OiAiQUl6YVN5Q0RJWFdpdXRqeEs1cWpDQVRVeUtJTDVTZDEzRS1MU1VzIiwgLy8g7IOd7ISx7ZWcIEFQSSDtgqTroZwg6rWQ7LK0CiAgICAgICAgdmVyc2lvbjogIndlZWtseSIsCiAgICAgIH0pOwoKICAgICAgY29uc29sZS5sb2codGhpcy5sb2NhdGlvbik7CiAgICAgIGNvbnNvbGUubG9nKCJKU09QTiA6IDogOiAiLCBKU09OLnN0cmluZ2lmeSh0aGlzLmxvY2F0aW9uKSk7CiAgICAgIGF3YWl0IGxvYWRlci5sb2FkKCk7CiAgICAgIHRoaXMubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcCh0aGlzLiRyZWZzLm1hcENvbnRhaW5lciwgewogICAgICAgIC8vIGNlbnRlcjogdGhpcy5sb2NhdGlvbiwzNS44NjkzNjgsMTI4LjU5OTIzMAogICAgICAgIGNlbnRlcjogeyBsYXQ6IDM1Ljg2OTM2OCwgbG5nOiAxMjguNTk5MjMgfSwgLy8g7LSI6riwIOyngOuPhCDspJHsi6wg7KKM7ZGcICjsmIg6IOyDjO2UhOuegOyLnOyKpOy9lCkKICAgICAgICB6b29tOiAxNSwKICAgICAgfSk7CgogICAgICBjb25zb2xlLmxvZygidGhpcy5sb2NhdGlvbjogOiA6IDogOiA6IDogIiwgdGhpcy5sb2NhdGlvbik7CiAgICAgIC8vIGNvbnN0IGNsb3Nlc3RCcmFuY2ggPSB0aGlzLmZpbmRDbG9zZXN0QnJhbmNoKGN1cnJlbnRMb2NhdGlvbiwgYnJhbmNoZXMpOwogICAgICBjb25zdCBjbG9zZXN0QnJhbmNoID0gdGhpcy5maW5kQ2xvc2VzdEJyYW5jaCh0aGlzLmxvY2F0aW9uLCB0aGlzLnZlbnVlcyk7CiAgICAgIGNvbnNvbGUubG9nKCJDbG9zZXN0IEJyYW5jaDoiLCBjbG9zZXN0QnJhbmNoKTsKCiAgICAgIC8vIOunpOyepeuqhSDrs7TsnbTquLAKICAgICAgY29uc3QgaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KCk7CiAgICAgIHRoaXMubGltaXRWZW51ZSA9IGNsb3Nlc3RCcmFuY2guc2xpY2UoMSwgNSk7CiAgICAgIC8vIHRoaXMudmVudWVzID0gY2xvc2VzdEJyYW5jaC5zbGljZSgxLCA1KTsKCiAgICAgIC8vIOuqqOuToCDsp4DsoJDsl5Ag64yA7ZW0IOuniOy7pCDstpTqsIAg67CPIO2BtOumrSDsnbTrsqTtirgg7ISk7KCVCiAgICAgIGNsb3Nlc3RCcmFuY2guZm9yRWFjaCgoYnJhbmNoLCBpbmRleCkgPT4gewogICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoewogICAgICAgICAgcG9zaXRpb246IHsKICAgICAgICAgICAgbGF0OiBicmFuY2gubG9jYXRpb24ubGF0aXR1ZGUsCiAgICAgICAgICAgIGxuZzogYnJhbmNoLmxvY2F0aW9uLmxvbmdpdHVkZSwKICAgICAgICAgIH0sCiAgICAgICAgICBtYXA6IHRoaXMubWFwLAogICAgICAgICAgdGl0bGU6IGJyYW5jaC5uYW1lLCAvLyDtg4DsnbTti4Ag7ISk7KCVCiAgICAgICAgICBpY29uOgogICAgICAgICAgICBpbmRleCA9PT0gMAogICAgICAgICAgICAgID8gImh0dHA6Ly9tYXBzLmdvb2dsZS5jb20vbWFwZmlsZXMvbXMvaWNvbnMvYmx1ZS1kb3QucG5nIgogICAgICAgICAgICAgIDogbnVsbCwgLy8g7ZiE7J6sIOychOy5mCDrp4jsu6TripQg7YyM656A7IOJCiAgICAgICAgfSk7CgogICAgICAgIC8vIOuniOy7pCDtgbTrpq0g7IucIEluZm9XaW5kb3fsl5Ag7YOA7J207YuAIO2RnOyLnAogICAgICAgIG1hcmtlci5hZGRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgICAgICBpbmZvV2luZG93LnNldENvbnRlbnQoYnJhbmNoLm5hbWUpOyAvLyDsp4DsoJAg7J2066aE7J2EIEluZm9XaW5kb3fsl5Ag7ISk7KCVCiAgICAgICAgICBpbmZvV2luZG93Lm9wZW4odGhpcy5tYXAsIG1hcmtlcik7IC8vIEluZm9XaW5kb3frpbwg66eI7LukIOychOy5mOyXkCDtkZzsi5wKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["MapList.vue"],"names":[],"mappings":";AAoMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MapList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container-center-horizontal\">\n    <div class=\"findvenue-2 screen\">\n      <Header />\n      <rj-zs-wi :frame72911Props=\"rJZsWIProps.frame72911Props\" />\n      <div class=\"title pretendard-bold-log-cabin-38px\">매장찾기</div>\n      <div class=\"select-box\">\n        <div class=\"select-align\">\n          <div class=\"select-style\">\n            <!-- 지역을 선택할 수 있는 select box -->\n            <select class=\"select-text pretendard-regular-normal-mine-shaft-18px\" v-model=\"selectedRegion\"\n              @change=\"filterVenuesByRegion\">\n              <!-- 24.12.04 수정 - 추가 -->\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"\" selected>\n                전체 지역\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"서울\">\n                서울\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"인천\">\n                인천\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"대전\">\n                대전\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"대구\">\n                대구\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"광주\">\n                광주\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"울산\">\n                울산\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"부산\">\n                부산\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"강원\">\n                강원\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"경기\">\n                경기\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"충북\">\n                충북\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"충남\">\n                충남\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"전북\">\n                전북\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"전남\">\n                전남\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"경북\">\n                경북\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"경남\">\n                경남\n              </option>\n              <option class=\"pretendard-regular-normal-mine-shaft-18px\" value=\"제주\">\n                제주\n              </option>\n            </select>\n          </div>\n          <!-- <div class=\"select-style\">\n            세부지역을 선택할 수 있는 select box \n            <select\n              class=\"select-text pretendard-regular-normal-mine-shaft-18px\"\n            >\n              <option\n                class=\"pretendard-regular-normal-mine-shaft-18px\"\n                value=\"\"\n                disabled\n                selected\n              >\n                전체지역(시군구)\n              </option>\n              <option\n                class=\"pretendard-regular-normal-mine-shaft-18px\"\n                value=\"\"\n              >\n                서울\n              </option>\n              <option\n                class=\"pretendard-regular-normal-mine-shaft-18px\"\n                value=\"\"\n              >\n                대구\n              </option>\n              <option\n                class=\"pretendard-regular-normal-mine-shaft-18px\"\n                value=\"\"\n              >\n                부산\n              </option>\n            </select>\n          </div> -->\n        </div>\n        <div class=\"input-style\">\n          <!-- 검색어 입력 필드 -->\n          <input type=\"text\" class=\"input-text pretendard-regular-normal-mountain-mist-18px\" placeholder=\"검색어를 입력해주세요\"\n            v-model=\"searchQuery\" />\n          <img class=\"search-btn-10\"\n            src=\"https://cdn.animaapp.com/projects/66da512d0c22d478015e0e07/releases/66da51d8cf50153cef9952df/img/searchbtn-9.svg\"\n            alt=\"searchBtn\" @click=\"handleSearchAndFilter(searchQuery)\" />\n        </div>\n      </div>\n\n      <!-- 720px 초과 -->\n      <div class=\"shop-list-frame\">\n        <div class=\"shop-lists\">\n          <div v-for=\"(venue, index) in limitVenue\" :key=\"index\" class=\"shop-info-box\">\n            <div class=\"shop-info\">\n              <div class=\"shop-name-info\">\n                <div class=\"valign-text-middle pretendard-bold-mine-shaft-20px\">\n                  {{ venue.name }}\n                </div>\n              </div>\n              <div class=\"address-contant-align pretendard-regular-normal-granite-gray-16px\">\n                <!-- <div>주소 : {{ venue.address }}</div> -->\n                <!-- 24.11.19 수정 - 추가 -->\n                <div>주소: {{ getShortAddress(venue.address) }}</div>\n                <div>연락처 : {{ venue.telNumber }}</div>\n              </div>\n            </div>\n            <div class=\"shop-info-btn\">\n              <button class=\"detail-view-btn pretendard-medium-white-12px\" @click=\"openModal(venue)\">\n                자세히보기\n              </button>\n              <button class=\"reservation-btn pretendard-medium-white-12px\" @click=\"toGoReservationWrite(venue)\">\n                예약하기\n              </button>\n              <button class=\"call-btn pretendard-medium-white-12px\">\n                <a :href=\"'tel:' + venue.telNumber\" class=\"pretendard-medium-white-12px\">전화걸기</a>\n              </button>\n              <!-- <div class=\"view-44\">\n                <div class=\"overlap-group2-5\">\n                  <a :href=\"'tel:' + venue.telNumber\">\n                    <div class=\"text-1-4 valign-text-middle pretendard-medium-white-12px\">전화걸기</div>\n                  </a>\n                </div>\n              </div> -->\n            </div>\n          </div>\n        </div>\n        <div class=\"map-box\">\n          <!-- <div ref=\"mapContainer\" class=\"map-container\"></div> -->\n          <div id=\"map\" style=\"width: 100%; height: 868px\"></div>\n          <!-- <div class=\"frame-container-10\" :style=\"{ 'background-image': 'url(' + frameContainer + ')' }\">\n              <frame72984 :text2687=\"frame729841Props.text2687\" />\n              <frame72984 :text2687=\"frame729842Props.text2687\" :className=\"frame729842Props.className\" />\n              <frame72984 :text2687=\"frame729843Props.text2687\" :className=\"frame729843Props.className\" />\n              <frame72984 :text2687=\"frame729844Props.text2687\" :className=\"frame729844Props.className\" />\n            </div> -->\n        </div>\n      </div>\n\n      <!-- 720px 이하 -->\n      <div class=\"shop-list\">\n        <div v-for=\"(venue, index) in limitVenue\" :key=\"index\" class=\"shop-list-card\">\n          <div class=\"shop-info-align\">\n            <div class=\"pretendard-bold-mine-shaft-20px\">{{ venue.name }}</div>\n            <div class=\"address-contant-align pretendard-regular-normal-granite-gray-16px\">\n              <div>주소 : {{ venue.address }}</div>\n              <div>연락처 : {{ venue.telNumber }}</div>\n            </div>\n          </div>\n          <div class=\"btn-align\">\n            <div class=\"btn-align-head\">\n              <button class=\"detail-view-btn pretendard-medium-white-12px\" @click=\"openModal(venue)\">\n                자세히보기\n              </button>\n              <button class=\"call-btn pretendard-medium-white-12px\">\n                <a :href=\"'tel:' + venue.telNumber\" class=\"pretendard-medium-white-12px\">전화걸기</a>\n              </button>\n            </div>\n            <button class=\"reservation-btn pretendard-medium-white-12px\" @click=\"toGoReservationWrite(venue)\">\n              예약하기\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- <div>   -->\n      <!-- <div id=\"map\" style=\"width: 500px; height: 400px;\"></div> -->\n      <!-- </div> -->\n\n      <XFooter />\n      <GameDetail v-if=\"isModalVisible\" :shop=\"selectedShop\" @close=\"closeModal\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Header from \"./Header\";\nimport RjZsWi from \"./RjZsWi\";\n\nimport XFooter from \"./XFooter\";\nimport GameDetail from \"./GameDetail\";\nimport GoogleMap from \"./GoogleMap.vue\";\nimport { Loader } from \"@googlemaps/js-api-loader\";\nimport { taskStore } from \"@/store/taskStore\"; // API 호출\n\nexport default {\n  name: \"MapList\",\n  components: {\n    Header,\n    GameDetail,\n    RjZsWi,\n    XFooter,\n    GoogleMap,\n  },\n  props: [\"rJZsWIProps\"],\n  data() {\n    return {\n      isModalVisible: false,\n      searchQuery: \"\",\n      selectedShop: null, // 선택한 매장 정보 저장\n      limitVenue: [], // 필터링된 매장 데이터\n      selectedRegion: \"\", // 선택된 지역\n      venues: [\n        {\n          name: \"레저로스크린파크골프 광명점\",\n          address: \"경기도 광명시 오리로500\",\n          telNumber: \"02-898-0727\",\n          branchId: \"branch301\",\n\n          location: {\n            latitude: 37.556785357670286,\n            longitude: 126.8369964659211,\n          },\n        },\n      ],\n      limitVenue: [],\n      map: null,\n      location: null, // 위치 정보\n      protocol: '',\n      isSecure: false,\n    };\n  },\n  mounted() {\n    //  this.loadNaverMap();\n    this.getDetailStroeInfo();\n    // this.callArround()\n    // this.initializeMap();\n  },\n  methods: {\n    handleSearchAndFilter() {\n      console.log(\"Search query received:\", this.searchQuery);\n      console.log(\"Selected Region:\", this.selectedRegion);\n\n      // 검색어와 지역 모두 일치하는 매장 필터링\n      const filteredVenues = this.venues.filter((venue) => {\n        const matchesQuery = this.searchQuery\n          ? venue.name.includes(this.searchQuery)\n          : true; // 검색어가 없으면 모든 매장 포함\n        const matchesRegion = this.selectedRegion\n          ? venue.region === this.selectedRegion\n          : true; // 지역이 선택되지 않으면 모든 매장 포함\n        return matchesQuery && matchesRegion;\n      });\n\n      if (filteredVenues.length === 0) {\n        alert(\"해당되는 매장이 존재하지 않습니다. 현재 위치로 이동합니다.\");\n        this.limitVenue = [];\n\n        // 현재 위치로 이동\n        if (this.location) {\n          this.naverInitMap();\n        } else {\n          console.error(\"현재 위치 정보가 없습니다.\");\n          alert(\"현재 위치 정보를 가져올 수 없습니다.\");\n        }\n        return;\n      }\n\n      // 필터링된 매장을 화면에 표시\n      this.limitVenue = filteredVenues.slice(0, 5); // 최대 5개 매장 표시\n      console.log(\"Filtered venues:\", this.limitVenue);\n\n      // 첫 번째 매장을 지도 중심으로 설정\n      const firstVenue = filteredVenues[0];\n      this.location = {\n        lat: firstVenue.location.latitude,\n        lng: firstVenue.location.longitude,\n      };\n\n      // 지도 업데이트\n      this.updateMapWithVenues(filteredVenues);\n    },\n    updateMapWithVenues(venues) {\n      console.log(\"Updating map with venues:\", venues);\n\n      const map = new naver.maps.Map(\"map\", {\n        center: new naver.maps.LatLng(\n          venues[0].location.latitude,\n          venues[0].location.longitude\n        ),\n        zoom: 16, // 적절한 줌 레벨\n      });\n\n      venues.forEach((venue) => {\n        const marker = new naver.maps.Marker({\n          position: new naver.maps.LatLng(\n            venue.location.latitude,\n            venue.location.longitude\n          ),\n          map: map,\n        });\n\n        const infoWindow = new naver.maps.InfoWindow({\n          content: `<div style=\"padding:10px; cursor:pointer;\">${venue.name}</div>`,\n        });\n\n        naver.maps.Event.addListener(marker, \"click\", () => {\n          infoWindow.open(map, marker);\n        });\n      });\n\n      console.log(\"Map updated with filtered venues.\");\n    },\n    // async handleSearch(query) {\n    //   // Handle the search query here\n    //   console.log(\"Search query received:\", query);\n\n    //   const foundLocations = this.venues\n    //     // .filter(venue => venue.name.includes(query)) // Check if the venue name includes the search query\n    //     .filter((venue) => venue.name === query)\n    //     .map((venue) => venue.location); // Return only the location values\n    //   console.log(\"Found locations:\", foundLocations);\n    //   if (foundLocations.length === 0) {\n    //     alert(\"해당되는 매장이 존재 하지 않습니다.\"); // Warning for no matches\n    //   } else {\n    //     this.location = {\n    //       lat: foundLocations[0].latitude,\n    //       lng: foundLocations[0].longitude,\n    //     };\n    //     this.initializeMap();\n    //   }\n    // },\n    // 현재 나의 위치 찾기\n    getCurrentLocation() {\n      console.log(\"[Step 1] Geolocation 지원 여부 확인\");\n      this.protocol = window.location.protocol;\n      const hostname = window.location.hostname;\n\n\n      // HTTPS 여부 판단\n      if (this.protocol === 'https:' || hostname === 'localhost' || hostname === '127.0.0.1') {\n        if (navigator.geolocation) {\n          console.log(\"[Step 2] Geolocation 지원됨. 현재 위치 요청 시작...\");\n\n          navigator.geolocation.getCurrentPosition(\n            (position) => {\n              console.log(\"[Step 3] 위치 정보 요청 성공\");\n              console.log(`[Step 4] 위도: ${position.coords.latitude}`);\n              console.log(`[Step 5] 경도: ${position.coords.longitude}`);\n              console.log(`[Step 6] 정확도: ${position.coords.accuracy} 미터`);\n\n              this.location = {\n                lat: position.coords.latitude,\n                lng: position.coords.longitude,\n              };\n              console.log(\"[Step 7] 위치 정보 저장 완료:\", this.location);\n\n              this.loadNaverMap(); // 네이버 지도 로드\n              console.log(\"[Step 8] 네이버 지도 로드 함수 호출 완료\");\n            },\n            (error) => {\n              console.error(\"[Error] 위치 정보 요청 실패:\", error);\n            }\n          );\n        } else {\n          console.error(\n            \"[Error] 이 브라우저는 Geolocation API를 지원하지 않습니다.\"\n          );\n          alert(\"Geolocation is not supported by this browser.\");\n        }\n      } else {\n        // HTTP 일때 경우의 수\n        fetch(\"http://ip-api.com/json/\")\n          .then((response) => response.json())\n          .then((data) => {\n            console.log(\"IP-based location:\", data);\n            this.location = {\n              lat: data.lat,\n              lng: data.lon,\n            };\n            this.loadNaverMap(); // 네이버 지도 로드\n          })\n          .catch((error) => console.error(\"Error fetching location:\", error));\n      }\n\n\n\n\n    },\n\n    openModal(venue) {\n      this.selectedShop = venue;\n      this.isModalVisible = true; // 모달 열기\n      console.log(\"this.selectedShop : : :\", JSON.stringify(this.selectedShop));\n    },\n    closeModal() {\n      this.isModalVisible = false;\n      this.selectedShop = null;\n    },\n    // 동까지만 추출하는 메서드 - 24.11.19 수정\n    getShortAddress(fullAddress) {\n      if (!fullAddress) {\n        console.warn(\n          \"[getShortAddress] Received undefined or empty address:\",\n          fullAddress\n        );\n        return \"주소 정보 없음\"; // 기본 메시지 반환\n      }\n\n      // 주소를 공백이나 특정 기준(예: \"동\")으로 분리\n      const regex = /(.*동|.*읍|.*면|.*길|.*로)/;\n      const match = fullAddress.match(regex);\n      return match ? match[0] : fullAddress; // 동까지만 반환하거나 원본 주소 반환\n    },\n    toGoReservationWrite(venue) {\n      this.selectedShop = venue;\n      console.log(\"this.selectedShop : : : \", this.selectedShop);\n\n      // 24.12.27 수정 - 추가\n      // localStorage에 데이터 저장\n      localStorage.setItem(\"selectedShop\", JSON.stringify(venue));\n\n      this.$router.push({\n        name: \"reservation-write\", // 해당 경로의 name을 지정하세요.\n        params: {\n          name: this.selectedShop.name,\n          branchId: this.selectedShop.branchId,\n          address: this.selectedShop.address,\n          weekdayHours: this.selectedShop.weekdayHours,\n          weekendHours: this.selectedShop.weekendHours,\n          mapImage: this.selectedShop.mapImage,\n          managerid: this.selectedShop.managerid,\n          storeScale: this.selectedShop.storeScale,\n          location: {\n            latitude: this.selectedShop.latitude,\n            longitude: this.selectedShop.longitude,\n          },\n        },\n      });\n    },\n    async getDetailStroeInfo() {\n      try {\n        const response = await taskStore.getSelectTasks(\"v1/branch/list\");\n        console.log(\"Courses loaded:\", JSON.stringify(response));\n        if (!response || response === undefined) {\n          alert(\"로그인을 다시 해주세요.\");\n        } else {\n          this.venues = this.transformBranchesData(response); // 데이터 변환\n          this.limitVenue = this.transformBranchesData(response); // 배포용\n          this.getCurrentLocation();\n        }\n      } catch (error) {\n        console.error(\"Error loading courses:\", error);\n        alert(\"매장데이터 조회 실패했습니다. 서버 오류를 확인하세요.\");\n      }\n    },\n    filterVenuesByRegion() {\n      console.log(\"Selected Region:\", this.selectedRegion); // 선택한 지역 출력\n      if (!this.selectedRegion) {\n        console.log(\"전체 지역 선택됨\");\n        this.getDetailStroeInfo(); // 전체 매장 목록을 다시 불러옴\n        return;\n      }\n      let filteredVenues = this.venues;\n\n      // 지역 필터링\n      if (this.selectedRegion) {\n        filteredVenues = this.venues.filter(\n          (venue) => venue.region === this.selectedRegion\n        );\n        // 필터링된 매장 출력\n      }\n\n      console.log(\"Filtered Venues:\", filteredVenues);\n      if (filteredVenues.length > 0) {\n        // 데이터 변환\n        const transformedVenues = this.transformBranchesData(filteredVenues);\n        console.log(\"Transformed Venues:\", transformedVenues); // 변환된 매장 데이터 출력\n\n        // 현재 위치\n        const currentLocation = this.location;\n        console.log(\"Current Location:\", currentLocation); // 현재 위치 출력\n\n        // 가까운 매장 계산\n        const closestBranches = this.findClosestBranch(\n          currentLocation,\n          transformedVenues\n        );\n\n        // 가장 가까운 매장\n        if (closestBranches.length > 1) {\n          const closestShop = closestBranches[1]; // 현재 위치 제외한 가장 가까운 매장\n          console.log(\"Closest Shop:\", closestShop); // 가장 가까운 매장 콘솔 출력\n\n          // 지도 중심 업데이트 및 마커 표시\n          this.updateMapWithClosestShop(closestShop);\n        } else {\n          console.log(\"No closest shop found.\");\n        }\n\n        // 화면에 표시할 매장 설정\n        this.limitVenue = closestBranches.slice(1, 5); // 현재 위치 제외하고 4개 선택\n      } else {\n        console.log(\"No venues found in selected region.\"); // 선택한 지역에 매장이 없을 경우\n        this.limitVenue = [];\n        this.naverInitMap(); // 지도 초기화\n        alert(\"선택한 지역에 매장이 없습니다.\");\n      }\n    },\n    updateMapWithClosestShop(closestShop) {\n      console.log(\"Updating map with closest shop:\", closestShop);\n\n      // Naver Map 생성 또는 업데이트\n      const map = new naver.maps.Map(\"map\", {\n        center: new naver.maps.LatLng(\n          closestShop.location.latitude,\n          closestShop.location.longitude\n        ),\n        zoom: 16, // 적절한 줌 레벨\n      });\n      const currentLocationMarker = new naver.maps.Marker({\n        position: new naver.maps.LatLng(this.location.lat, this.location.lng),\n        map: map,\n        title: \"현재 위치\", // 마커 타이틀\n        icon: {\n          content: `\n        <div style=\"\n          background-color: #D30F1A;\n          width: 24px;\n          height: 24px;\n          border-radius: 50%;\n          border: 2px solid white;\n          box-shadow: 0 0 5px rgba(0,0,0,0.3);\n        \"></div>\n      `,\n        },\n      });\n      // 가장 가까운 매장 위치에 기본 네이버 마커 추가\n      const marker = new naver.maps.Marker({\n        position: new naver.maps.LatLng(\n          closestShop.location.latitude,\n          closestShop.location.longitude\n        ),\n        map: map, // 마커가 추가될 지도\n      });\n\n      console.log(\"Naver Marker added at:\", closestShop.location);\n\n      // 인포윈도우 생성\n      const infoWindow = new naver.maps.InfoWindow({\n        content: `<div style=\"padding:10px; cursor:pointer;\">${closestShop.name}</div>`, // 매장 이름 표시\n      });\n\n      // 마커 클릭 이벤트 추가\n      naver.maps.Event.addListener(marker, \"click\", () => {\n        infoWindow.open(map, marker); // 인포윈도우 열기\n\n        // 인포윈도우 클릭 이벤트 추가\n        const infoElement = document.querySelector(`.gm-style div[title=\"${closestShop.name}\"]`);\n        if (infoElement) {\n          infoElement.addEventListener(\"click\", () => {\n            console.log(\"InfoWindow clicked for:\", closestShop.name);\n            this.$router.push({\n              name: \"reservation-write\",\n              params: {\n                name: closestShop.name,\n                branchId: closestShop.branchId,\n                address: closestShop.address,\n                weekdayHours: closestShop.weekdayHours,\n                weekendHours: closestShop.weekendHours,\n                mapImage: closestShop.mapImage,\n                managerid: closestShop.managerid,\n                storeScale: closestShop.storeScale,\n                location: {\n                  latitude: closestShop.location.latitude,\n                  longitude: closestShop.location.longitude,\n                },\n              },\n            });\n          });\n        }\n      });\n\n      // 지도 중심 위치로 이동\n      map.setCenter(new naver.maps.LatLng(\n        closestShop.location.latitude,\n        closestShop.location.longitude\n      ));\n    },\n    // 주변 반경 찾기 로직\n    calculateDistance(lat1, lng1, lat2, lng2) {\n      const toRad = (value) => (value * Math.PI) / 180;\n      const R = 6371; // Earth's radius in kilometers\n      const dLat = toRad(lat2 - lat1);\n      const dLng = toRad(lng2 - lng1);\n      const a =\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n        Math.cos(toRad(lat1)) *\n        Math.cos(toRad(lat2)) *\n        Math.sin(dLng / 2) *\n        Math.sin(dLng / 2);\n      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n      return R * c; // Distance in kilometers\n    },\n\n    findClosestBranch(currentLocation, branches) {\n      console.log(\"Calculating distances from:\", currentLocation); // 현재 위치 출력\n      console.log(\"Branches to calculate:\", branches); // 계산 대상 매장 출력\n\n      const branchesWithDistance = branches.map((branch) => {\n        const distance = this.calculateDistance(\n          currentLocation.lat,\n          currentLocation.lng,\n          branch.location.latitude,\n          branch.location.longitude\n        );\n        console.log(`Distance to ${branch.name}: ${distance} km`); // 각 매장 거리 출력\n        return { ...branch, distance };\n      });\n\n      const sortedBranches = branchesWithDistance.sort(\n        (a, b) => a.distance - b.distance\n      );\n      console.log(\"Sorted Branches by Distance:\", sortedBranches); // 정렬된 매장 출력\n\n      return [\n        {\n          name: \"현재 위치\",\n          location: {\n            latitude: currentLocation.lat,\n            longitude: currentLocation.lng,\n          },\n          distance: 0,\n        },\n        ...sortedBranches,\n      ];\n    },\n    // 주변 매장 탐색\n    callArround() {\n      const currentLocation = { lat: 37.5583761, lng: 126.8345277 };\n      const branches = [\n        {\n          branchId: \"branch001\",\n          name: \"서울 지점\",\n          location: { latitude: 37.5, longitude: 127.0364 },\n        },\n        {\n          branchId: \"branch0010\",\n          name: \"델리케밥\",\n          location: {\n            latitude: 37.55965189952221,\n            longitude: 126.83222565575036,\n          },\n        },\n        {\n          branchId: \"branch0001\",\n          name: \"델리케밥0\",\n          location: {\n            latitude: 37.56006592349469,\n            longitude: 126.83523518132029,\n          },\n        },\n        {\n          branchId: \"branch101\",\n          name: \"델리케밥1\",\n          location: {\n            latitude: 37.56128049081266,\n            longitude: 126.8394164423239,\n          },\n        },\n        {\n          branchId: \"branch201\",\n          name: \"델리케밥2\",\n          location: {\n            latitude: 37.56080374714247,\n            longitude: 126.82919239989074,\n          },\n        },\n        {\n          branchId: \"branch301\",\n          name: \"델리케밥3\",\n          location: {\n            latitude: 37.556785357670286,\n            longitude: 126.8369964659211,\n          },\n        },\n        {\n          branchId: \"branch401\",\n          name: \"델리케밥4\",\n          location: {\n            latitude: 37.56009802237206,\n            longitude: 126.83171172240971,\n          },\n        },\n        {\n          branchId: \"branch501\",\n          name: \"델리케밥5\",\n          location: {\n            latitude: 37.559176533344726,\n            longitude: 126.8314024154255,\n          },\n        },\n        {\n          branchId: \"branch601\",\n          name: \"델리케밥6\",\n          location: {\n            latitude: 37.56138036084911,\n            longitude: 126.82090267531436,\n          },\n        },\n\n        {\n          branchId: \"branch002\",\n          name: \"부산 지점\",\n          location: { latitude: 31.5, longitude: 117.0364 },\n        },\n      ];\n      const closestBranch = this.findClosestBranch(currentLocation, branches);\n      console.log(\"Closest Branch:\", closestBranch);\n    },\n    // 데이터 변환\n    transformBranchesData(data) {\n      return data.map((branch) => {\n        return {\n          ...branch,\n          branchId: branch.id,\n          location: {\n            latitude: branch.latitude || 37.56128049081266, // 기본값 사용\n            longitude: branch.longitude || 126.8394164423239, // 기본값 사용\n          },\n        };\n      });\n    },\n    // 네이버 지도 로드\n    loadNaverMap() {\n      // Naver Maps API 로드 확인\n      if (typeof naver !== \"undefined\") {\n        this.naverInitMap();\n      } else {\n        // 로드되지 않았으면 다시 확인\n        const checkNaverMap = setInterval(() => {\n          if (typeof naver !== \"undefined\") {\n            clearInterval(checkNaverMap);\n            this.naverInitMap();\n          }\n        }, 100); // 100ms 간격으로 확인\n      }\n    },\n    // 네이버 지도 로드\n    naverInitMap() {\n      console.log(\"진행중입니다.\");\n      console.log(this.location);\n\n      // Naver Map 생성\n      const map = new naver.maps.Map(\"map\", {\n        center: new naver.maps.LatLng(\n          this.location.lat, // 지도 중심을 약간 아래로 이동\n          this.location.lng\n        ),\n        zoom: 16, // 적절한 줌 레벨\n      });\n\n      // 현재 위치 마커 추가\n      const currentLocationMarker = new naver.maps.Marker({\n        position: new naver.maps.LatLng(this.location.lat, this.location.lng),\n        map: map,\n        icon: {\n          content: `\n      <div style=\"\n        background-color: #D30F1A;\n        width: 24px;\n        height: 24px;\n        border-radius: 50%;\n        border: 2px solid white;\n        box-shadow: 0 0 5px rgba(0,0,0,0.3);\n      \"></div>\n      `,\n        },\n      });\n      console.log(\"Current location marker added.\");\n\n      // 가까운 매장 찾기\n      const closestBranch = this.findClosestBranch(\n        this.location,\n        this.limitVenue\n      );\n\n      // 마커 및 인포윈도우 추가\n      closestBranch.forEach((branch, index) => {\n        const marker = new naver.maps.Marker({\n          position: new naver.maps.LatLng(\n            branch.location.latitude,\n            branch.location.longitude\n          ),\n          map: map,\n          icon:\n            index === 0\n              ? {\n                content: `\n          <div style=\"\n            background-color: #D30F1A;\n            width: 24px;\n            height: 24px;\n            border-radius: 50%;\n            border: 2px solid white;\n            box-shadow: 0 0 5px rgba(0,0,0,0.3);\n          \"></div>\n          `,\n              }\n              : null,\n        });\n\n        // 인포윈도우 내용 설정\n        const infoWindow = new naver.maps.InfoWindow({\n          content: `<div id=\"info-${branch.branchId}\" style=\"padding:10px; cursor: pointer;\">${branch.name}</div>`, // 고유 ID 추가\n        });\n\n        // 마커 클릭 이벤트\n        naver.maps.Event.addListener(marker, \"click\", () => {\n          infoWindow.open(map, marker);\n\n          setTimeout(() => {\n            const infoElement = document.getElementById(\n              `info-${branch.branchId}`\n            );\n            if (infoElement) {\n              infoElement.addEventListener(\"click\", () => {\n                console.log(\"InfoWindow content clicked:\", branch.name);\n                this.$router.push({\n                  name: \"reservation-write\",\n                  params: {\n                    name: branch.name,\n                    branchId: branch.branchId,\n                    address: branch.address,\n                    weekdayHours: branch.weekdayHours,\n                    weekendHours: branch.weekendHours,\n                    mapImage: branch.mapImage,\n                    managerid: branch.managerid,\n                    storeScale: branch.storeScale,\n                    location: {\n                      latitude: branch.location.latitude,\n                      longitude: branch.location.longitude,\n                    },\n                  },\n                });\n              });\n            }\n          }, 0); // InfoWindow가 DOM에 렌더링된 후 실행\n        });\n      });\n\n      // 가까운 매장만 리스트 업데이트\n      this.limitVenue = closestBranch.slice(1, 5);\n    },\n    /// 구글 지도 로드\n    async initializeMap() {\n      const loader = new Loader({\n        apiKey: \"AIzaSyCDIXWiutjxK5qjCATUyKIL5Sd13E-LSUs\", // 생성한 API 키로 교체\n        version: \"weekly\",\n      });\n\n      console.log(this.location);\n      console.log(\"JSOPN : : : \", JSON.stringify(this.location));\n      await loader.load();\n      this.map = new google.maps.Map(this.$refs.mapContainer, {\n        // center: this.location,35.869368,128.599230\n        center: { lat: 35.869368, lng: 128.59923 }, // 초기 지도 중심 좌표 (예: 샌프란시스코)\n        zoom: 15,\n      });\n\n      console.log(\"this.location: : : : : : : \", this.location);\n      // const closestBranch = this.findClosestBranch(currentLocation, branches);\n      const closestBranch = this.findClosestBranch(this.location, this.venues);\n      console.log(\"Closest Branch:\", closestBranch);\n\n      // 매장명 보이기\n      const infoWindow = new google.maps.InfoWindow();\n      this.limitVenue = closestBranch.slice(1, 5);\n      // this.venues = closestBranch.slice(1, 5);\n\n      // 모든 지점에 대해 마커 추가 및 클릭 이벤트 설정\n      closestBranch.forEach((branch, index) => {\n        const marker = new google.maps.Marker({\n          position: {\n            lat: branch.location.latitude,\n            lng: branch.location.longitude,\n          },\n          map: this.map,\n          title: branch.name, // 타이틀 설정\n          icon:\n            index === 0\n              ? \"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\"\n              : null, // 현재 위치 마커는 파란색\n        });\n\n        // 마커 클릭 시 InfoWindow에 타이틀 표시\n        marker.addListener(\"click\", () => {\n          infoWindow.setContent(branch.name); // 지점 이름을 InfoWindow에 설정\n          infoWindow.open(this.map, marker); // InfoWindow를 마커 위치에 표시\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped src=\"@/style/shop/maplist.css\" />\n"]}]}