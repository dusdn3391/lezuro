{"remainingRequest":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/vue/lezuro_all/src/components/manager/NicePay.vue?vue&type=style&index=0&id=577ff5ae&lang=css","dependencies":[{"path":"/usr/vue/lezuro_all/src/components/manager/NicePay.vue","mtime":1734510649821},{"path":"/usr/vue/lezuro_all/node_modules/css-loader/dist/cjs.js","mtime":1728542747276},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1728542748492},{"path":"/usr/vue/lezuro_all/node_modules/postcss-loader/src/index.js","mtime":1728542747992},{"path":"/usr/vue/lezuro_all/node_modules/cache-loader/dist/cjs.js","mtime":1728542746732},{"path":"/usr/vue/lezuro_all/node_modules/vue-loader/lib/index.js","mtime":1728542748492}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cmh0bWwsCmJvZHkgewogIGhlaWdodDogMTAwJTsKfQpmb3JtIHsKICBvdmVyZmxvdzogaGlkZGVuOwp9Cg=="},{"version":3,"sources":["NicePay.vue"],"names":[],"mappings":";AAmHA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NicePay.vue","sourceRoot":"src/components/manager","sourcesContent":["<template>\n  <div>\n    <form ref=\"payForm\" @submit.prevent=\"submitForm\">\n      <table>\n        <tr>\n          <th>결제 수단</th>\n          <td><input type=\"text\" v-model=\"formData.PayMethod\" /></td>\n        </tr>\n        <tr>\n          <th>결제 상품명</th>\n          <td><input type=\"text\" v-model=\"formData.GoodsName\" /></td>\n        </tr>\n        <tr>\n          <th>결제 상품금액</th>\n          <td><input type=\"text\" v-model=\"formData.Amt\" /></td>\n        </tr>\n        <tr>\n          <th>상점 아이디</th>\n          <td><input type=\"text\" v-model=\"formData.MID\" /></td>\n        </tr>\n        <tr>\n          <th>상품 주문번호</th>\n          <td><input type=\"text\" v-model=\"formData.Moid\" /></td>\n        </tr>\n        <tr>\n          <th>구매자명</th>\n          <td><input type=\"text\" v-model=\"formData.BuyerName\" /></td>\n        </tr>\n        <tr>\n          <th>구매자명 이메일</th>\n          <td><input type=\"text\" v-model=\"formData.BuyerEmail\" /></td>\n        </tr>\n        <tr>\n          <th>구매자 연락처</th>\n          <td><input type=\"text\" v-model=\"formData.BuyerTel\" /></td>\n        </tr>\n        <tr>\n          <th>인증완료 결과처리 URL</th>\n          <td><input type=\"text\" v-model=\"formData.ReturnURL\" /></td>\n        </tr>\n        <tr>\n          <th>가상계좌입금만료일</th>\n          <td><input type=\"text\" v-model=\"formData.SignData\" disabled /></td>\n        </tr>\n      </table>\n      <button type=\"button\" @click=\"nicepayStart\">요 청</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport crypto from \"crypto-browserify\";\n\nexport default {\n  data() {\n    return {\n      merchantKey: \"33F49GnCMS1mFYlGXisbUDzVf2ATWCl9k3R++d5hDd3Frmuos/XLx8XhXpe+LDYAbpGKZYSwtlyyLOtS/8aD7A==\",\n      formData: {\n        PayMethod: \"\",\n        GoodsName: \"나이스페이-예제상품\",\n        Amt: \"1000\",\n        MID: \"nictest00m\",\n        Moid: \"mnoid154353114\",\n        BuyerName: \"나이스\",\n        BuyerEmail: \"cklhbj11@gmail.com\",\n        BuyerTel: \"01096651354\",\n        ReturnURL: \"https://www.talktalkboard.com/api/nicePay.php\",\n        SignData: \"\",\n        EdiDate: \"\"\n      }\n    };\n  },\n  methods: {\n    generateHash() {\n      const ediDate = new Date().toISOString().replace(/[-:.TZ]/g, \"\").slice(0, 14);\n      this.formData.EdiDate = ediDate;\n      const rawData = ediDate + this.formData.MID + this.formData.Amt + this.merchantKey;\n      this.formData.SignData = crypto\n        .createHash(\"sha256\")\n        .update(rawData)\n        .digest(\"hex\");\n    },\n    nicepayStart() {\n      this.generateHash();\n      this.goPay(this.$refs.payForm);\n    },\n    goPay(formElement) {\n      // Simulate calling the NicePay goPay function\n      console.log(\"goPay called with form:\", formElement);\n\n      // Apply background dimming\n      document.body.style.backgroundColor = \"rgba(0, 0, 0, 0.5)\";\n\n      // Simulate a delay for the payment process\n      setTimeout(() => {\n        this.nicepaySubmit();\n      }, 2000); // Example delay for demonstration\n    },\n    nicepaySubmit() {\n      alert(\"결제 프로세스가 완료되었습니다.\");\n      document.body.style.backgroundColor = \"\"; // Remove background dimming\n      // You can also handle the actual form submission here\n      console.log(\"Form submitted with data:\", this.formData);\n    },\n    submitForm() {\n      console.log(\"Submit form called\");\n    }\n  },\n  mounted() {\n    this.generateHash();\n  }\n};\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n}\nform {\n  overflow: hidden;\n}\n</style>\n"]}]}